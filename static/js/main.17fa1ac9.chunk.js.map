{"version":3,"sources":["serviceWorker.js","redux/ducks/errors.js","components/Button/index.js","common/Errors/index.js","components/Loader/index.js","components/Breadcrumbs/index.js","common/HomePage/index.js","common/NotFoundPage/index.js","auth/LoginForm/index.js","utils/constants.js","redux/ducks/helpers.js","redux/ducks/auth.js","auth/LoginPage/index.js","auth/LogoutPage/index.js","auth/SignupForm/index.js","auth/SignupPage/index.js","components/Select/index.js","redux/ducks/timezones.js","components/TimezoneSelect/index.js","auth/ProfileForm/index.js","redux/ducks/profile.js","auth/ProfilePage/index.js","auth/routes.js","components/Modal/index.js","redux/ducks/colors.js","components/ColorSelect/index.js","days-since/ActivityForm/index.js","utils/text.js","days-since/DaysSinceDisplay/index.js","days-since/utils.js","redux/ducks/activities.js","redux/ducks/activityEvents.js","days-since/ActivityItem/index.js","days-since/ActivityList/index.js","components/DatePicker/index.js","days-since/EventForm/index.js","components/DeleteForm/index.js","days-since/EventItem/index.js","redux/ducks/activityStatistics.js","days-since/EventList/index.js","days-since/ActivityStatistics/index.js","days-since/ActivityDetailPage/index.js","days-since/routes.js","days-since/ActivityListPage/index.js","time-cycles/CycleForm/index.js","time-cycles/CycleItem/index.js","redux/ducks/cycles.js","time-cycles/CycleList/index.js","redux/ducks/timers.js","utils/time.js","time-cycles/TimerForm/index.js","time-cycles/TimerItem/index.js","time-cycles/TimerList/index.js","time-cycles/TimerDisplay/index.js","time-cycles/CycleDetailPage/index.js","time-cycles/routes.js","time-cycles/CycleListPage/index.js","common/AppRouter/index.js","redux/rootReducer.js","redux/store.js","common/App/index.js","index.js","common/NotFoundPage/not-found.svg","days-since/ActivityList/empty.svg","days-since/EventList/empty.svg","time-cycles/CycleList/empty.svg","time-cycles/TimerList/empty.svg","time-cycles/TimerDisplay/ding.mp3"],"names":["Boolean","window","location","hostname","match","initialState","errors","closeErrorAction","id","type","payload","removeErrorAction","displayError","errorMessage","dispatch","uid","Date","now","toString","Math","random","substr","message","isVisible","setTimeout","selectErrors","state","errorsReducer","colors","sizes","Button","props","className","isLink","isRounded","size","color","icon","children","rest","classList","push","includes","contents","join","Errors","this","closeError","map","error","key","faTimes","onClick","Component","dispatchers","connect","Loader","Breadcrumbs","breadcrumbs","breadcrumb","i","title","length","faChevronRight","HomePage","Helmet","to","faUser","faSignOutAlt","faCalendar","faClock","NotFoundPage","src","notFound","alt","faChevronLeft","LoginForm","username","password","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","onSubmit","htmlFor","onChange","required","faPaperPlane","ROOT_URL","AUTH_URL","API_URL","MODAL_TYPES","STATUSES","METHODS","CREATE","RETRIEVE","UPDATE","DELETE","LIST","getActionTypes","actionName","actionNameUpper","toUpperCase","REQUEST","SUCCESS","FAILURE","createAction","createApiAction","entityName","status","method","createApiReducer","loading","items","item","itemId","action","actionTypePattern","actionEntityName","actionStatus","actionMethod","Object","values","filter","getTokenConfig","getState","headers","Authorization","authReducer","accessToken","displayErrorMsgOrUnauth","err","response","LOGIN_ACTIONS","SIGNUP_ACTIONS","refreshToken","Cookies","get","loginLoading","loginError","signupLoading","signupError","authLogin","axios","post","then","res","data","catch","selectRefreshToken","selectAccessToken","selectLoginLoading","selectLoginError","LogoutPage","logout","SignupForm","email","password2","alert","autoComplete","signup","Select","options","disabled","classNamePrefix","placeholder","components","IndicatorSeparator","find","option","tabIndex","style","opacity","height","padding","margin","TIMEZONES_ACTIONS","selectTimezonesLoading","timezonesReducer","selectTimezonesError","selectTimezones","listTimezones","timezones","timezonesLoading","timezonesError","useEffect","timezoneOptions","timezone","label","replace","isLoading","handleTimezoneChange","profile","faSave","profileReducer","selectProfileLoading","selectProfileError","selectProfile","retrieveProfile","updateProfile","patch","profileLoading","profileError","GUEST_AUTH_ROUTES","path","exact","component","LoginPage","SignupPage","USER_AUTH_ROUTES","ProfilePage","modalRoot","document","getElementById","Modal","handleKeyDown","keyCode","handleClose","onVisibilityChange","draftIsVisible","el","createElement","addEventListener","appendChild","removeEventListener","removeChild","finalIsVisible","undefined","ReactDOM","createPortal","COLORS_ACTIONS","listColors","selectColorsLoading","colorsReducer","selectColorsError","selectColors","dot","alignItems","display","backgroundColor","borderRadius","content","marginRight","width","colorStyles","styles","hex_code","singleValue","colorsLoading","colorsError","colorOptions","isSearchable","ActivityForm","description","frequency","reset","activity","handleColorChange","parseInt","maxLength","min","step","getTextWithBrs","text","lines","split","DaysSinceDisplay","canvasRef","useRef","days_since","daysLeft","clockDisplay","abs","getClockDisplay","percentage","max","startTime","canvas","current","ctx","getContext","draw","cx","cy","timeElapsed","multiplier","pow","sin","PI","globalCompositeOperation","clearRect","save","fillStyle","beginPath","moveTo","arc","lineTo","closePath","fill","restore","requestAnimationFrame","innerCircle","ref","EVENT_TYPES","EVENT_TYPE_OPTIONS","getFrequencyDisplay","round","activitiesReducer","selectActivitiesLoading","selectActivitiesError","selectActivities","selectActivityLoading","selectActivityError","selectActivity","selectActivityId","activityEventsReducer","selectActivityEventsLoading","selectActivityEventsError","selectActivityEvents","getLastEventTypeDisplay","last_event_type","getDaysSinceDisplay","floor","ActivityItem","forwardRef","todays_event","performEvent","eventDisplay","faCheck","aria-label","faForward","activityId","event_type","ActivityListPage","handleVisibilityChange","openCreateModal","activityFormRef","handleCreateActivity","createActivity","mapActivitiesToActivityItems","activities","colorId","listActivities","activitiesLoading","activitiesError","activitiesSplitByFrequency","reduce","acc","true","false","sort","a","b","faPlus","empty","activityForm","DatePicker","formatDate","date","format","moment","parseDate","str","toDate","onDayChange","inputProps","onKeyDown","EventForm","event","handleEventTypeChange","handleDateChange","disabledDates","dayPickerProps","disabledDays","DeleteForm","faTrash","EventItem","isEditable","openEditModal","openDeleteModal","dateStr","faQuestion","faEdit","ACTIVITYSTATS_ACTIONS","retrieveActivityStatistics","selectActivityStatisticsLoading","activityStatisticsReducer","selectActivityStatisticsError","selectActivityStatistics","EventList","modalEvent","modal","openModal","createFormRef","editFormRef","handleCreateEvent","createActivityEvent","handleEditEvent","updateActivityEvent","handleDeleteEvent","isConfirm","deleteActivityEvent","listActivityEvents","activityEvents","activityEventsLoading","activityEventsError","reverse","visibility","createForm","editForm","activityEventId","delete","activityStatistics","activityStatisticsLoading","activityStatisticsError","average_frequency","total_count","completed_count","skipped_count","toFixed","ActivityDetailPage","handleEditActivity","updateActivity","handleDeleteActivity","deleteActivity","params","retrieveActivity","activityLoading","activityError","ROUTES","ActivityList","CycleForm","cycle","CycleItem","total_duration","cyclesReducer","selectCyclesLoading","selectCyclesError","selectCycles","selectCycleLoading","selectCycleError","selectCycle","selectCycleId","CycleList","modalCycle","handleCreateCycle","createCycle","handleEditCycle","updateCycle","handleDeleteCycle","deleteCycle","listCycles","cycles","cyclesLoading","cyclesError","cycleId","timersReducer","selectTimersLoading","selectTimersError","selectTimers","durationStrToSec","durationStr","duration","asSeconds","durationSecToMMss","durationSec","v","durationStrToMMss","pattern","TimerItem","timer","isCurrentTimer","moveUpTimer","moveDownTimer","faChevronUp","faChevronDown","TimerList","modalTimer","handleCreateTimer","createTimer","handleEditTimer","updateTimer","handleDeleteTimer","deleteTimer","currentTimer","timers","setEditable","currentTimerId","timerElements","currentTimerIndex","findIndex","slice","concat","easing","timerId","TimerDisplay","nonce","timerEvents","autoPlay","sound","getSecondsLeft","endTime","getCurrentDuration","getTimeDisplay","secondsLeft","isPaused","tick","pause","Audio","ding","play","changeTimer","updateCanvas","next","newTimer","getNextTimer","getPreviousTimer","clearInterval","interval","setInterval","stop","clearCurrentTimer","isDisabled","faStepBackward","faPlay","faPause","faStop","faStepForward","faLink","faUnlink","faVolumeUp","faVolumeMute","CycleDetailPage","getTimer","timersLoading","timersError","retrieveCycle","listTimers","cycleLoading","cycleError","RedirectToNext","URLSearchParams","search","AppRouter","refreshTokenLogin","route","from","allRoutes","DAYS_SINCE_ROUTES","TIME_CYCLES_ROUTES","refresh","combineReducers","access","set","remove","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","App","render","navigator","serviceWorker","ready","registration","unregister","console","module","exports"],"mappings":"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","file":"static/js/main.17fa1ac9.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// ACTION TYPES\nconst ERROR_DISPLAY = 'ERROR_DISPLAY';\nconst ERROR_CLOSE = 'ERROR_CLOSE';\nconst ERROR_REMOVE = 'ERROR_REMOVE';\n\n// REDUCER\nconst initialState = {\n    errors: [],\n};\n\nexport default function(state = initialState, action) {\n    switch (action.type) {\n        case ERROR_DISPLAY:\n            return {\n                ...state,\n                errors: [...state.errors, action.payload],\n            }\n\n        case ERROR_CLOSE:\n            return {\n                ...state,\n                errors: state.errors.map(error => error.id === action.payload ? { ...error, isVisible: false } : error),\n            }\n        \n        case ERROR_REMOVE:\n            return {\n                ...state,\n                errors: state.errors.filter(error => error.id !== action.payload),\n            }\n\n        default:\n            return state;\n    }\n};\n\n// ACTION CREATORS\nfunction displayErrorAction(error) {\n    return {\n        type: ERROR_DISPLAY,\n        payload: error,\n    }\n}\n\nfunction closeErrorAction(id) {\n    return {\n        type: ERROR_CLOSE,\n        payload: id,\n    }\n}\n\nfunction removeErrorAction(id) {\n    return {\n        type: ERROR_REMOVE,\n        payload: id,\n    }\n}\n\n// OPERATIONS\nexport const displayError = errorMessage => dispatch => {\n    // Generate unique ID\n    const uid = Date.now().toString(36) + Math.random().toString(36).substr(2);\n\n    dispatch(displayErrorAction({\n        id: uid,\n        message: errorMessage,\n        isVisible: true,\n    }));\n\n    // Dismiss error after 3 seconds\n    setTimeout(() => dispatch(closeErrorAction(uid)), 3000);\n\n    // Delete error after 5 seconds\n    setTimeout(() => dispatch(removeErrorAction(uid)), 5000);\n};\n\nexport const closeError = id => dispatch => {\n    dispatch(closeErrorAction(id));\n\n    // Delete error after 2 seconds\n    setTimeout(() => dispatch(removeErrorAction(id)), 2000);\n};\n\n// SELECTORS\nexport const selectErrors = state => state.errorsReducer.errors;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport './index.scss';\n\nconst colors = [\n\t'dark-grey',\n\t'medium-grey',\n\t'faded-grey',\n\t'white',\n\t'blue',\n\t'red',\n\t'green',\n\t'purple',\n];\n\nconst sizes = [\n\t'sm',\n\t'md',\n]\n\nexport default function Button(props) {\n\tconst {\n\t\tclassName,\n\t\tisLink,\n\t\tisRounded,\n\t\tsize,\n\t\tcolor,\n\t\ticon,\n\t\tchildren,\n\t\t...rest\n\t} = props;\n\n\tvar classList = ['btn'];\n\n\tif (className)\n\t\tclassList.push(className);\n\t\n\t// Shape\n\tif (isRounded)\n\t\tclassList.push('btn-rounded');\n\t\n\t// Size\n\tif (sizes.includes(size) && color !== 'md')\n\t\tclassList.push(`btn-${size}`);\n\n\t// Color\n\tif (colors.includes(color) && color !== 'dark-grey')\n\t\tclassList.push(`btn-${color}`);\n\n\tconst contents = (\n\t\t<>\n\t\t\t{icon && <FontAwesomeIcon className={children ? \"mr-10\" : \"\"} icon={icon} />}\n\t\t\t{children}\n\t\t</>\n\t)\n\t\n\tif (isLink) {\n\t\treturn (\n\t\t\t<Link className={classList.join(\" \")} {...rest}>\n\t\t\t\t{contents}\n\t\t\t</Link>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<button className={classList.join(\" \")} {...rest}>\n\t\t\t\t{contents}\n\t\t\t</button>\n\t\t)\n\t}\n}\n\nButton.propTypes = {\n\tclassName: PropTypes.string,\n\tisLink: PropTypes.bool,\n\tisRounded: PropTypes.bool,\n\ticon: PropTypes.object,\n\tsize: PropTypes.oneOf(sizes),\n\tcolor: PropTypes.oneOf(colors),\n\tchildren: PropTypes.any,\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport { closeError, selectErrors } from '../../redux/ducks/errors';\nimport './index.scss';\nimport Button from '../../components/Button';\n\nexport class Errors extends Component {\n\trender() {\n\t\tconst {\n\t\t\terrors,\n\t\t\tcloseError,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"error-wrapper\">\n\t\t\t\t{\n\t\t\t\t\terrors.map(error => {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tisVisible,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t} = error;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className={`box error${isVisible ? \"\" : \" error-hide\"}`} key={id}>\n\t\t\t\t\t\t\t\t<div className=\"error-header\">\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">Error</p>\n\t\t\t\t\t\t\t\t\t<Button className=\"error-close-button\" color=\"white\" icon={faTimes} onClick={() => closeError(id)} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"m-0\">{message}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nErrors.propTypes = {\n\terrors: PropTypes.array.isRequired,\n\tcloseError: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\terrors: selectErrors(state),\n});\n\nconst dispatchers = {\n\tcloseError,\n};\n\nexport default connect(mapStateToProps, dispatchers)(Errors);\n","import React from 'react';\nimport './index.scss';\n\nexport default function Loader() {\n    return (\n        <div className=\"loader\"></div>\n    )\n}\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nexport default function Breadcrumbs(props) {\n\tconst {\n\t\tbreadcrumbs,\n\t\t...rest\n\t} = props;\n\n\treturn (\n\t\t<p {...rest}>\n\t\t\t{\n\t\t\t\tbreadcrumbs.map((breadcrumb, i) => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t...rest\n\t\t\t\t\t} = breadcrumb;\n\n\n\t\t\t\t\tif (i < breadcrumbs.length - 1) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Fragment key={i}>\n\t\t\t\t\t\t\t\t<Link {...rest}>{title}</Link>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faChevronRight} className=\"mx-5\" />\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn <span key={i} {...rest}>{title}</span>;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t</p>\n\t)\n}\n","import React from 'react';\nimport { faClock, faUser, faSignOutAlt, faCalendar } from '@fortawesome/free-solid-svg-icons';\nimport { Helmet } from \"react-helmet\";\n\nimport Button from '../../components/Button';\nimport Breadcrumbs from '../../components/Breadcrumbs';\n\nexport default function HomePage() {\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Productivity Tools</title>\n\t\t\t</Helmet>\n\t\t\t<Breadcrumbs\n\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t{ title: \"Home\" },\n\t\t\t\t]} />\n\t\t\t<h1>Welcome to Productivity Tools!</h1>\n\t\t\t<div className=\"mb-30 btn-group\">\n\t\t\t\t<Button isLink={true} to=\"/profile\" icon={faUser}>Profile</Button>\n\t\t\t\t<Button isLink={true} to=\"/logout\" color=\"faded-grey\" icon={faSignOutAlt}>Log Out</Button>\n\t\t\t</div>\n\t\t\t<div className=\"btn-group btn-group-vertical\">\n\t\t\t\t<Button isLink={true} to=\"/days-since\" color=\"blue\" icon={faCalendar}>Days Since</Button>\n\t\t\t\t<Button isLink={true} to=\"/time-cycles\" color=\"purple\" icon={faClock}>Time Cycles</Button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React from 'react';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { Helmet } from \"react-helmet\";\n\nimport notFound from './not-found.svg';\nimport Button from '../../components/Button';\n\nexport default function NotFoundPage() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Not Found</title>\n\t\t\t</Helmet>\n\t\t\t<div className=\"center mt-40\">\n\t\t\t\t<img src={notFound} alt=\"Creatures hiding behind trees\" />\n\t\t\t\t<div className=\"mb-20\">\n\t\t\t\t\t<h1>404 Not Found</h1>\n\t\t\t\t\t<p>Sorry, we can't seem to find the page that you're looking for.</p>\n\t\t\t\t</div>\n\t\t\t\t<Button isLink={true} to=\"/\" icon={faChevronLeft}>Return to Home</Button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\n\nexport default class LoginForm extends Component {\n\tstate = {\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\tusername,\n\t\t\tpassword,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"username\">Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nLoginForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};","export const ROOT_URL = 'https://rtkleong10-productivity-tools.herokuapp.com';\n// export const ROOT_URL = 'http://127.0.0.1:8000';\n\nexport const AUTH_URL = `${ROOT_URL}/auth`;\nexport const API_URL = `${ROOT_URL}/api`;\n\nexport const MODAL_TYPES = {\n\tCREATE: 'createModalVisible',\n\tEDIT: 'editModalVisible',\n\tDELETE: 'deleteModalVisible',\n}","import { displayError } from \"./errors\"\n\n// ACTIONS\nexport const STATUSES = {\n    REQUEST: 'REQUEST',\n    SUCCESS: 'SUCCESS',\n    FAILURE: 'FAILURE',\n}\n\nexport const METHODS = {\n    CREATE: 'CREATE',\n    RETRIEVE: 'RETRIEVE',\n    UPDATE: 'UPDATE',\n    DELETE: 'DELETE',\n    LIST: 'LIST',\n}\n\nexport function getActionTypes(actionName) {\n    const actionNameUpper = actionName.toUpperCase()\n\t\n    return {\n        REQUEST: `${actionNameUpper}_${STATUSES.REQUEST}`,\n\t\tSUCCESS: `${actionNameUpper}_${STATUSES.SUCCESS}`,\n\t\tFAILURE: `${actionNameUpper}_${STATUSES.FAILURE}`,\n    }\n};\n\nexport function createAction(type, payload = null) {\n\treturn {\n\t\ttype,\n\t\tpayload,\n\t}\n};\n\nexport function createApiAction(entityName, status, method, payload) {\n    return {\n        type: `${entityName.toUpperCase()}_${status}_${method}`,\n        payload: payload\n    }\n}\n\n// REDUCER\nexport function createApiReducer(entityName, id=\"id\") {\n    const initialState = {\n        loading: {\n            [METHODS.CREATE]: true,\n            [METHODS.RETRIEVE]: true,\n            [METHODS.UPDATE]: true,\n            [METHODS.DELETE]: true,\n            [METHODS.LIST]: true,\n        },\n\t\terror: {\n\t\t\t[METHODS.CREATE]: null,\n            [METHODS.RETRIEVE]: null,\n            [METHODS.UPDATE]: null,\n            [METHODS.DELETE]: null,\n            [METHODS.LIST]: null,\n\t\t},\n        items: [],\n        item: null,\n        itemId: null,\n    };\n\n    return function reducer(state = initialState, action) {\n        const actionTypePattern = /^(.+)_(.+)_(.+)$/;\n        const match = action.type.match(actionTypePattern);\n\n        if (!match)\n            return state;\n\n        const actionEntityName = match[1];\n        const actionStatus = match[2];\n        const actionMethod = match[3];\n\n        if (actionEntityName !== entityName.toUpperCase() || !Object.values(METHODS).includes(actionMethod))\n            return state;\n\n        switch (actionStatus) {\n            case STATUSES.REQUEST:\n                return {\n                    ...state,\n                    loading: {\n                        ...state.loading,\n                        [actionMethod]: true\n                    },\n                    error: {\n                        ...state.error,\n                        [actionMethod]: null\n                    },\n                    itemId: (action.payload) ? action.payload : state.itemId,\n                };\n\n            case STATUSES.SUCCESS:\n                switch (actionMethod) {\n                    case METHODS.CREATE:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false\n                            },\n                            items: [...state.items, action.payload],\n                        }\n\n                    case METHODS.RETRIEVE:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false\n                            },\n                            item: action.payload,\n                        }\n                        \n                    case METHODS.UPDATE:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false\n                            },\n                            items: state.items.map(item => (item[id] === action.payload[id]) ? { ...item, ...action.payload } : item),\n                            item: action.payload,\n                        }\n\n                    case METHODS.DELETE:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false,\n                            },\n                            error: {\n                                ...state.error,\n                                [METHODS.RETRIEVE]: state.item && state.item[id] === action.payload ? \"Deleted\" : state.error[METHODS.RETRIEVE],\n                            },\n                            items: state.items.filter(item => item[id] !== action.payload),\n                        }\n\n                    case METHODS.LIST:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false\n                            },\n                            items: action.payload,\n                        }\n\n                    default:\n                        return state;\n                }\n            \n            case STATUSES.FAILURE:\n                return {\n                    ...state,\n                    loading: {\n                        ...state.loading,\n                        [actionMethod]: false\n                    },\n                    error: {\n                        ...state.error,\n                        [actionMethod]: action.payload\n                    },\n                };\n\n            default:\n                return state;\n        }\n    }\n}\n\nexport const getTokenConfig = getState => {\n    const token = getState().authReducer.accessToken\n\n    const config = {\n        headers: {\n            Authorization: 'Bearer ' + token,\n        }\n    };\n\n    return config;\n}\n\nexport const displayErrorMsgOrUnauth = (err, dispatch, message) => {\n    if (err && err.response && err.response.status === 401)\n        displayError(\"Your session has expired. Please refresh the page.\")(dispatch);\n    else\n        displayError(message)(dispatch);\n}\n","import axios from 'axios';\nimport Cookies from 'js-cookie';\n\nimport { AUTH_URL } from '../../utils/constants';\nimport { getActionTypes, createAction } from './helpers';\nimport { displayError } from './errors';\n\n// ACTION TYPES\nexport const LOGIN_ACTIONS = getActionTypes('LOGIN');\nexport const SIGNUP_ACTIONS = getActionTypes('SIGNUP');\nexport const LOGOUT_ACTION = 'LOGOUT';\n\n// REDUCER\nconst initialState = {\n\taccessToken: null,\n\trefreshToken: Cookies.get(\"refreshToken\"),\n\tloginLoading: false,\n\tloginError: null,\n\tsignupLoading: false,\n\tsignupError: null,\n};\n\nexport default function authReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase LOGIN_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloginLoading: true,\n\t\t\t\tloginError: null,\n\t\t\t}\n\n\t\tcase LOGIN_ACTIONS.SUCCESS:\n\t\t\tconst {\n\t\t\t\taccess: accessToken,\n\t\t\t\trefresh: refreshToken,\n\t\t\t} = action.payload;\n\n\t\t\tCookies.set(\"refreshToken\", refreshToken);\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToken: accessToken,\n\t\t\t\trefreshToken: refreshToken,\n\t\t\t\tloginLoading: false,\n\t\t\t}\n\n\t\tcase LOGIN_ACTIONS.FAILURE:\n\t\t\tCookies.remove(\"refreshToken\");\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToken: null,\n\t\t\t\trefreshToken: null,\n\t\t\t\tloginLoading: false,\n\t\t\t\tloginError: action.payload,\n\t\t\t}\n\n\t\tcase SIGNUP_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsignupLoading: true,\n\t\t\t\tsignupError: null,\n\t\t\t}\n\n\t\tcase SIGNUP_ACTIONS.SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsignupLoading: false,\n\t\t\t}\n\n\t\tcase SIGNUP_ACTIONS.FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsignupLoading: false,\n\t\t\t\tsignupError: action.payload,\n\t\t\t}\n\n\t\tcase LOGOUT_ACTION:\n\t\t\tCookies.remove(\"refreshToken\");\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToken: null,\n\t\t\t\trefreshToken: null,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n}\n\n// OPERATIONS\nexport const authLogin = ({ username, password }) => dispatch => {\n\tdispatch(createAction(LOGIN_ACTIONS.REQUEST));\n\n\treturn axios.post(\n\t\t`${AUTH_URL}/jwt/create/`,\n\t\t{\n\t\t\tusername,\n\t\t\tpassword,\n\t\t}\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(LOGIN_ACTIONS.SUCCESS, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayError(\"Unable to log in.\")(dispatch);\n\t\t\tdispatch(createAction(LOGIN_ACTIONS.FAILURE, err));\n\t\t});\n};\n\nexport const refreshTokenLogin = () => (dispatch, getState) => {\n\tdispatch(createAction(LOGIN_ACTIONS.REQUEST));\n\tconst refreshToken = getState().authReducer.refreshToken;\n\n\treturn axios.post(\n\t\t`${AUTH_URL}/jwt/refresh/`,\n\t\t{\n\t\t\trefresh: refreshToken,\n\t\t}\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(LOGIN_ACTIONS.SUCCESS, {\n\t\t\t\t...res.data,\n\t\t\t\trefresh: refreshToken,\n\t\t\t}));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayError(\"Unable to log in.\")(dispatch);\n\t\t\tdispatch(createAction(LOGIN_ACTIONS.FAILURE, err));\n\t\t});\n};\n\nexport const signup = ({ email, username, password }) => dispatch => {\n\tdispatch(createAction(SIGNUP_ACTIONS.REQUEST));\n\n\treturn axios.post(\n\t\t`${AUTH_URL}/users/`,\n\t\t{\n\t\t\temail,\n\t\t\tusername,\n\t\t\tpassword,\n\t\t}\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(SIGNUP_ACTIONS.SUCCESS, res.data));\n\t\t\tauthLogin({ username, password })(dispatch);\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayError(\"Unable to sign up.\")(dispatch);\n\t\t\tdispatch(createAction(SIGNUP_ACTIONS.FAILURE, err));\n\t\t});\n};\n\nexport const logout = () => dispatch => {\n\tdispatch(createAction(LOGOUT_ACTION));\n};\n\n// SELECTORS\nexport const selectRefreshToken = state => state.authReducer.refreshToken;\nexport const selectAccessToken = state => state.authReducer.accessToken;\n\nexport const selectLoginLoading = state => state.authReducer.loginLoading;\nexport const selectLoginError = state => state.authReducer.loginError;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from \"react-helmet\";\n\nimport LoginForm from '../LoginForm';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authLogin } from '../../redux/ducks/auth';\n\nexport function LoginPage(props) {\n\tconst {\n\t\tauthLogin\n\t} = props;\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Log In</title>\n\t\t\t</Helmet>\n\t\t\t<h1>Log In</h1>\n\t\t\t<div className=\"box my-20\">\n\t\t\t\t<LoginForm onSubmit={authLogin} />\n\t\t\t</div>\n\t\t\t<p>Don't have an account? <Link to=\"/signup\">Sign up here</Link></p>\n\t\t</div>\n\t);\n}\n\nconst dispatchers = {\n    authLogin,\n};\n\nLoginPage.propTypes = {\n    authLogin: PropTypes.func.isRequired,\n};\n\nexport default connect(() => ({}), dispatchers)(LoginPage);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { Helmet } from \"react-helmet\";\n\nimport Button from '../../components/Button';\nimport { logout } from '../../redux/ducks/auth';\n\nexport class LogoutPage extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.logout();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>Logged Out</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<h1>You have logged out.</h1>\n\t\t\t\t<p>We hope you come back soon!</p>\n\t\t\t\t<Button isLink={true} to=\"/\" icon={faChevronLeft}>Return to Home</Button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst dispatchers = {\n    logout,\n};\n\nLogoutPage.propTypes = {\n    logout: PropTypes.func.isRequired,\n};\n\nexport default connect(() => ({}), dispatchers)(LogoutPage);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\n\nexport default class SignupForm extends Component {\n\tstate = {\n\t\temail: \"\",\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\tpassword2: \"\",\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\temail,\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tpassword2,\n\t\t} = this.state;\n\n\t\tif (password === password2) {\n\t\t\tthis.props.onSubmit({\n\t\t\t\temail,\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t});\n\n\t\t} else {\n\n\t\t\talert(\"Passwords don't match\");\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\temail,\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tpassword2,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tautoComplete=\"new-password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Confirm Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"password2\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={password2}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nSignupForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Helmet } from \"react-helmet\";\n\nimport SignupForm from '../SignupForm';\nimport { signup } from '../../redux/ducks/auth';\n\nexport function SignupPage(props) {\n\tconst {\n\t\tsignup,\n\t} = props;\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Sign Up</title>\n\t\t\t</Helmet>\n\t\t\t<h1>Sign Up</h1>\n\t\t\t<div className=\"box my-20\">\n\t\t\t\t<SignupForm onSubmit={signup} />\n\t\t\t</div>\n\t\t\t<p>Already have an account? <Link to=\"/login\">Log in here</Link></p>\n\t\t</div>\n\t)\n}\n\nconst dispatchers = {\n\tsignup,\n};\n\nexport default connect(() => ({}), dispatchers)(SignupPage);\n","import React from 'react';\nimport ReactSelect from 'react-select';\n\nimport './index.scss';\n\nexport default function Select(props) {\n\tconst {\n\t\toptions,\n\t\tvalue,\n\t\tonChange,\n\t\tdisabled,\n\t\trequired,\n\t\t...rest\n\t} = props;\n\n\treturn (\n\t\t<>\n\t\t\t<ReactSelect\n\t\t\t\tclassName=\"select-container\"\n\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\tplaceholder=\"Select an option\"\n\t\t\t\tcomponents={{ IndicatorSeparator: () => null }}\n\t\t\t\toptions={options}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tvalue={value ? options.find(option => option.value === value) : null}\n\t\t\t\tonChange={option => onChange(option.value)}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t\t{\n\t\t\t\t(!disabled && required) &&\n\t\t\t\t(\n\t\t\t\t\t<input\n\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tstyle={{ opacity: 0, height: 0, padding: 0, margin: 0 }}\n\t\t\t\t\t\tvalue={value ? value : \"\"}\n\t\t\t\t\t\tonChange={() => { }}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t</>\n\t);\n}\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { getActionTypes, createAction, displayErrorMsgOrUnauth } from './helpers';\n\n// ACTION TYPES\nexport const TIMEZONES_ACTIONS = getActionTypes('TIMEZONES');\n\n// REDUCER\nconst initialState = {\n\titems: [],\n\tloading: true,\n\terror: null,\n};\n\nexport default function timezonesReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase TIMEZONES_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t\terror: null,\n\t\t\t}\n\n\t\tcase TIMEZONES_ACTIONS.SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems: action.payload,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase TIMEZONES_ACTIONS.FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n}\n\n// OPERATIONS\nexport const listTimezones = () => dispatch => {\n\tdispatch(createAction(TIMEZONES_ACTIONS.REQUEST));\n\n\treturn axios.get(\n\t\t`${API_URL}/timezones/`,\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(TIMEZONES_ACTIONS.SUCCESS, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch timezones.\");\n\t\t\tdispatch(createAction(TIMEZONES_ACTIONS.FAILURE, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectTimezonesLoading = state => state.timezonesReducer.loading === true;\nexport const selectTimezonesError = state => state.timezonesReducer.error;\nexport const selectTimezones = state => state.timezonesReducer.items;\n","import React, { useEffect } from 'react';\nimport Select from '../Select';\nimport { connect } from 'react-redux';\n\nimport { listTimezones, selectTimezones, selectTimezonesLoading, selectTimezonesError } from '../../redux/ducks/timezones'; \n\nexport function TimezoneSelect(props) {\n\tconst {\n\t\ttimezones,\n\t\ttimezonesLoading,\n\t\tlistTimezones,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tlistTimezones()\n\t}, [listTimezones]);\n\t\n\tlet timezoneOptions = [];\n\t\n\tif (timezones) {\n\t\ttimezoneOptions = timezones.map(timezone => {\t\n\t\t\treturn {\n\t\t\t\tvalue: timezone,\n\t\t\t\tlabel: timezone.replace(\"_\", \" \"),\n\t\t\t};\n\t\t})\n\t}\n\n\treturn (\n\t\t<Select\n\t\t\tplaceholder=\"Select a timezone\"\n\t\t\tisLoading={timezonesLoading}\n\t\t\toptions={timezoneOptions}\n\t\t\t{...props}\n\t\t\t/>\n\t);\n}\n\nconst mapStateToProps = state => ({\n\ttimezones: selectTimezones(state),\n\ttimezonesLoading: selectTimezonesLoading(state),\n\ttimezonesError: selectTimezonesError(state),\n});\n\nconst dispatchers = {\n\tlistTimezones,\n};\n\nexport default connect(mapStateToProps, dispatchers)(TimezoneSelect);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faSave } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport TimezoneSelect from '../../components/TimezoneSelect';\n\nexport default class LoginForm extends Component {\n\tstate = {\n\t\ttimezone: null,\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tprofile: {\n\t\t\t\ttimezone,\n\t\t\t}\n\t\t} = this.props;\n\t\t\n\t\tthis.setState({\n\t\t\ttimezone,\n\t\t})\n\t}\n\n\thandleTimezoneChange = timezone => {\n\t\tthis.setState({\n\t\t\ttimezone,\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\ttimezone,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\ttimezone,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttimezone,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"timezone\">Timezone</label>\n\t\t\t\t\t<TimezoneSelect\n\t\t\t\t\t\tid=\"timezone\"\n\t\t\t\t\t\tonChange={this.handleTimezoneChange}\n\t\t\t\t\t\tvalue={timezone}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faSave}>Save</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nLoginForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'profile';\n\n// REDUCER\nconst profileReducer = createApiReducer(ENTITY_NAME);\nexport default profileReducer;\n\n// OPERATIONS\nexport const retrieveProfile = () => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch profile.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n\t\t});\n\t;\n};\n\nexport const updateProfile = ({ timezone }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE));\n\n\treturn axios.patch(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\t{\n\t\t\ttimezone,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to update profile.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectProfileLoading = state => state.profileReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectProfileError = state => state.profileReducer.error[METHODS.RETRIEVE];\nexport const selectProfile = state => state.profileReducer.item;\n","import React, { useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Helmet } from \"react-helmet\";\n\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Loader from '../../components/Loader';\nimport ProfileForm from '../ProfileForm';\nimport { retrieveProfile, updateProfile, selectProfile, selectProfileLoading, selectProfileError } from '../../redux/ducks/profile';\n\nexport function ProfilePage(props) {\n\tconst {\n\t\tretrieveProfile,\n\t\tupdateProfile,\n\t\tprofile,\n\t\tprofileLoading,\n\t\tprofileError,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tretrieveProfile();\n\t}, [retrieveProfile]);\n\n\tif (profileLoading)\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>Profile</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<Breadcrumbs\n\t\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t\t{ title: \"Profile\" },\n\t\t\t\t\t]} />\n\t\t\t\t<h1>Profile</h1>\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t);\n\n\tif (!profile || profileError)\n\t\treturn <Redirect to=\"/\" />;\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Profile</title>\n\t\t\t</Helmet>\n\t\t\t<Breadcrumbs\n\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t{ title: \"Profile\" },\n\t\t\t\t]} />\n\t\t\t<h1>Profile</h1>\n\t\t\t<ProfileForm profile={profile} onSubmit={updateProfile} />\n\t\t</div>\n\t)\n}\n\nconst mapStateToProps = state => ({\n\tprofile: selectProfile(state),\n\tprofileLoading: selectProfileLoading(state),\n\tprofileError: selectProfileError(state),\n});\n\nconst dispatchers = {\n\tretrieveProfile,\n\tupdateProfile,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ProfilePage);\n","import LoginPage from './LoginPage';\nimport LogoutPage from './LogoutPage';\nimport SignupPage from './SignupPage';\nimport ProfilePage from './ProfilePage';\n\nexport const GUEST_AUTH_ROUTES = [\n\t{\n\t\tpath: \"/login\",\n\t\texact: true,\n\t\tcomponent: LoginPage,\n\t},\n\t{\n\t\tpath: \"/signup\",\n\t\texact: true,\n\t\tcomponent: SignupPage,\n\t},\n\t{\n\t\tpath: \"/logout\",\n\t\texact: true,\n\t\tcomponent: LogoutPage,\n\t},\n];\n\nexport const USER_AUTH_ROUTES = [\n\t{\n\t\tpath: \"/logout\",\n\t\texact: true,\n\t\tcomponent: LogoutPage,\n\t},\n\t{\n\t\tpath: \"/profile\",\n\t\texact: true,\n\t\tcomponent: ProfilePage,\n\t},\n];\n","import ReactDOM from 'react-dom';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport './index.scss';\nimport Button from '../Button';\n\nconst ESCAPE_KEY = 27;\nconst modalRoot = document.getElementById('modal-root');\n\nexport class Modal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdraftIsVisible: false,\n\t\t};\n\n\t\tthis.el = document.createElement('div');\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener(\"keydown\", this.handleKeyDown);\n\t\tmodalRoot.appendChild(this.el);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener(\"keydown\", this.handleKeyDown);\n\t\tmodalRoot.removeChild(this.el);\n\t}\n\n\thandleKeyDown = e => {\n\t\tswitch (e.keyCode) {\n\t\t\tcase ESCAPE_KEY:\n\t\t\t\tthis.handleClose();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\thandleClose = () => {\n\t\tconst {\n\t\t\tonVisibilityChange,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\tdraftIsVisible: false\n\t\t});\n\n\t\tif (onVisibilityChange)\n\t\t\tonVisibilityChange(false);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tchildren,\n\t\t\tisVisible,\n\t\t\tonVisibilityChange,\n\t\t\t...rest\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tdraftIsVisible,\n\t\t} = this.state;\n\n\t\tvar finalIsVisible = isVisible !== null && isVisible !== undefined ? isVisible : draftIsVisible;\n\n\t\treturn ReactDOM.createPortal(\n\t\t\t(\n\t\t\t\t<div className={`modal${finalIsVisible ? '' : ' modal-hide'}`} {...rest}>\n\t\t\t\t\t<div className=\"modal-bg\" onClick={this.handleClose}></div>\n\t\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle && (\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t\t\t<p className=\"modal-title\">{title}</p>\n\t\t\t\t\t\t\t\t\t<Button className=\"modal-close-button\" color=\"white\" icon={faTimes} onClick={this.handleClose} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t),\n\t\t\tthis.el\n\t\t);\n\t}\n}\n\nModal.propTypes = {\n\ttitle: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n\tisVisible: PropTypes.bool,\n\tonVisibilityChange: PropTypes.func,\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { getActionTypes, createAction, displayErrorMsgOrUnauth } from './helpers';\n\n// ACTION TYPES\nexport const COLORS_ACTIONS = getActionTypes('COLORS');\n\n// REDUCER\nconst initialState = {\n\titems: [],\n\tloading: true,\n\terror: null,\n};\n\nexport default function colorsReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase COLORS_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t\terror: null,\n\t\t\t}\n\n\t\tcase COLORS_ACTIONS.SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems: action.payload,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLORS_ACTIONS.FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n}\n\n// OPERATIONS\nexport const listColors = () => dispatch => {\n\tdispatch(createAction(COLORS_ACTIONS.REQUEST));\n\n\treturn axios.get(\n\t\t`${API_URL}/colors/`,\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(COLORS_ACTIONS.SUCCESS, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch colours.\");\n\t\t\tdispatch(createAction(COLORS_ACTIONS.FAILURE, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectColorsLoading = state => state.colorsReducer.loading === true;\nexport const selectColorsError = state => state.colorsReducer.error;\nexport const selectColors = state => state.colorsReducer.items;\n","import React, { useEffect } from 'react';\nimport Select from '../Select';\nimport { connect } from 'react-redux';\n\nimport { listColors, selectColors, selectColorsLoading, selectColorsError } from '../../redux/ducks/colors'; \n\nconst dot = color => ({\n\talignItems: 'center',\n\tdisplay: 'flex',\n\n\t':before': {\n\t\tbackgroundColor: color,\n\t\tborderRadius: 15,\n\t\tcontent: '\"\"',\n\t\tdisplay: 'block',\n\t\tmarginRight: 10,\n\t\theight: 15,\n\t\twidth: 15,\n\t},\n});\n\nconst colorStyles = {\n\toption: (styles, { data }) => ({ ...styles, ...dot(data.hex_code) }),\n\tsingleValue: (styles, { data }) => ({ ...styles, ...dot(data.hex_code) }),\n};\n\nexport function ColorSelect(props) {\n\tconst {\n\t\tcolors,\n\t\tcolorsLoading,\n\t\tcolorsError,\n\t\tlistColors,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tif (!colors || colors.length === 0)\n\t\t\tlistColors();\n\t}, [colors, colorsLoading, colorsError, listColors]);\n\t\n\tlet colorOptions = [];\n\t\n\tif (colors) {\n\t\tcolorOptions = colors.map(color => {\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\thex_code,\n\t\t\t} = color;\n\t\n\t\t\treturn {\n\t\t\t\tvalue: id,\n\t\t\t\tlabel: title,\n\t\t\t\thex_code,\n\t\t\t};\n\t\t})\n\t}\n\n\treturn (\n\t\t<Select\n\t\t\tplaceholder=\"Select a color\"\n\t\t\tisLoading={colorsLoading}\n\t\t\toptions={colorOptions}\n\t\t\tstyles={colorStyles}\n\t\t\tisSearchable={false}\n\t\t\t{...props}\n\t\t\t/>\n\t);\n}\n\nconst mapStateToProps = state => ({\n\tcolors: selectColors(state),\n\tcolorsLoading: selectColorsLoading(state),\n\tcolorsError: selectColorsError(state),\n});\n\nconst dispatchers = {\n\tlistColors,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ColorSelect);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '../../components/Button';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\nimport ColorSelect from '../../components/ColorSelect';\n\nexport default class ActivityForm extends Component {\n\tstate = {\n\t\ttitle: \"\",\n\t\tdescription: \"\",\n\t\tfrequency: \"\",\n\t\tcolor: undefined,\n\t}\n\n\treset = activity => {\n\t\tif (activity) {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tfrequency,\n\t\t\t\tcolor,\n\t\t\t} = activity;\n\n\t\t\tthis.setState({\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tfrequency: frequency === null ? \"\" : frequency,\n\t\t\t\tcolor,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttitle: \"\",\n\t\t\t\tdescription: \"\",\n\t\t\t\tfrequency: \"\",\n\t\t\t\tcolor: undefined,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleColorChange = color => {\n\t\tthis.setState({\n\t\t\tcolor: color,\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t\tcolor,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency: parseInt(frequency),\n\t\t\tcolor,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t\tcolor,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"title\">Title</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"description\">Description</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"frequency\">Frequency</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"frequency\"\n\t\t\t\t\t\tname=\"frequency\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={frequency}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"color\">Color</label>\n\t\t\t\t\t<ColorSelect\n\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\tonChange={this.handleColorChange}\n\t\t\t\t\t\tvalue={color}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nActivityForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};","import React, { Fragment } from 'react';\n\nexport const getTextWithBrs = text => {\n\tif (text) {\n\t\tlet lines = text.split(\"\\n\");\n\t\treturn lines.map((item, i) => (<Fragment key={i}>{item}{i + 1 < lines.length ? < br /> : \"\"}</Fragment>))\n\t\t\n\t} else {\n\t\treturn text;\n\t}\n}","import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getTextWithBrs } from '../../utils/text';\nimport './index.scss';\n\nfunction getClockDisplay(daysLeft) {\n\tif (daysLeft >= 0) {\n\t\tif (daysLeft === 1)\n\t\t\treturn \"1 day\\nleft\";\n\t\telse if (daysLeft > 99)\n\t\t\treturn \">99 days\\nleft\";\n\t\telse\n\t\t\treturn `${daysLeft} days\\nleft`;\n\n\t} else {\n\t\tif (daysLeft === -1)\n\t\t\treturn \"1 day\\nlate\";\n\t\telse if (daysLeft < -99)\n\t\t\treturn \">99 days\\nlate\";\n\t\telse\n\t\t\treturn `${Math.abs(daysLeft)} days\\nlate`;\n\t}\n}\n\nexport default function DaysSinceDisplay(props) {\n\tconst animationTime = 800;\n\n\tlet canvasRef = useRef();\n\n\tconst {\n\t\tdays_since,\n\t\tfrequency,\n\t\tcolor,\n\t} = props;\n\n\tconst daysLeft = frequency - days_since;\n\tconst clockDisplay = getClockDisplay(daysLeft);\n\tconst percentage = Math.max(days_since / frequency, 0);\n\n\tuseEffect(() => {\n\t\tconst startTime = new Date();\n\t\tlet canvas = canvasRef.current;\n\n\t\tif (canvas) {\n\t\t\tlet ctx = canvas.getContext('2d');\n\n\t\t\tconst draw = () => {\n\t\t\t\tlet width = canvas.width;\n\t\t\t\tlet height = canvas.height;\n\n\t\t\t\tvar cx = width / 2;\n\t\t\t\tvar cy = height / 2;\n\n\t\t\t\tconst timeElapsed = new Date() - startTime;\n\t\t\t\tconst multiplier = (timeElapsed < animationTime) ? (Math.pow(Math.sin(Math.PI * (timeElapsed / animationTime) / 2), 2)) : 1;\n\n\t\t\t\tctx.globalCompositeOperation = 'destination-over';\n\t\t\t\tctx.clearRect(0, 0, width, height);\n\n\t\t\t\tctx.save();\n\n\t\t\t\tctx.fillStyle = color;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(cx, cy);\n\t\t\t\tctx.arc(cx, cy, width / 2, -Math.PI / 2, -Math.PI / 2 + percentage * 2 * Math.PI * multiplier);\n\t\t\t\tctx.lineTo(cx, cy);\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.fill();\n\n\t\t\t\tctx.restore();\n\n\t\t\t\tif (timeElapsed < animationTime)\n\t\t\t\t\trequestAnimationFrame(draw);\n\t\t\t}\n\n\t\t\tdraw();\n\t\t}\n\t}, [color, percentage]);\n\n\tconst innerCircle = (\n\t\t<div className=\"inner-circle\">\n\t\t\t<p>{getTextWithBrs(clockDisplay)}</p>\n\t\t\t<p className=\"mobile-text\">{Math.abs(daysLeft) <= 99 ? `${Math.abs(daysLeft)}d` : \">99d\"}<br />{`${daysLeft >= 0 ? 'left' : 'late'}`}</p>\n\t\t</div>\n\t)\n\n\t// Not overdue\n\tif (daysLeft >= 0) {\n\t\treturn (\n\t\t\t<div className=\"days-since-display progress-circle\">\n\t\t\t\t<canvas className=\"outer-circle\" ref={canvasRef} height=\"200px\" width=\"200px\"></canvas>\n\t\t\t\t{innerCircle}\n\t\t\t</div >\n\t\t)\n\n\t// Overdue\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"days-since-display progress-circle\" style={{ backgroundColor: color }}>\n\t\t\t\t<div className=\"outer-circle outer-circle-overdue\"></div>\n\t\t\t\t{innerCircle}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nDaysSinceDisplay.propTypes = {\n\tdays_since: PropTypes.number.isRequired,\n\tfrequency: PropTypes.number.isRequired,\n\tcolor: PropTypes.string.isRequired,\n}","export const EVENT_TYPES = {\n\tCOMPLETED: 1,\n\tSKIPPED: 2,\n}\n\nexport const EVENT_TYPE_OPTIONS = [\n\t{\n\t\tvalue: EVENT_TYPES.COMPLETED,\n\t\tlabel: \"Completed\",\n\t},\n\t{\n\t\tvalue: EVENT_TYPES.SKIPPED,\n\t\tlabel: \"Skipped\",\n\t},\n]\n\nexport function getFrequencyDisplay(frequency) {\n\tif (frequency === 1)\n\t\treturn \"Everyday\";\n\telse if (frequency === 2)\n\t\treturn \"Every other day\";\n\telse if (frequency === 7)\n\t\treturn \"Every week\";\n\telse if (frequency === 14)\n\t\treturn \"Every other week\";\n\telse if (frequency % 7 === 0)\n\t\treturn `Every ${Math.round(frequency / 7)} weeks`;\n\telse\n\t\treturn `Every ${frequency} days`;\n}\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'activities';\n\n// REDUCER\nconst activitiesReducer = createApiReducer(ENTITY_NAME);\nexport default activitiesReducer;\n\n// OPERATIONS\nexport const createActivity = ({ title, description, frequency, color }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n\treturn axios.post(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\t{\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t\tcolor,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, {\n\t\t\t\t...res.data,\n\t\t\t\tdays_since: 0,\n\t\t\t}));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to create activity.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n\t\t});\n\t;\n};\n\nexport const retrieveActivity = activityId => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE, activityId));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/${activityId}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch activity.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n\t\t});\n\t;\n};\n\nexport const updateActivity = ({ id, title, description, frequency, color }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE, id));\n\n\treturn axios.patch(\n\t\t`${API_URL}/${ENTITY_NAME}/${id}/`,\n\t\t{\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t\tcolor,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to update activity.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n\t\t});\n};\n\nexport const deleteActivity = activityId => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.DELETE));\n\n\treturn axios.delete(\n\t\t`${API_URL}/${ENTITY_NAME}/${activityId}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(() => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.DELETE, activityId));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to delete activity.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.DELETE, err));\n\t\t});\n};\n\nexport const listActivities = () => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.LIST));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\tgetTokenConfig(getState),\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch activities.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectActivitiesLoading = state => state.activitiesReducer.loading[METHODS.LIST] === true;\nexport const selectActivitiesError = state => state.activitiesReducer.error[METHODS.LIST];\nexport const selectActivities = state => state.activitiesReducer.items;\n\nexport const selectActivityLoading = state => state.activitiesReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectActivityError = state => state.activitiesReducer.error[METHODS.RETRIEVE];\nexport const selectActivity = state => state.activitiesReducer.item;\nexport const selectActivityId = state => state.activitiesReducer.itemId;\n","import axios from 'axios';\n\nimport { ENTITY_NAME as ACTIVITIES_ENTITY_NAME } from './activities';\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'activityevents';\n\n// REDUCER\nconst activityEventsReducer = createApiReducer(ENTITY_NAME);\nexport default activityEventsReducer;\n\n// OPERATIONS\nexport const performEvent = (activityId, event_type) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n    return axios.post(\n        `${API_URL}/activities/${activityId}/events/`,\n        {\n            event_type,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, res.data));\n            dispatch(createApiAction(ACTIVITIES_ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, {\n                id: activityId,\n                days_since: 0,\n                last_event_type: event_type,\n                todays_event: event_type,\n            }));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to perform event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n        });\n    ;\n};\n\nexport const createActivityEvent = (activityId, { event_type, date, description }) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n    return axios.post(\n        `${API_URL}/activities/${activityId}/events/`,\n        {\n            event_type,\n            date,\n            description,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to create event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n        });\n    ;\n};\n\nexport const retrieveActivityEvent = (activityId, activityEventId) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE, activityEventId));\n\n    return axios.get(\n        `${API_URL}/activities/${activityId}/events/${activityEventId}/`,\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n        });\n    ;\n};\n\nexport const updateActivityEvent = (activityId, { id, event_type, date, description }) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE, id));\n\n    return axios.patch(\n        `${API_URL}/activities/${activityId}/events/${id}/`,\n        {\n            event_type,\n            date,\n            description,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to update event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n        });\n};\n\nexport const deleteActivityEvent = (activityId, activityEventId) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.DELETE));\n\n    return axios.delete(\n        `${API_URL}/activities/${activityId}/events/${activityEventId}/`,\n        getTokenConfig(getState)\n    )\n        .then(() => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.DELETE, activityEventId));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to delete event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.DELETE, err));\n        });\n};\n\nexport const listActivityEvents = activityId => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.LIST));\n\n    return axios.get(\n        `${API_URL}/activities/${activityId}/events/`,\n        getTokenConfig(getState),\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch events.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n        });\n};\n\n// SELECTORS\nexport const selectActivityEventsLoading = state => state.activityEventsReducer.loading[METHODS.LIST] === true;\nexport const selectActivityEventsError = state => state.activityEventsReducer.error[METHODS.LIST];\nexport const selectActivityEvents = state => state.activityEventsReducer.items;\n\nexport const selectActivityEventLoading = state => state.activityEventsReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectActivityEventError = state => state.activityEventsReducer.error[METHODS.RETRIEVE];\nexport const selectActivityEvent = state => state.activityEventsReducer.item;\n","import React, { forwardRef } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faForward } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport DaysSinceDisplay from '../DaysSinceDisplay';\nimport { EVENT_TYPES, getFrequencyDisplay } from '../utils';\nimport { performEvent } from '../../redux/ducks/activityEvents';\nimport './index.scss';\n\nfunction getLastEventTypeDisplay(last_event_type) {\n\tswitch (last_event_type) {\n\t\tcase EVENT_TYPES.COMPLETED:\n\t\t\treturn \"Last completed\";\n\t\t\n\t\tcase EVENT_TYPES.SKIPPED:\n\t\t\treturn \"Last skipped\";\n\t\t\n\t\tdefault:\n\t\t\treturn \"Created\"\n\t}\n}\n\nfunction getDaysSinceDisplay(days_since) {\n\tif (days_since < 0)\n\t\treturn `${Math.abs(days_since)} days in the future`;\n\telse if (days_since === 0)\n\t\treturn \"today\";\n\telse if (days_since === 1)\n\t\treturn \"yesterday\";\n\telse if (days_since < 7)\n\t\treturn `${days_since} days ago`;\n\telse if (days_since >= 7 && days_since < 14)\n\t\treturn \"last week\";\n\telse if (Math.floor(days_since / 7) > 99)\n\t\treturn \">99 weeks ago\";\n\telse\n\t\treturn `${Math.floor(days_since / 7)} weeks ago`;\n}\n\nexport const ActivityItem = forwardRef((props, ref) => {\n\tconst {\n\t\tid,\n\t\ttitle,\n\t\tdays_since,\n\t\tfrequency,\n\t\tcolor,\n\t\tlast_event_type,\n\t\ttodays_event,\n\t\tperformEvent,\n\t} = props;\n\t\n\tvar eventDisplay = (\n\t\t<div>\n\t\t\t<Button icon={faCheck} className=\"mr-10\" onClick={() => performEvent(id, EVENT_TYPES.COMPLETED)} aria-label=\"Complete\" />\n\t\t\t<Button color=\"white\" icon={faForward} onClick={() => performEvent(id, EVENT_TYPES.SKIPPED)} aria-label=\"Skip\" />\n\t\t</div>\n\t);\n\n\tif (todays_event) {\n\t\tswitch (todays_event) {\n\t\t\tcase EVENT_TYPES.COMPLETED:\n\t\t\t\teventDisplay = <p className=\"todays-event\"><FontAwesomeIcon className=\"mr-10\" icon={faCheck} />Completed</p>\n\t\t\t\tbreak;\n\n\t\t\tcase EVENT_TYPES.SKIPPED:\n\t\t\t\teventDisplay = <p className=\"todays-event\"><FontAwesomeIcon className=\"mr-10\" icon={faForward} />Skipped</p>;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (frequency) {\n\t\treturn (\n\t\t\t<div className=\"item activity-item\" ref={ref}>\n\t\t\t\t<DaysSinceDisplay days_since={days_since} frequency={frequency} color={color} />\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mb-10\">\n\t\t\t\t\t\t<h4 className=\"mb-0\">\n\t\t\t\t\t\t\t<Link to={`/days-since/${id}`}>{title}</Link>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p>{getFrequencyDisplay(frequency)} • {getLastEventTypeDisplay(last_event_type)} {getDaysSinceDisplay(days_since)}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{eventDisplay}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"item activity-item\" ref={ref}>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mb-10\">\n\t\t\t\t\t\t<h4 className=\"mb-0\">\n\t\t\t\t\t\t\t<Link to={`/days-since/${id}`}>{title}</Link>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p>{getLastEventTypeDisplay(last_event_type)} {getDaysSinceDisplay(days_since)}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{eventDisplay}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nActivityItem.propTypes = {\n\tid: PropTypes.string.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\tdays_since: PropTypes.number.isRequired,\n\tfrequency: PropTypes.number,\n\tcolor: PropTypes.string.isRequired,\n\tlast_event_type: PropTypes.number,\n\ttodays_event: PropTypes.number,\n}\n\nconst dispatchers = {\n\tperformEvent,\n};\n\nexport default connect(() => ({}), dispatchers, null, { forwardRef: true })(ActivityItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FlipMove from 'react-flip-move';\n\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport Loader from '../../components/Loader';\nimport ActivityForm from '../ActivityForm';\nimport ActivityItem from '../ActivityItem';\nimport { listActivities, createActivity, selectActivities, selectActivitiesLoading, selectActivitiesError } from '../../redux/ducks/activities';\nimport { listColors, selectColors, selectColorsLoading, selectColorsError } from '../../redux/ducks/colors';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport empty from './empty.svg';\n\nexport class ActivityListPage extends Component {\n\tstate = {\n\t\t[MODAL_TYPES.CREATE]: false,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tprops.listActivities();\n\t\tprops.listColors();\n\t}\n\n\thandleVisibilityChange = isVisible => {\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: isVisible,\n\t\t});\n\t}\n\n\topenCreateModal = () => {\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: true,\n\t\t});\n\n\t\tthis.activityFormRef.reset();\n\t}\n\n\thandleCreateActivity = activity => {\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: false,\n\t\t});\n\n\t\tthis.props.createActivity(activity);\n\t}\n\n\tmapActivitiesToActivityItems = activities => {\n\t\treturn activities.map(activity => {\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\tfrequency,\n\t\t\t\tdays_since,\n\t\t\t\tcolor: colorId,\n\t\t\t\tlast_event_type,\n\t\t\t\ttodays_event,\n\t\t\t} = activity;\n\n\t\t\treturn (\n\t\t\t\t<ActivityItem\n\t\t\t\t\tactivity={activity}\n\t\t\t\t\tkey={id}\n\t\t\t\t\tid={id}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tfrequency={frequency}\n\t\t\t\t\tdays_since={days_since}\n\t\t\t\t\tcolor={this.props.colors.find(color => color.id === colorId).hex_code}\n\t\t\t\t\tlast_event_type={last_event_type}\n\t\t\t\t\ttodays_event={todays_event}\n\t\t\t\t/>\n\t\t\t)\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactivities,\n\t\t\tactivitiesLoading,\n\t\t\tactivitiesError,\n\t\t\tcolors,\n\t\t\tcolorsLoading,\n\t\t\tcolorsError,\n\t\t} = this.props;\n\n\t\tif (activitiesLoading || colorsLoading)\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Activities</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tif (!activities || activitiesError || !colors || colorsError)\n\t\t\treturn <Redirect to=\"/\" />;\n\n\t\tvar activitiesSplitByFrequency = activities.reduce(\n\t\t\t(acc, activity) => {\n\t\t\t\tacc[activity.frequency !== null && activity.frequency !== undefined].push(activity);\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{\n\t\t\t\ttrue: [],\n\t\t\t\tfalse: []\n\t\t\t}\n\t\t)\n\n\t\tactivitiesSplitByFrequency.true.sort((a, b) => (a.frequency - a.days_since) - (b.frequency - b.days_since));\n\t\tactivitiesSplitByFrequency.false.sort((a, b) => a.days_since - b.days_since);\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Activities</h2>\n\t\t\t\t<div className=\"mb-20\">\n\t\t\t\t\t<Button icon={faPlus} color=\"blue\" onClick={this.openCreateModal}>Create Activity</Button>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tactivitiesSplitByFrequency.true.length !== 0 &&\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>With Frequency</h3>\n\t\t\t\t\t\t<FlipMove className=\"item-list\">\n\t\t\t\t\t\t\t{this.mapActivitiesToActivityItems(activitiesSplitByFrequency.true)}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tactivitiesSplitByFrequency.false.length !== 0 &&\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>Without Frequency</h3>\n\t\t\t\t\t\t<FlipMove className=\"item-list\">\n\t\t\t\t\t\t\t{this.mapActivitiesToActivityItems(activitiesSplitByFrequency.false)}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tactivities.length === 0 &&\n\t\t\t\t\t<div className=\"grid mt-40\">\n\t\t\t\t\t\t<div className=\"center-wide\">\n\t\t\t\t\t\t\t<img className=\"mb-20\" src={empty} alt=\"Empty street\" />\n\t\t\t\t\t\t\t<h3>No Activities</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Modal title=\"Create Activity\" isVisible={this.state[MODAL_TYPES.CREATE]} onVisibilityChange={this.handleVisibilityChange}>\n\t\t\t\t\t<ActivityForm onSubmit={this.handleCreateActivity} ref={activityForm => this.activityFormRef = activityForm} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tactivities: selectActivities(state),\n\tactivitiesLoading: selectActivitiesLoading(state),\n\tactivitiesError: selectActivitiesError(state),\n\n\tcolors: selectColors(state),\n\tcolorsLoading: selectColorsLoading(state),\n\tcolorsError: selectColorsError(state),\n});\n\nconst dispatchers = {\n\tcreateActivity,\n\tlistActivities,\n\tlistColors,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ActivityListPage);\n","import React from 'react';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport moment from 'moment';\nimport 'react-day-picker/lib/style.css';\n\nimport './index.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCalendar } from '@fortawesome/free-solid-svg-icons';\n\nexport default function DatePicker(props) {\n\tconst format = \"D MMMM YYYY\"\n\n\tfunction parseDate(str, format) {\n\t\treturn moment(str, format).toDate();\n\t}\n\n\tfunction formatDate(date, format) {\n\t\treturn moment(date).format(format);\n\t}\n\n\tconst {\n\t\tonChange,\n\t\tplaceholder,\n\t\trequired,\n\t\t...rest\n\t} = props;\n\n\treturn (\n\t\t<div className=\"date-picker\">\n\t\t\t<DayPickerInput\n\t\t\t\tformatDate={formatDate}\n\t\t\t\tparseDate={parseDate}\n\t\t\t\tformat={format}\n\t\t\t\tplaceholder={placeholder ? placeholder : \"\"}\n\t\t\t\tonDayChange={onChange}\n\t\t\t\tinputProps={{\n\t\t\t\t\trequired,\n\t\t\t\t\tonKeyDown: e => { e.preventDefault()},\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t\t<FontAwesomeIcon icon={faCalendar} className=\"calendar-icon\" />\n\t\t</div>\n\t)\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport Button from '../../components/Button';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\nimport Select from '../../components/Select';\nimport { EVENT_TYPE_OPTIONS, EVENT_TYPES } from '../utils';\nimport DatePicker from '../../components/DatePicker';\n\nexport default class EventForm extends Component {\n\tstate = {\n\t\tevent_type: \"\",\n\t\tdate: \"\",\n\t\tdescription: \"\",\n\t}\n\n\treset = event => {\n\t\tif (event) {\n\t\t\tconst {\n\t\t\t\tevent_type,\n\t\t\t\tdate,\n\t\t\t\tdescription,\n\t\t\t} = event;\n\n\t\t\tthis.setState({\n\t\t\t\tevent_type,\n\t\t\t\tdate: moment(date, \"YYYY-MM-DD\").toDate(),\n\t\t\t\tdescription,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tevent_type: EVENT_TYPES.COMPLETED,\n\t\t\t\tdate: null,\n\t\t\t\tdescription: \"\",\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleEventTypeChange = event_type => {\n\t\tthis.setState({\n\t\t\tevent_type,\n\t\t});\n\t}\n\n\thandleDateChange = date => {\n\t\tthis.setState({\n\t\t\tdate,\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\tevent_type,\n\t\t\tdate,\n\t\t\tdescription,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\tevent_type,\n\t\t\tdate: moment(date).format(\"YYYY-MM-DD\"),\n\t\t\tdescription,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tdisabledDates,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tevent_type,\n\t\t\tdate,\n\t\t\tdescription,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"event_type\">Event Type</label>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tid=\"event_type\"\n\t\t\t\t\t\tonChange={this.handleEventTypeChange}\n\t\t\t\t\t\tvalue={event_type}\n\t\t\t\t\t\toptions={EVENT_TYPE_OPTIONS}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"date\">Date</label>\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tvalue={date}\n\t\t\t\t\t\tonChange={this.handleDateChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tdayPickerProps={{\n\t\t\t\t\t\t\tdisabledDays: disabledDates,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"description\">Description</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nEventForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n\tdisabledDates: PropTypes.array.isRequired,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../Button';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\nexport default function DeleteForm(props) {\n    const {\n        onSubmit\n    } = props;\n\n    return (\n\t\t<div className=\"btn-group btn-group\">\n\t\t\t<Button icon={faTrash} color=\"red\" onClick={() => onSubmit(true)}>Confirm</Button>\n\t\t\t<Button color=\"faded-grey\" onClick={() => onSubmit(false)}>Cancel</Button>\n        </div>\n    )\n}\n\nDeleteForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}","import moment from 'moment';\nimport React, { forwardRef } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faCheck, faForward, faQuestion, faEdit } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport { EVENT_TYPES } from '../utils';\nimport { getTextWithBrs } from '../../utils/text';\nimport './index.scss';\n\nexport const EventItem = forwardRef((props, ref) => {\n\tconst {\n\t\tevent: {\n\t\t\tevent_type,\n\t\t\tdate,\n\t\t\tdescription,\n\t\t},\n\t\tevent,\n\t\tisEditable,\n\t\topenEditModal,\n\t\topenDeleteModal,\n\t} = props;\n\n\tconst dateStr = moment(date).format('D MMMM YYYY');;\n\n\tvar eventDisplay = \"\";\n\n\tswitch (event_type) {\n\t\tcase EVENT_TYPES.COMPLETED:\n\t\t\teventDisplay = <><FontAwesomeIcon className=\"mr-10\" icon={faCheck} />Completed</>\n\t\t\tbreak;\n\n\t\tcase EVENT_TYPES.SKIPPED:\n\t\t\teventDisplay = <><FontAwesomeIcon className=\"mr-10\" icon={faForward} />Skipped</>;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\teventDisplay = <><FontAwesomeIcon className=\"mr-10\" icon={faQuestion} />Unknown event</>;\n\t\t\tbreak;\n\t}\n\n\treturn (\n\t\t<div className=\"event-item\" ref={ref}>\n\t\t\t<div className=\"mb-n10\">\n\t\t\t\t<p>{eventDisplay} on {dateStr}</p>\n\t\t\t\t<p className=\"small\">{getTextWithBrs(description)}</p>\n\t\t\t</div>\n\t\t\t{\n\t\t\t\tisEditable &&\n\t\t\t\t<div className=\"btn-group mt-20\">\n\t\t\t\t\t<Button icon={faEdit} color=\"green\" size=\"sm\" onClick={() => openEditModal(event)} aria-label=\"Edit\" />\n\t\t\t\t\t<Button icon={faTrash} color=\"red\" size=\"sm\" onClick={() => openDeleteModal(event)} aria-label=\"Delete\" />\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n})\n\nexport default EventItem;\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { getActionTypes, createAction, displayErrorMsgOrUnauth, getTokenConfig } from './helpers';\n\n// ACTION TYPES\nexport const ACTIVITYSTATS_ACTIONS = getActionTypes('ACTIVITYSTATS');\n\n// REDUCER\nconst initialState = {\n\titems: [],\n\tloading: true,\n\terror: null,\n};\n\n// OPERATIONS\nexport default function activityStatisticsReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase ACTIVITYSTATS_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t\terror: null,\n\t\t\t}\n\n\t\tcase ACTIVITYSTATS_ACTIONS.SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems: action.payload,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ACTIVITYSTATS_ACTIONS.FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n}\n\nexport const retrieveActivityStatistics = activityId => (dispatch, getState) => {\n\tdispatch(createAction(ACTIVITYSTATS_ACTIONS.REQUEST));\n\n\treturn axios.get(\n\t\t`${API_URL}/activities/${activityId}/statistics/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(ACTIVITYSTATS_ACTIONS.SUCCESS, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch activity statistics.\");\n\t\t\tdispatch(createAction(ACTIVITYSTATS_ACTIONS.FAILURE, err));\n\t\t});\n\t;\n};\n\n// SELECTORS\nexport const selectActivityStatisticsLoading = state => state.activityStatisticsReducer.loading === true;\nexport const selectActivityStatisticsError = state => state.activityStatisticsReducer.error;\nexport const selectActivityStatistics = state => state.activityStatisticsReducer.items;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport moment from 'moment';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FlipMove from 'react-flip-move';\n\nimport Button from '../../components/Button';\nimport Loader from '../../components/Loader';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport { createActivityEvent, updateActivityEvent, deleteActivityEvent, listActivityEvents, selectActivityEvents, selectActivityEventsLoading, selectActivityEventsError } from '../../redux/ducks/activityEvents';\nimport EventForm from '../EventForm';\nimport DeleteForm from '../../components/DeleteForm';\nimport Modal from '../../components/Modal';\nimport empty from './empty.svg';\nimport EventItem from '../EventItem';\nimport { retrieveActivityStatistics } from '../../redux/ducks/activityStatistics';\n\nexport class EventList extends Component {\n\tstate = {\n\t\tmodalEvent: null,\n\t\t[MODAL_TYPES.CREATE]: false,\n\t\t[MODAL_TYPES.EDIT]: false,\n\t\t[MODAL_TYPES.DELETE]: false,\n\t\tisEditable: false,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst activityId = props.activityId;\n\t\tprops.listActivityEvents(activityId);\n\t}\n\n\thandleVisibilityChange = (modal, isVisible) => {\n\t\tthis.setState({\n\t\t\t[modal]: isVisible,\n\t\t});\n\t}\n\n\topenModal = (modal, modalEvent) => {\n\t\tthis.setState({\n\t\t\t[modal]: true,\n\t\t\tmodalEvent,\n\t\t});\n\n\t\tif (modal === MODAL_TYPES.CREATE)\n\t\t\tthis.createFormRef.reset();\n\t\telse if (modal === MODAL_TYPES.EDIT)\n\t\t\tthis.editFormRef.reset(modalEvent);\n\t}\n\n\thandleCreateEvent = event => {\n\t\tconst {\n\t\t\tactivityId,\n\t\t\tcreateActivityEvent,\n\t\t\tretrieveActivityStatistics,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: false,\n\t\t});\n\n\t\tcreateActivityEvent(activityId, event)\n\t\t\t.then(() => retrieveActivityStatistics(activityId));\n\t}\n\n\thandleEditEvent = event => {\n\t\tconst {\n\t\t\tactivityId,\n\t\t\tupdateActivityEvent,\n\t\t\tretrieveActivityStatistics,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.EDIT]: false,\n\t\t});\n\n\t\tupdateActivityEvent(activityId, { ...this.state.modalEvent, ...event })\n\t\t\t.then(() => retrieveActivityStatistics(activityId));\n\t}\n\n\thandleDeleteEvent = isConfirm => {\n\t\tconst {\n\t\t\tactivityId,\n\t\t\tdeleteActivityEvent,\n\t\t\tretrieveActivityStatistics,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.DELETE]: false,\n\t\t});\n\n\t\tif (isConfirm) {\n\t\t\tdeleteActivityEvent(activityId, this.state.modalEvent.id)\n\t\t\t\t.then(() => retrieveActivityStatistics(activityId));\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactivityEvents,\n\t\t\tactivityEventsLoading,\n\t\t\tactivityEventsError,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tmodalEvent\n\t\t} = this.state;\n\n\t\tconst {\n\t\t\tisEditable\n\t\t} = this.state;\n\n\t\tif (activityEventsLoading)\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Events</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tif (!activityEvents || activityEventsError)\n\t\t\treturn <Redirect to=\"/days-since\" />;\n\n\t\tactivityEvents.sort((a, b) => moment(a.date, \"YYYY-MM-DD\").toDate() - moment(b.date, \"YYYY-MM-DD\").toDate()).reverse();\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Events</h2>\n\t\t\t\t<div className=\"btn-group mb-20\">\n\t\t\t\t\t<Button icon={faPlus} color=\"blue\" onClick={() => this.openModal(MODAL_TYPES.CREATE)}>Create Event</Button>\n\t\t\t\t\t{\n\t\t\t\t\t\tisEditable\n\t\t\t\t\t\t\t? <Button className=\"ml-auto mr-0\" color=\"faded-grey\" onClick={() => this.setState({ isEditable: false })}>Done</Button>\n\t\t\t\t\t\t\t: <Button className=\"ml-auto mr-0\" color=\"green\" onClick={() => this.setState({ isEditable: true })}>Edit</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tactivityEvents.length !== 0\n\t\t\t\t\t\t? <FlipMove className=\"box\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tactivityEvents.map(event => (\n\t\t\t\t\t\t\t\t\t<EventItem\n\t\t\t\t\t\t\t\t\t\tkey={event.id}\n\t\t\t\t\t\t\t\t\t\tevent={event}\n\t\t\t\t\t\t\t\t\t\tisEditable={isEditable}\n\t\t\t\t\t\t\t\t\t\topenEditModal={event => this.openModal(MODAL_TYPES.EDIT, event)}\n\t\t\t\t\t\t\t\t\t\topenDeleteModal={event => this.openModal(MODAL_TYPES.DELETE, event)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t\t: <div className=\"center mt-40\">\n\t\t\t\t\t\t\t<img className=\"mb-20\" src={empty} alt=\"Trees under the sun\" />\n\t\t\t\t\t\t\t<h3>No Events</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Create Event\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.CREATE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.CREATE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<EventForm onSubmit={this.handleCreateEvent} ref={createForm => this.createFormRef = createForm} disabledDates={activityEvents.map(event => moment(event.date, \"YYYY-MM-DD\").toDate())} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Edit Event\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.EDIT]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.EDIT, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<EventForm onSubmit={this.handleEditEvent} ref={editForm => this.editFormRef = editForm} disabledDates={activityEvents.filter(event => !modalEvent || event.id !== modalEvent.id).map(event => moment(event.date, \"YYYY-MM-DD\").toDate())} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Delete Event\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.DELETE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.DELETE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteForm onSubmit={this.handleDeleteEvent} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tactivityEvents: selectActivityEvents(state),\n\tactivityEventsLoading: selectActivityEventsLoading(state),\n\tactivityEventsError: selectActivityEventsError(state),\n});\n\nconst dispatchers = {\n\tcreateActivityEvent,\n\tupdateActivityEvent,\n\tdeleteActivityEvent,\n\tlistActivityEvents,\n\tretrieveActivityStatistics,\n};\n\nexport default connect(mapStateToProps, dispatchers)(EventList);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport Loader from \"../../components/Loader\";\nimport { retrieveActivityStatistics, selectActivityStatistics, selectActivityStatisticsError, selectActivityStatisticsLoading } from '../../redux/ducks/activityStatistics';\n\nexport function ActivityStatistics(props) {\n\tconst {\n\t\tclassName,\n\t\tactivityId,\n\t\tactivityStatistics,\n\t\tactivityStatisticsLoading,\n\t\tactivityStatisticsError,\n\t\tretrieveActivityStatistics,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tretrieveActivityStatistics(activityId)\n\t}, [retrieveActivityStatistics, activityId]);\n\n\tif (activityStatisticsLoading || !activityStatistics || activityStatisticsError)\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Statistics</h2>\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t);\n\n\tconst {\n\t\taverage_frequency,\n\t\ttotal_count,\n\t\tcompleted_count,\n\t\tskipped_count,\n\t} = activityStatistics;\n\n\treturn (\n\t\t<div className={className}>\n\t\t\t<h2>Statistics</h2>\n\t\t\t{\n\t\t\t\taverage_frequency &&\n\t\t\t\t<p>Average frequency (over last 10 events): Every {average_frequency.toFixed(1)} days</p>\n\t\t\t}\n\t\t\t<p>\n\t\t\t\tTotal: {total_count} times<br />\n\t\t\t\tCompleted: {completed_count} times<br />\n\t\t\t\tSkipped: {skipped_count} times\n\t\t\t</p>\n\t\t</div>\n\t)\n};\n\nconst mapStateToProps = state => ({\n\tactivityStatistics: selectActivityStatistics(state),\n\tactivityStatisticsLoading: selectActivityStatisticsLoading(state),\n\tactivityStatisticsError: selectActivityStatisticsError(state),\n});\n\nconst dispatchers = {\n\tretrieveActivityStatistics,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ActivityStatistics);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { Helmet } from \"react-helmet\";\n\nimport Button from '../../components/Button';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Loader from '../../components/Loader';\nimport Modal from '../../components/Modal';\nimport ActivityForm from '../ActivityForm';\nimport { getFrequencyDisplay } from '../utils';\nimport { retrieveActivity, updateActivity, deleteActivity, selectActivity, selectActivityLoading, selectActivityError, selectActivityId } from '../../redux/ducks/activities';\nimport EventList from '../EventList';\nimport DeleteForm from '../../components/DeleteForm';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport { getTextWithBrs } from '../../utils/text';\nimport ActivityStatistics from '../ActivityStatistics';\n\nexport class ActivityDetailPage extends Component {\n\tstate = {\n\t\t[MODAL_TYPES.EDIT]: false,\n\t\t[MODAL_TYPES.DELETE]: false,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst activityId = props.match.params.activityId;\n\t\tprops.retrieveActivity(activityId);\n\t}\n\n\thandleVisibilityChange = (modal, isVisible) => {\n\t\tthis.setState({\n\t\t\t[modal]: isVisible,\n\t\t});\n\t}\n\n\topenModal = modal => {\n\t\tthis.setState({\n\t\t\t[modal]: true,\n\t\t});\n\n\t\tif (modal === MODAL_TYPES.EDIT)\n\t\t\tthis.activityFormRef.reset(this.props.activity);\n\t}\n\n\thandleEditActivity = activity => {\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.EDIT]: false,\n\t\t});\n\n\t\tthis.props.updateActivity({ ...this.props.activity, ...activity });\n\t}\n\n\thandleDeleteActivity = isConfirm => {\n\t\tconst {\n\t\t\tactivity,\n\t\t\tdeleteActivity,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.DELETE]: false,\n\t\t});\n\n\t\tif (isConfirm)\n\t\t\tdeleteActivity(activity.id);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactivity,\n\t\t\tactivityId,\n\t\t\tactivityLoading,\n\t\t\tactivityError,\n\t\t\tmatch: {\n\t\t\t\tparams\n\t\t\t}\n\t\t} = this.props;\n\n\t\tif (activityLoading || activityId !== params.activityId)\n\t\t\treturn <Loader />;\n\n\t\tif (!activity || activityError)\n\t\t\treturn <Redirect to=\"/days-since\" />;\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t} = activity;\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>{`Days Since | ${title}`}</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<Breadcrumbs\n\t\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t\t{ title: \"Days Since\", to: \"/days-since\" },\n\t\t\t\t\t\t{ title },\n\t\t\t\t\t]} />\n\t\t\t\t<div className=\"side-by-side\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"mb-30\">\n\t\t\t\t\t\t\t<div className=\"mb-20\">\n\t\t\t\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t\t\t\t\t{description && <p>{getTextWithBrs(description)}</p>}\n\t\t\t\t\t\t\t\t{frequency && <p>Frequency: {getFrequencyDisplay(frequency)}</p>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t\t<Button icon={faEdit} color=\"green\" onClick={() => this.openModal(MODAL_TYPES.EDIT)}>Edit</Button>\n\t\t\t\t\t\t\t\t<Button icon={faTrash} color=\"red\" onClick={() => this.openModal(MODAL_TYPES.DELETE)}>Delete</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ActivityStatistics activityId={activityId} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<EventList\n\t\t\t\t\t\tactivityId={activityId}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Edit Activity\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.EDIT]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.EDIT, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<ActivityForm onSubmit={this.handleEditActivity} ref={activityForm => this.activityFormRef = activityForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Delete Activity\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.DELETE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.DELETE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteForm onSubmit={this.handleDeleteActivity} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tactivity: selectActivity(state),\n\tactivityId: selectActivityId(state),\n\tactivityLoading: selectActivityLoading(state),\n\tactivityError: selectActivityError(state),\n});\n\nconst dispatchers = {\n\tretrieveActivity,\n\tupdateActivity,\n\tdeleteActivity,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ActivityDetailPage);\n","import ActivityListPage from './ActivityListPage';\nimport ActivityDetailPage from './ActivityDetailPage';\n\nexport const ROUTES = [\n\t{\n\t\tpath: \"/days-since\",\n\t\texact: true,\n\t\tcomponent: ActivityListPage,\n\t},\n\t{\n\t\tpath: \"/days-since/:activityId\",\n\t\texact: true,\n\t\tcomponent: ActivityDetailPage,\n\t}\n]\n\nexport default ROUTES;\n","import React from 'react';\nimport { Helmet } from \"react-helmet\";\n\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport ActivityList from '../ActivityList';\n\nexport default function ActivityListPage() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Days Since</title>\n\t\t\t</Helmet>\n\t\t\t<Breadcrumbs\n\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t{ title: \"Days Since\" },\n\t\t\t\t]} />\n\t\t\t<h1>Days Since</h1>\n\t\t\t<ActivityList />\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '../../components/Button';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nexport default class CycleForm extends Component {\n\tstate = {\n\t\ttitle: \"\",\n\t}\n\n\treset = cycle => {\n\t\tif (cycle) {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t} = cycle;\n\n\t\t\tthis.setState({\n\t\t\t\ttitle,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttitle: \"\",\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\ttitle,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\ttitle,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"title\">Title</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nCycleForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};","import React, { forwardRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\n\nexport const CycleItem = forwardRef((props, ref) => {\n\tconst {\n\t\tcycle: {\n\t\t\tid,\n\t\t\ttitle,\n\t\t\ttotal_duration,\n\t\t},\n\t\tcycle,\n\t\topenEditModal,\n\t\topenDeleteModal,\n\t} = props;\n\n\treturn (\n\t\t<div className=\"item\" ref={ref}>\n\t\t\t<div className=\"mb-10\">\n\t\t\t\t<h3 className=\"mb-0\">\n\t\t\t\t\t<Link to={`/time-cycles/${id}`}>{title}</Link>\n\t\t\t\t</h3>\n\t\t\t\t<p>{total_duration}</p>\n\t\t\t</div>\n\t\t\t<div className=\"btn-group\">\n\t\t\t\t<Button icon={faEdit} color=\"green\" size=\"sm\" onClick={() => openEditModal(cycle)} aria-label=\"Edit\" />\n\t\t\t\t<Button icon={faTrash} color=\"red\" size=\"sm\" onClick={() => openDeleteModal(cycle)} aria-label=\"Delete\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default CycleItem;\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'cycles';\n\n// REDUCER\nconst cyclesReducer = createApiReducer(ENTITY_NAME);\nexport default cyclesReducer;\n\n// OPERATIONS\nexport const createCycle = ({ title }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n\treturn axios.post(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\t{\n\t\t\ttitle,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, {\n\t\t\t\t...res.data,\n\t\t\t\ttotal_duration: \"00:00:00\",\n\t\t\t}));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to create cycle.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n\t\t});\n\t;\n};\n\nexport const retrieveCycle = cycleId => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE, cycleId));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/${cycleId}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch cycle.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n\t\t});\n\t;\n};\n\nexport const updateCycle = ({ id, title }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE, id));\n\n\treturn axios.patch(\n\t\t`${API_URL}/${ENTITY_NAME}/${id}/`,\n\t\t{\n\t\t\ttitle,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to update cycle.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n\t\t});\n};\n\nexport const deleteCycle = cycleId => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.DELETE));\n\n\treturn axios.delete(\n\t\t`${API_URL}/${ENTITY_NAME}/${cycleId}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(() => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.DELETE, cycleId));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to delete cycle.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.DELETE, err));\n\t\t});\n};\n\nexport const listCycles = () => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.LIST));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\tgetTokenConfig(getState),\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch cycles.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectCyclesLoading = state => state.cyclesReducer.loading[METHODS.LIST] === true;\nexport const selectCyclesError = state => state.cyclesReducer.error[METHODS.LIST];\nexport const selectCycles = state => state.cyclesReducer.items;\n\nexport const selectCycleLoading = state => state.cyclesReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectCycleError = state => state.cyclesReducer.error[METHODS.RETRIEVE];\nexport const selectCycle = state => state.cyclesReducer.item;\nexport const selectCycleId = state => state.cyclesReducer.itemId;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FlipMove from 'react-flip-move';\n\nimport CycleForm from '../CycleForm';\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport Loader from '../../components/Loader';\nimport CycleItem from '../CycleItem';\nimport { createCycle, updateCycle, deleteCycle, listCycles, selectCycles, selectCyclesLoading, selectCyclesError } from '../../redux/ducks/cycles';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport empty from './empty.svg';\nimport DeleteForm from '../../components/DeleteForm';\n\nexport class CycleList extends Component {\n\tstate = {\n\t\tmodalCycle: null,\n\t\t[MODAL_TYPES.CREATE]: false,\n\t\t[MODAL_TYPES.EDIT]: false,\n\t\t[MODAL_TYPES.DELETE]: false,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tprops.listCycles();\n\t}\n\n\thandleVisibilityChange = (modal, isVisible) => {\n\t\tthis.setState({\n\t\t\t[modal]: isVisible,\n\t\t});\n\t}\n\n\topenModal = (modal, modalCycle) => {\n\t\tthis.setState({\n\t\t\t[modal]: true,\n\t\t\tmodalCycle,\n\t\t});\n\n\t\tif (modal === MODAL_TYPES.CREATE)\n\t\t\tthis.createFormRef.reset();\n\t\telse if (modal === MODAL_TYPES.EDIT)\n\t\t\tthis.editFormRef.reset(modalCycle);\n\t}\n\n\thandleCreateCycle = cycle => {\n\t\tconst {\n\t\t\tcreateCycle,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: false,\n\t\t});\n\n\t\tcreateCycle(cycle);\n\t}\n\n\thandleEditCycle = cycle => {\n\t\tconst {\n\t\t\tupdateCycle,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.EDIT]: false,\n\t\t});\n\n\t\tupdateCycle({ ...this.state.modalCycle, ...cycle });\n\t}\n\n\thandleDeleteCycle = isConfirm => {\n\t\tconst {\n\t\t\tdeleteCycle,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.DELETE]: false,\n\t\t});\n\n\t\tif (isConfirm)\n\t\t\tdeleteCycle(this.state.modalCycle.id);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcycles,\n\t\t\tcyclesLoading,\n\t\t\tcyclesError,\n\t\t} = this.props;\n\n\t\tif (cyclesLoading)\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Cycles</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tif (!cycles || cyclesError)\n\t\t\treturn <Redirect to=\"/\" />;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Cycles</h2>\n\t\t\t\t<div className=\"mb-20\">\n\t\t\t\t\t<Button icon={faPlus} color=\"blue\" onClick={() => this.openModal(MODAL_TYPES.CREATE)}>Create Cycle</Button>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tcycles.length !== 0\n\t\t\t\t\t\t? <FlipMove className=\"item-list\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcycles.map(cycle => (\n\t\t\t\t\t\t\t\t\t<CycleItem\n\t\t\t\t\t\t\t\t\t\tkey={cycle.id}\n\t\t\t\t\t\t\t\t\t\tcycle={cycle}\n\t\t\t\t\t\t\t\t\t\topenEditModal={cycle => this.openModal(MODAL_TYPES.EDIT, cycle)}\n\t\t\t\t\t\t\t\t\t\topenDeleteModal={cycle => this.openModal(MODAL_TYPES.DELETE, cycle)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t\t: <div className=\"grid mt-40\">\n\t\t\t\t\t\t\t<div className=\"center-wide\">\n\t\t\t\t\t\t\t\t<img className=\"mb-20\" src={empty} alt=\"Empty street\" />\n\t\t\t\t\t\t\t\t<h3>No Cycles</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Create Cycle\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.CREATE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.CREATE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<CycleForm onSubmit={this.handleCreateCycle} ref={createForm => this.createFormRef = createForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Edit Cycle\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.EDIT]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.EDIT, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<CycleForm onSubmit={this.handleEditCycle} ref={editForm => this.editFormRef = editForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Delete Cycle\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.DELETE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.DELETE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteForm onSubmit={this.handleDeleteCycle} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tcycles: selectCycles(state),\n\tcyclesLoading: selectCyclesLoading(state),\n\tcyclesError: selectCyclesError(state),\n});\n\nconst dispatchers = {\n\tcreateCycle,\n\tupdateCycle,\n\tdeleteCycle,\n\tlistCycles,\n};\n\nexport default connect(mapStateToProps, dispatchers)(CycleList);","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'timers';\n\n// REDUCER\nconst timersReducer = createApiReducer(ENTITY_NAME);\nexport default timersReducer;\n\n// OPERATIONS\nexport const createTimer = (cycleId, { title, duration, color }) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n    return axios.post(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/`,\n        {\n            title,\n            duration,\n            color,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to create timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n        });\n    ;\n};\n\nexport const retrieveTimer = (cycleId, timerId) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE, timerId));\n\n    return axios.get(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/${timerId}/`,\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n        });\n    ;\n};\n\nexport const updateTimer = (cycleId, { id, title, duration, color }) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE, id));\n\n    return axios.patch(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/${id}/`,\n        {\n            title,\n            duration,\n            color,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to update timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n        });\n};\n\nexport const deleteTimer = (cycleId, timerId) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.DELETE));\n\n    return axios.delete(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/${timerId}/`,\n        getTokenConfig(getState)\n    )\n        .then(() => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.DELETE, timerId));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to delete timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.DELETE, err));\n        });\n};\n\nexport const listTimers = cycleId => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.LIST));\n\n    return axios.get(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/`,\n        getTokenConfig(getState),\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch timers.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n        });\n};\n\nexport const moveUpTimer = (cycleId, timerId) => (dispatch, getState) => {\n\treturn axios.post(\n        `${API_URL}/cycles/${cycleId}/timers/${timerId}/move-up/`,\n        {},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to move up timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n\t\t});\n\t;\n};\n\nexport const moveDownTimer = (cycleId, timerId) => (dispatch, getState) => {\n\treturn axios.post(\n        `${API_URL}/cycles/${cycleId}/timers/${timerId}/move-down/`,\n        {},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to move down timer.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n\t\t});\n\t;\n};\n\n// SELECTORS\nexport const selectTimersLoading = state => state.timersReducer.loading[METHODS.LIST] === true;\nexport const selectTimersError = state => state.timersReducer.error[METHODS.LIST];\nexport const selectTimers = state => state.timersReducer.items;\n\nexport const selectTimerLoading = state => state.timersReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectTimerError = state => state.timersReducer.error[METHODS.RETRIEVE];\nexport const selectTimer = state => state.timersReducer.item;\n","import moment from 'moment';\n\nexport const durationStrToSec = durationStr => moment.duration(durationStr).asSeconds();\n\nexport const durationSecToMMss = durationSec => {\n\tconst minutes = Math.floor(durationSec / 60);\n\tconst seconds = Math.floor(durationSec % 60);\n\n\treturn [minutes, seconds]\n\t\t.map(v => v < 10 ? \"0\" + v : v)\n\t\t.join(\":\");\n};\n\nexport const durationStrToMMss = durationStr => durationSecToMMss(durationStrToSec(durationStr));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport ColorSelect from '../../components/ColorSelect';\nimport { durationStrToMMss } from '../../utils/time';\n\nexport default class CycleForm extends Component {\n\tstate = {\n\t\ttitle: \"\",\n\t\tduration: \"\",\n\t\tcolor: undefined,\n\t}\n\n\treset = cycle => {\n\t\tif (cycle) {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\tduration,\n\t\t\t\tcolor,\n\t\t\t} = cycle;\n\n\t\t\tthis.setState({\n\t\t\t\ttitle,\n\t\t\t\tduration: durationStrToMMss(duration),\n\t\t\t\tcolor,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttitle: \"\",\n\t\t\t\tduration: \"\",\n\t\t\t\tcolor: undefined,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\t\n\thandleColorChange = color => {\n\t\tthis.setState({\n\t\t\tcolor: color,\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tduration,\n\t\t\tcolor,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\ttitle,\n\t\t\tduration,\n\t\t\tcolor,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tduration,\n\t\t\tcolor,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"title\">Title</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"duration\">Duration</label>\n\t\t\t\t\t<p className=\"small\">Format: mm:ss, ss</p>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"duration\"\n\t\t\t\t\t\tname=\"duration\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={duration}\n\t\t\t\t\t\tpattern=\"^\\d+(:\\d+)?$\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"color\">Color</label>\n\t\t\t\t\t<ColorSelect\n\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\tonChange={this.handleColorChange}\n\t\t\t\t\t\tvalue={color}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nCycleForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};","import React, { forwardRef } from 'react'\nimport Button from '../../components/Button';\nimport { faEdit, faTrash, faChevronUp, faChevronDown } from '@fortawesome/free-solid-svg-icons';\n\nimport './index.scss';\nimport { durationStrToMMss } from '../../utils/time';\n\nexport const TimerItem = forwardRef((props, ref) => {\n\tconst {\n\t\ttimer: {\n\t\t\ttitle,\n\t\t\tduration,\n\t\t\tcolor: colorId,\n\t\t},\n\t\tcolors,\n\t\tisEditable,\n\t\tisCurrentTimer,\n\t\topenEditModal,\n\t\topenDeleteModal,\n\t\tmoveUpTimer,\n\t\tmoveDownTimer,\n\t} = props;\n\n\treturn (\n\t\t<div className={`timer-item${isCurrentTimer ? \" current-timer-item\" : \"\"}`} ref={ref}>\n\t\t\t<div className=\"item\">\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"mb-0\">{title}</h3>\n\t\t\t\t\t\t<p className=\"mb-0\">{durationStrToMMss(duration)}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tisEditable &&\n\t\t\t\t\t\t<div className=\"btn-group mt-10\">\n\t\t\t\t\t\t\t<Button icon={faEdit} color=\"green\" size=\"sm\" onClick={openEditModal} aria-label=\"Edit\" />\n\t\t\t\t\t\t\t<Button icon={faTrash} color=\"red\" size=\"sm\" onClick={openDeleteModal} aria-label=\"Delete\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tisEditable &&\n\t\t\t\t\t<div className=\"btn-group btn-group-vertical\">\n\t\t\t\t\t\t{moveUpTimer && <Button icon={faChevronUp} color=\"white\" size=\"sm\" onClick={moveUpTimer} aria-label=\"Move up\" />}\n\t\t\t\t\t\t{moveDownTimer && <Button icon={faChevronDown} color=\"white\" size=\"sm\" onClick={moveDownTimer} aria-label=\"Move down\" />}\n\t\t\t\t\t</div>\n\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className=\"timer-colour\" style={{ backgroundColor: colors.find(color => color.id === colorId).hex_code }}></div>\n\t\t</div>\n\t)\n});\n\nexport default TimerItem;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FlipMove from 'react-flip-move';\n\nimport TimerForm from '../TimerForm';\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport TimerItem from '../TimerItem';\nimport { createTimer, updateTimer, deleteTimer, moveUpTimer, moveDownTimer } from '../../redux/ducks/timers';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport empty from './empty.svg';\nimport DeleteForm from '../../components/DeleteForm';\n\nexport class TimerList extends Component {\n\tstate = {\n\t\tmodalTimer: null,\n\t\t[MODAL_TYPES.CREATE]: false,\n\t\t[MODAL_TYPES.EDIT]: false,\n\t\t[MODAL_TYPES.DELETE]: false,\n\t}\n\n\thandleVisibilityChange = (modal, isVisible) => {\n\t\tthis.setState({\n\t\t\t[modal]: isVisible,\n\t\t});\n\t}\n\n\topenModal = (modal, modalTimer) => {\n\t\tthis.setState({\n\t\t\t[modal]: true,\n\t\t\tmodalTimer,\n\t\t});\n\n\t\tif (modal === MODAL_TYPES.CREATE)\n\t\t\tthis.createFormRef.reset();\n\t\telse if (modal === MODAL_TYPES.EDIT)\n\t\t\tthis.editFormRef.reset(modalTimer);\n\t}\n\n\thandleCreateTimer = timer => {\n\t\tconst {\n\t\t\tcycleId,\n\t\t\tcreateTimer,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: false,\n\t\t});\n\n\t\tcreateTimer(cycleId, timer);\n\t}\n\n\thandleEditTimer = timer => {\n\t\tconst {\n\t\t\tcycleId,\n\t\t\tupdateTimer,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.EDIT]: false,\n\t\t});\n\n\t\tupdateTimer(cycleId, { ...this.state.modalTimer, ...timer });\n\t}\n\n\thandleDeleteTimer = isConfirm => {\n\t\tconst {\n\t\t\tcycleId,\n\t\t\tdeleteTimer,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.DELETE]: false,\n\t\t});\n\n\t\tif (isConfirm)\n\t\t\tdeleteTimer(cycleId, this.state.modalTimer.id);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t\tcycleId,\n\t\t\ttimers,\n\t\t\tcolors,\n\t\t\tmoveUpTimer,\n\t\t\tmoveDownTimer,\n\t\t\tisEditable,\n\t\t\tsetEditable,\n\t\t} = this.props;\n\n\t\tconst currentTimerId = currentTimer ? currentTimer.id : null;\n\n\t\tlet timerElements = timers.map((timer, i) => (\n\t\t\t<TimerItem\n\t\t\t\tkey={timer.id}\n\t\t\t\ttimer={timer}\n\t\t\t\topenEditModal={() => this.openModal(MODAL_TYPES.EDIT, timer)}\n\t\t\t\topenDeleteModal={() => this.openModal(MODAL_TYPES.DELETE, timer)}\n\t\t\t\tisEditable={isEditable && timer.id !== currentTimerId}\n\t\t\t\tmoveUpTimer={i !== 0 ? () => moveUpTimer(cycleId, timer.id) : null}\n\t\t\t\tmoveDownTimer={i !== timers.length - 1 ? () => moveDownTimer(cycleId, timer.id) : null}\n\t\t\t\tcolors={colors}\n\t\t\t\tisCurrentTimer={timer.id === currentTimerId}\n\t\t\t/>\n\t\t));\n\n\t\ttimerElements.push(<hr key=\"divider\" className=\"my-30\" />);\n\t\tconst currentTimerIndex = timers.findIndex(timer => timer.id === currentTimerId);\n\n\t\tif (currentTimerIndex !== -1)\n\t\t\ttimerElements = timerElements.slice(currentTimerIndex).concat(timerElements.slice(0, currentTimerIndex));\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Timers</h2>\n\t\t\t\t<div className=\"btn-group mb-20\">\n\t\t\t\t\t{\n\t\t\t\t\t\tisEditable\n\t\t\t\t\t\t\t? <>\n\t\t\t\t\t\t\t\t<Button icon={faPlus} color=\"blue\" onClick={() => this.openModal(MODAL_TYPES.CREATE)}>Create Timer</Button>\n\t\t\t\t\t\t\t\t<Button key=\"edit-btn\" className=\"ml-auto mr-0\" color=\"faded-grey\" onClick={() => setEditable(false)}>Done</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t: <Button key=\"edit-btn\" className=\"ml-auto mr-0\" color=\"green\" onClick={() => setEditable(true)}>Edit</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\ttimers.length !== 0\n\t\t\t\t\t\t? <FlipMove duration={200} easing=\"ease-out\">\n\t\t\t\t\t\t\t{timerElements}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t\t: <div className=\"grid mt-40\">\n\t\t\t\t\t\t\t<div className=\"center-wide\">\n\t\t\t\t\t\t\t\t<img className=\"mb-20\" src={empty} alt=\"Empty street\" />\n\t\t\t\t\t\t\t\t<h3>No Timers</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Create Timer\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.CREATE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.CREATE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<TimerForm onSubmit={this.handleCreateTimer} ref={createForm => this.createFormRef = createForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Edit Timer\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.EDIT]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.EDIT, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<TimerForm onSubmit={this.handleEditTimer} ref={editForm => this.editFormRef = editForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Delete Timer\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.DELETE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.DELETE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteForm onSubmit={this.handleDeleteTimer} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst dispatchers = {\n\tcreateTimer,\n\tupdateTimer,\n\tdeleteTimer,\n\tmoveUpTimer,\n\tmoveDownTimer,\n};\n\nexport default connect(() => ({}), dispatchers)(TimerList);","import React, { Component } from 'react';\nimport { faPause, faPlay, faStop, faLink, faUnlink, faVolumeUp, faVolumeMute, faStepBackward, faStepForward } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport './index.scss';\nimport ding from './ding.mp3';\nimport { durationSecToMMss, durationStrToSec } from '../../utils/time';\n\nconst MIN_INTERVAL = 250;\n\nexport class TimerDisplay extends Component {\n\tstate = {\n\t\tnonce: 0,\n\t\ttimerEvents: [],\n\t\tautoPlay: true,\n\t\tsound: true,\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval);\n\t}\n\n\tgetSecondsLeft = () => {\n\t\tconst {\n\t\t\ttimerEvents,\n\t\t} = this.state;\n\n\t\tlet timeElapsed = 0;\n\n\t\tfor (let i = 0; i < timerEvents.length; i += 2) {\n\t\t\tlet startTime, endTime;\n\n\t\t\tif (i + 1 < timerEvents.length) {\n\t\t\t\tstartTime = timerEvents[i];\n\t\t\t\tendTime = timerEvents[i + 1];\n\n\t\t\t} else {\n\t\t\t\tstartTime = timerEvents[i];\n\t\t\t\tendTime = new Date();\n\t\t\t}\n\n\t\t\ttimeElapsed += endTime - startTime;\n\t\t}\n\n\t\treturn Math.max(this.getCurrentDuration() - (timeElapsed / 1000), 0);\n\t}\n\n\tgetTimeDisplay = () => {\n\t\tconst secondsLeft = Math.max(Math.round(this.getSecondsLeft()), 0);\n\t\treturn durationSecToMMss(secondsLeft);\n\t}\n\n\tisPaused = () => {\n\t\treturn this.state.timerEvents.length % 2 === 0;\n\t}\n\n\tgetCurrentDuration = () => {\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t} = this.props;\n\n\t\treturn currentTimer ? durationStrToSec(currentTimer.duration) : 0;\n\t}\n\n\ttick = () => {\n\t\tconst secondsLeft = this.getSecondsLeft();\n\n\t\tif (secondsLeft > 0) {\n\t\t\tthis.setState({\n\t\t\t\tnonce: this.state.nonce + 1,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.pause();\n\n\t\t\tif (this.state.sound)\n\t\t\t\tnew Audio(ding).play();\n\n\t\t\tif (this.state.autoPlay) {\n\t\t\t\tthis.changeTimer();\n\t\t\t}\n\t\t}\n\n\t\tthis.updateCanvas();\n\t}\n\n\tchangeTimer = (next = true, play = true) => {\n\t\tconst newTimer = next ? this.props.getNextTimer() : this.props.getPreviousTimer();\n\n\t\tif (!newTimer)\n\t\t\treturn;\n\n\t\tconst duration = durationStrToSec(newTimer.duration);\n\n\t\tif (play) {\n\t\t\tclearInterval(this.interval);\n\t\t\tthis.interval = setInterval(this.tick, Math.min(duration, MIN_INTERVAL));\n\t\t\tthis.setState({\n\t\t\t\tnonce: 0,\n\t\t\t\ttimerEvents: [new Date()],\n\t\t\t});\n\n\t\t} else {\n\t\t\tclearInterval(this.interval);\n\t\t\tthis.setState({\n\t\t\t\tnonce: 0,\n\t\t\t\ttimerEvents: [],\n\t\t\t});\n\t\t\tthis.updateCanvas(newTimer);\n\t\t}\n\t}\n\n\tplay = () => {\n\t\tif (!this.isPaused())\n\t\t\treturn;\n\n\t\tif (this.getSecondsLeft() <= 0) {\n\t\t\tthis.changeTimer();\n\n\t\t} else {\n\t\t\tconst duration = this.getCurrentDuration();\n\t\t\tclearInterval(this.interval);\n\t\t\tthis.interval = setInterval(this.tick, Math.min(duration, MIN_INTERVAL));\n\t\t\tthis.setState({\n\t\t\t\ttimerEvents: [...this.state.timerEvents, new Date()],\n\t\t\t});\n\t\t}\n\t}\n\n\tpause = () => {\n\t\tif (this.isPaused())\n\t\t\treturn;\n\n\t\tclearInterval(this.interval);\n\t\tthis.setState({\n\t\t\ttimerEvents: [...this.state.timerEvents, new Date()],\n\t\t});\n\t}\n\n\tstop = () => {\n\t\tthis.setState({\n\t\t\tnonce: 0,\n\t\t\ttimerEvents: [],\n\t\t});\n\t\tclearInterval(this.interval);\n\t\tthis.props.clearCurrentTimer();\n\t}\n\n\tupdateCanvas = (newTimer = null) => {\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t\tcolors,\n\t\t} = this.props;\n\t\tconst timer = newTimer ? newTimer : currentTimer;\n\n\t\tif (!timer)\n\t\t\treturn;\n\n\t\tlet canvas = this.canvasRef;\n\n\t\tif (canvas) {\n\t\t\tlet ctx = canvas.getContext('2d');\n\n\t\t\tlet width = canvas.width;\n\t\t\tlet height = canvas.height;\n\n\t\t\tvar cx = width / 2;\n\t\t\tvar cy = height / 2;\n\n\t\t\tconst percentage = newTimer ? 1 : this.getSecondsLeft() / this.getCurrentDuration();\n\t\t\tconst color = colors.find(color => color.id === timer.color);\n\n\t\t\tctx.globalCompositeOperation = 'destination-over';\n\t\t\tctx.clearRect(0, 0, width, height);\n\n\t\t\tctx.save();\n\n\t\t\tctx.fillStyle = color ? color.hex_code : null;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(cx, cy);\n\t\t\tctx.arc(cx, cy, width / 2, -Math.PI / 2, -Math.PI / 2 + percentage * 2 * Math.PI);\n\t\t\tctx.lineTo(cx, cy);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t\tisDisabled,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tautoPlay,\n\t\t\tsound,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"timer-display\">\n\t\t\t\t<div className=\"progress-circle\">\n\t\t\t\t\t<canvas className=\"outer-circle\" ref={canvas => this.canvasRef = canvas} height=\"600px\" width=\"600px\" style={{ display: currentTimer ? \"block\" : \"none\" }}></canvas>\n\t\t\t\t\t<div className=\"inner-circle\">\n\t\t\t\t\t\t<p>{this.getTimeDisplay()}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\t!isDisabled &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcurrentTimer &&\n\t\t\t\t\t\t\t<h3>{currentTimer.title}</h3>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t<Button icon={faStepBackward} color=\"faded-grey\" onClick={() => this.changeTimer(false, false)} aria-label=\"Previous timer\" />\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.isPaused()\n\t\t\t\t\t\t\t\t\t? <Button icon={faPlay} color=\"faded-grey\" onClick={this.play} aria-label=\"Play\" />\n\t\t\t\t\t\t\t\t\t: <Button icon={faPause} color=\"faded-grey\" onClick={this.pause} aria-label=\"Pause\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Button icon={faStop} color=\"faded-grey\" onClick={this.stop} aria-label=\"Stop\" />\n\t\t\t\t\t\t\t<Button icon={faStepForward} color=\"faded-grey\" onClick={() => this.changeTimer(true, false)} aria-label=\"Next timer\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t<Button icon={autoPlay ? faLink : faUnlink} color={autoPlay ? \"dark-grey\" : \"faded-grey\"} onClick={() => this.setState({ autoPlay: !autoPlay })}>Auto-play: {autoPlay ? \"On\" : \"Off\"}</Button>\n\t\t\t\t\t\t\t<Button icon={sound ? faVolumeUp : faVolumeMute} color={sound ? \"dark-grey\" : \"faded-grey\"} onClick={() => this.setState({ sound: !sound })}>Sound: {sound ? \"On\" : \"Off\"}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default TimerDisplay;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { Helmet } from \"react-helmet\";\n\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Loader from '../../components/Loader';\nimport { retrieveCycle, selectCycle, selectCycleId, selectCycleLoading, selectCycleError } from '../../redux/ducks/cycles';\nimport { listTimers, selectTimers, selectTimersLoading, selectTimersError } from '../../redux/ducks/timers';\nimport { listColors, selectColors, selectColorsLoading, selectColorsError } from '../../redux/ducks/colors';\nimport TimerList from '../TimerList';\nimport TimerDisplay from '../TimerDisplay';\n\nexport class CycleDetailPage extends Component {\n\tstate = {\n\t\tisEditable: false,\n\t\tcurrentTimer: null,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst cycleId = props.match.params.cycleId;\n\t\tprops.retrieveCycle(cycleId);\n\t\tprops.listTimers(cycleId);\n\t\tprops.listColors();\n\t}\n\n\tgetTimer = (next = true) => {\n\t\tconst {\n\t\t\ttimers,\n\t\t\ttimersLoading,\n\t\t\ttimersError,\n\t\t\tcolors,\n\t\t\tcolorsLoading,\n\t\t\tcolorsError,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t} = this.state;\n\n\t\tlet timer = null;\n\n\t\tif (timers && !timersLoading && !timersError && colors && !colorsLoading && !colorsError && timers.length !== 0) {\n\t\t\tif (currentTimer === null) {\n\t\t\t\ttimer = next ? timers[0] : timers[timers.length - 1];\n\n\t\t\t} else {\n\t\t\t\tconst currentTimerIndex = timers.findIndex(timer => timer.id === currentTimer.id);\n\t\t\t\ttimer = next ? timers[(currentTimerIndex + 1) % timers.length] : timers[(currentTimerIndex + timers.length - 1) % timers.length];\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({\n\t\t\tcurrentTimer: timer,\n\t\t});\n\t\treturn timer;\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcycle,\n\t\t\tcycleId,\n\t\t\tcycleLoading,\n\t\t\tcycleError,\n\t\t\ttimers,\n\t\t\ttimersLoading,\n\t\t\ttimersError,\n\t\t\tcolors,\n\t\t\tcolorsLoading,\n\t\t\tcolorsError,\n\t\t\tmatch: {\n\t\t\t\tparams\n\t\t\t}\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tisEditable,\n\t\t\tcurrentTimer,\n\t\t} = this.state;\n\n\t\tif (cycleLoading || cycleId !== params.cycleId || timersLoading || colorsLoading)\n\t\t\treturn <Loader />;\n\n\t\tif (!cycle || cycleError || !timers || timersError || !colors || colorsError)\n\t\t\treturn <Redirect to=\"/time-cycles\" />;\n\n\t\tconst {\n\t\t\ttitle,\n\t\t} = cycle;\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>{`Time Cycles | ${title}`}</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<Breadcrumbs\n\t\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t\t{ title: \"Time Cycles\", to: \"/time-cycles\" },\n\t\t\t\t\t\t{ title },\n\t\t\t\t\t]} />\n\t\t\t\t<div className=\"side-by-side\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t\t\t<TimerDisplay\n\t\t\t\t\t\t\tcurrentTimer={currentTimer}\n\t\t\t\t\t\t\tcolors={colors}\n\t\t\t\t\t\t\tclearCurrentTimer={() => this.setState({ currentTimer: null })}\n\t\t\t\t\t\t\tgetPreviousTimer={() => this.getTimer(false)}\n\t\t\t\t\t\t\tgetNextTimer={() => this.getTimer(true)}\n\t\t\t\t\t\t\tisDisabled={timers.length === 0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<TimerList\n\t\t\t\t\t\ttimers={timers}\n\t\t\t\t\t\tcolors={colors}\n\t\t\t\t\t\tcycleId={cycleId}\n\t\t\t\t\t\tisEditable={isEditable}\n\t\t\t\t\t\tsetEditable={isEditable => this.setState({ isEditable })}\n\t\t\t\t\t\tcurrentTimer={currentTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tcycle: selectCycle(state),\n\tcycleId: selectCycleId(state),\n\tcycleLoading: selectCycleLoading(state),\n\tcycleError: selectCycleError(state),\n\n\ttimers: selectTimers(state),\n\ttimersLoading: selectTimersLoading(state),\n\ttimersError: selectTimersError(state),\n\n\tcolors: selectColors(state),\n\tcolorsLoading: selectColorsLoading(state),\n\tcolorsError: selectColorsError(state),\n});\n\nconst dispatchers = {\n\tretrieveCycle,\n\tlistTimers,\n\tlistColors,\n};\n\nexport default connect(mapStateToProps, dispatchers)(CycleDetailPage);\n","import CycleListPage from './CycleListPage';\nimport CycleDetailPage from './CycleDetailPage';\n\nexport const ROUTES = [\n\t{\n\t\tpath: \"/time-cycles\",\n\t\texact: true,\n\t\tcomponent: CycleListPage,\n\t},\n\t{\n\t\tpath: \"/time-cycles/:cycleId\",\n\t\texact: true,\n\t\tcomponent: CycleDetailPage,\n\t}\n]\n\nexport default ROUTES;\n","import React from 'react';\nimport { Helmet } from \"react-helmet\";\n\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport CycleList from '../CycleList';\n\nexport default function CycleListPage() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Time Cycles</title>\n\t\t\t</Helmet>\n\t\t\t<Breadcrumbs\n\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t{ title: \"Time Cycles\" },\n\t\t\t\t]} />\n\t\t\t<h1>Time Cycles</h1>\n\t\t\t<CycleList/>\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Errors from '../Errors';\nimport Loader from '../../components/Loader';\nimport HomePage from '../HomePage';\nimport NotFoundPage from '../NotFoundPage';\n\nimport { GUEST_AUTH_ROUTES, USER_AUTH_ROUTES } from '../../auth/routes';\nimport DAYS_SINCE_ROUTES from '../../days-since/routes';\nimport TIME_CYCLES_ROUTES from '../../time-cycles/routes';\n\nimport { refreshTokenLogin, selectRefreshToken, selectAccessToken, selectLoginLoading, selectLoginError } from '../../redux/ducks/auth';\n\nconst RedirectToNext = props => {\n\tconst next = new URLSearchParams(props.location.search).get(\"next\");\n\treturn <Redirect to={`/${next ? next : \"\"}`} />;\n};\n\nexport class AppRouter extends Component {\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\trefreshToken,\n\t\t\trefreshTokenLogin,\n\t\t} = this.props;\n\n\t\tif (refreshToken)\n\t\t\trefreshTokenLogin();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tloginLoading,\n\t\t\tloginError,\n\t\t\trefreshToken,\n\t\t\taccessToken,\n\t\t} = this.props;\n\n\t\tif ((refreshToken && !accessToken) || loginLoading)\n\t\t\treturn <Loader />;\n\n\t\tif (!accessToken || loginError) {\n\t\t\treturn (\n\t\t\t\t<Router>\n\t\t\t\t\t<Errors />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tGUEST_AUTH_ROUTES.map((route, i) => <Route key={i} {...route} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\tfrom=\"/:next\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tto=\"/login?next=:next\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\tfrom=\"/\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t);\n\n\t\t} else {\n\t\t\tlet allRoutes = [\n\t\t\t\t...USER_AUTH_ROUTES,\n\t\t\t\t...DAYS_SINCE_ROUTES,\n\t\t\t\t...TIME_CYCLES_ROUTES,\n\t\t\t];\n\n\t\t\treturn (\n\t\t\t\t<Router>\n\t\t\t\t\t<Errors />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={HomePage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallRoutes.map((route, i) => <Route key={i} {...route} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={RedirectToNext}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tGUEST_AUTH_ROUTES.map((route, i) => (\n\t\t\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\t\t\tkey={`auth-${i}`}\n\t\t\t\t\t\t\t\t\tfrom={route.path}\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/not-found\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={NotFoundPage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\tfrom=\"/\"\n\t\t\t\t\t\t\tto=\"/not-found\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tloginLoading: selectLoginLoading(state),\n\tloginError: selectLoginError(state),\n\trefreshToken: selectRefreshToken(state),\n\taccessToken: selectAccessToken(state),\n});\n\nconst dispatchers = {\n\trefreshTokenLogin,\n};\n\nexport default connect(mapStateToProps, dispatchers)(AppRouter);\n","import { combineReducers } from 'redux';\n\nimport errorsReducer from './ducks/errors';\nimport authReducer from './ducks/auth';\nimport colorsReducer from './ducks/colors';\nimport timezonesReducer from './ducks/timezones';\nimport profileReducer from './ducks/profile';\n\nimport activitiesReducer from './ducks/activities';\nimport activityEventsReducer from './ducks/activityEvents';\nimport activityStatisticsReducer from './ducks/activityStatistics';\n\nimport cyclesReducer from './ducks/cycles';\nimport timersReducer from './ducks/timers';\n\nexport default combineReducers({\n\t// Common\n\terrorsReducer,\n\tauthReducer,\n\tcolorsReducer,\n\ttimezonesReducer,\n\tprofileReducer,\n\n\t// Days Since\n\tactivitiesReducer,\n\tactivityEventsReducer,\n\tactivityStatisticsReducer,\n\n\t// Time Cycles\n\tcyclesReducer,\n\ttimersReducer,\n});","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './rootReducer';\n\nconst initialState = {}\nconst middleware = [thunk];\n\nconst store = createStore(\n\trootReducer,\n\tinitialState,\n\tcompose(\n\t\tapplyMiddleware(...middleware),\n\t\t// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() // To use redux dev tools\n\t)\n);\n\nexport default store;","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport AppRouter from '../AppRouter';\nimport store from '../../redux/store';\n\n/** This component is the entrypoint of the react app */\nfunction App() {\n    return (\n        <Provider store={store}>\n            <AppRouter />\n        </Provider>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './common/App';\nimport './styles/index.scss';\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('app-root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/not-found.b882863e.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.afc6d931.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.ca39146a.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.afc6d931.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.ca39146a.svg\";","module.exports = __webpack_public_path__ + \"static/media/ding.d82fffe4.mp3\";"],"sourceRoot":""}