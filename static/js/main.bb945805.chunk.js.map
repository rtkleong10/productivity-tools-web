{"version":3,"sources":["serviceWorker.js","redux/ducks/errors.js","components/Button/index.js","common/Errors/index.js","components/Loader/index.js","components/Breadcrumbs/index.js","common/HomePage/index.js","common/NotFoundPage/index.js","common/RedirectToNext/index.js","auth/LoginForm/index.js","utils/constants.js","redux/ducks/helpers.js","redux/ducks/auth.js","auth/LoginPage/index.js","auth/LogoutPage/index.js","auth/SignupForm/index.js","auth/SignupPage/index.js","components/Select/index.js","redux/ducks/timezones.js","components/TimezoneSelect/index.js","redux/ducks/profile.js","auth/ProfileForm/index.js","auth/ProfilePage/index.js","auth/routes.js","components/Modal/index.js","redux/ducks/colors.js","components/ColorSelect/index.js","days-since/ActivityForm/index.js","utils/text.js","days-since/DaysSinceDisplay/index.js","days-since/utils.js","redux/ducks/activities.js","redux/ducks/activityEvents.js","days-since/ActivityItem/index.js","days-since/ActivityList/index.js","components/DatePicker/index.js","days-since/EventForm/index.js","components/DeleteForm/index.js","components/FadeTransition/index.js","days-since/EventItem/index.js","redux/ducks/activityStatistics.js","days-since/EventList/index.js","days-since/ActivityStatistics/index.js","days-since/ActivityDetailPage/index.js","days-since/routes.js","days-since/ActivityListPage/index.js","time-cycles/CycleForm/index.js","time-cycles/CycleItem/index.js","redux/ducks/cycles.js","time-cycles/CycleList/index.js","redux/ducks/timers.js","utils/time.js","time-cycles/TimerForm/index.js","time-cycles/TimerItem/index.js","time-cycles/TimerList/index.js","time-cycles/TimerDisplay/index.js","time-cycles/CycleDetailPage/index.js","time-cycles/routes.js","time-cycles/CycleListPage/index.js","common/AppRouter/index.js","redux/rootReducer.js","redux/store.js","common/App/index.js","index.js","common/NotFoundPage/not-found.svg","days-since/ActivityList/empty.svg","days-since/EventList/empty.svg","time-cycles/CycleList/empty.svg","time-cycles/TimerList/empty.svg","time-cycles/TimerDisplay/ding.mp3"],"names":["Boolean","window","location","hostname","match","initialState","errors","closeErrorAction","id","type","payload","removeErrorAction","displayError","errorMessage","dispatch","uid","Date","now","toString","Math","random","substr","message","isVisible","setTimeout","selectErrors","state","errorsReducer","colors","sizes","Button","props","className","isLink","isRounded","size","color","icon","children","rest","classList","push","includes","contents","join","Errors","this","closeError","map","error","key","faTimes","onClick","Component","dispatchers","connect","Loader","Breadcrumbs","breadcrumbs","breadcrumb","i","title","to","length","faChevronRight","HomePage","Helmet","faUser","faSignOutAlt","faCalendar","faClock","NotFoundPage","src","notFound","alt","faChevronLeft","RedirectToNext","next","URLSearchParams","search","get","LoginForm","username","password","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","onSubmit","htmlFor","onChange","required","faPaperPlane","ROOT_URL","AUTH_URL","API_URL","MODAL_TYPES","STATUSES","METHODS","CREATE","RETRIEVE","UPDATE","DELETE","LIST","getActionTypes","actionName","actionNameUpper","toUpperCase","REQUEST","SUCCESS","FAILURE","createAction","createApiAction","entityName","status","method","createApiReducer","loading","items","item","itemId","action","actionTypePattern","actionEntityName","actionStatus","actionMethod","Object","values","filter","getTokenConfig","getState","headers","Authorization","authReducer","accessToken","displayErrorMsgOrUnauth","err","response","LOGIN_ACTIONS","SIGNUP_ACTIONS","refreshToken","Cookies","loginLoading","loginError","signupLoading","signupError","authLogin","axios","post","then","res","data","catch","selectRefreshToken","selectAccessToken","selectLoginLoading","selectLoginError","LogoutPage","logout","SignupForm","email","password2","alert","autoComplete","signup","Select","options","disabled","classNamePrefix","placeholder","components","IndicatorSeparator","find","option","tabIndex","style","opacity","height","padding","margin","TIMEZONES_ACTIONS","selectTimezonesLoading","timezonesReducer","selectTimezonesError","selectTimezones","listTimezones","timezones","timezonesLoading","timezonesError","useEffect","timezoneOptions","timezone","label","replace","isLoading","profileReducer","selectProfileLoading","selectProfileError","selectProfile","selectProfileUpdateLoading","ProfileForm","handleTimezoneChange","profile","profileUpdateLoading","faSpinner","faSave","retrieveProfile","updateProfile","patch","profileLoading","profileError","GUEST_AUTH_ROUTES","path","exact","component","LoginPage","SignupPage","USER_AUTH_ROUTES","ProfilePage","modalRoot","document","getElementById","Modal","handleKeyDown","keyCode","handleClose","onVisibilityChange","draftIsVisible","el","createElement","addEventListener","appendChild","removeEventListener","removeChild","finalIsVisible","undefined","ReactDOM","createPortal","COLORS_ACTIONS","listColors","selectColorsLoading","colorsReducer","selectColorsError","selectColors","dot","alignItems","display","backgroundColor","borderRadius","content","marginRight","width","colorStyles","styles","hex_code","singleValue","colorsLoading","colorsError","colorOptions","isSearchable","ActivityForm","description","frequency","reset","activity","handleColorChange","parseInt","maxLength","min","step","getTextWithBrs","text","lines","split","DaysSinceDisplay","canvasRef","useRef","days_since","daysLeft","clockDisplay","abs","getClockDisplay","percentage","max","startTime","canvas","current","ctx","getContext","draw","cx","cy","timeElapsed","multiplier","pow","sin","PI","globalCompositeOperation","clearRect","save","fillStyle","beginPath","moveTo","arc","lineTo","closePath","fill","restore","requestAnimationFrame","innerCircle","ref","EVENT_TYPES","EVENT_TYPE_OPTIONS","getFrequencyDisplay","round","activitiesReducer","selectActivitiesLoading","selectActivitiesError","selectActivities","selectActivityLoading","selectActivityError","selectActivity","selectActivityId","activityEventsReducer","selectActivityEventsLoading","selectActivityEventsError","selectActivityEvents","getLastEventTypeDisplay","last_event_type","getDaysSinceDisplay","floor","ActivityItem","forwardRef","todays_event","performEvent","eventDisplay","faCheck","aria-label","faForward","activityId","event_type","ActivityList","handleVisibilityChange","openCreateModal","activityFormRef","handleCreateActivity","createActivity","mapActivitiesToActivityItems","activities","colorId","listActivities","activitiesLoading","activitiesError","activitiesSplitByFrequency","reduce","acc","true","false","sort","a","b","faPlus","empty","activityForm","DatePicker","formatDate","date","format","moment","parseDate","str","toDate","onDayChange","inputProps","onKeyDown","EventForm","event","handleEventTypeChange","handleDateChange","disabledDates","dayPickerProps","disabledDays","DeleteForm","faTrash","FadeTransition","CSSTransition","classNames","timeout","unmountOnExit","EventItem","isEditable","openEditModal","openDeleteModal","dateStr","faQuestion","in","faEdit","ACTIVITYSTATS_ACTIONS","retrieveActivityStatistics","selectActivityStatisticsLoading","activityStatisticsReducer","selectActivityStatisticsError","selectActivityStatistics","EventList","modalEvent","modal","openModal","createFormRef","editFormRef","handleCreateEvent","createActivityEvent","handleEditEvent","updateActivityEvent","handleDeleteEvent","isConfirm","deleteActivityEvent","listActivityEvents","activityEvents","activityEventsLoading","activityEventsError","reverse","visibility","createForm","editForm","activityEventId","delete","activityStatistics","activityStatisticsLoading","activityStatisticsError","average_frequency","total_count","completed_count","skipped_count","toFixed","ActivityDetailPage","handleEditActivity","updateActivity","handleDeleteActivity","deleteActivity","params","retrieveActivity","activityLoading","activityError","ROUTES","CycleForm","cycle","CycleItem","total_duration","cyclesReducer","selectCyclesLoading","selectCyclesError","selectCycles","selectCycleLoading","selectCycleError","selectCycle","selectCycleId","CycleList","modalCycle","handleCreateCycle","createCycle","handleEditCycle","updateCycle","handleDeleteCycle","deleteCycle","listCycles","cycles","cyclesLoading","cyclesError","cycleId","timersReducer","selectTimersLoading","selectTimersError","selectTimers","durationStrToSec","durationStr","duration","asSeconds","durationSecToMMss","durationSec","v","durationStrToMMss","pattern","TimerItem","timer","isCurrentTimer","moveUpTimer","moveDownTimer","faChevronUp","faChevronDown","TimerList","modalTimer","handleCreateTimer","createTimer","handleEditTimer","updateTimer","handleDeleteTimer","deleteTimer","currentTimer","timers","setEditable","currentTimerId","timerElements","currentTimerIndex","findIndex","slice","concat","easing","timerId","TimerDisplay","nonce","timerEvents","autoPlay","sound","getSecondsLeft","endTime","getCurrentDuration","getTimeDisplay","secondsLeft","isPaused","tick","pause","Audio","ding","play","changeTimer","updateCanvas","newTimer","getNextTimer","getPreviousTimer","clearInterval","interval","setInterval","stop","clearCurrentTimer","isDisabled","faStepBackward","faPlay","faPause","faStop","faStepForward","faLink","faUnlink","faVolumeUp","faVolumeMute","CycleDetailPage","getTimer","timersLoading","timersError","retrieveCycle","listTimers","cycleLoading","cycleError","AppRouter","refreshTokenLogin","route","from","allRoutes","DAYS_SINCE_ROUTES","TIME_CYCLES_ROUTES","refresh","combineReducers","access","set","remove","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","App","render","navigator","serviceWorker","ready","registration","unregister","console","module","exports"],"mappings":"oWAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,8ECZAC,EAAe,CACjBC,OAAQ,IAoCZ,SAASC,EAAiBC,GACtB,MAAO,CACHC,KA3CY,cA4CZC,QAASF,GAIjB,SAASG,EAAkBH,GACvB,MAAO,CACHC,KAjDa,eAkDbC,QAASF,GAKV,IAAMI,EAAe,SAAAC,GAAY,OAAI,SAAAC,GAExC,IAAMC,EAAMC,KAAKC,MAAMC,SAAS,IAAMC,KAAKC,SAASF,SAAS,IAAIG,OAAO,GAExEP,EAzBO,CACHL,KArCc,gBAsCdC,QAuBwB,CACxBF,GAAIO,EACJO,QAAST,EACTU,WAAW,KAIfC,YAAW,kBAAMV,EAASP,EAAiBQ,MAAO,KAGlDS,YAAW,kBAAMV,EAASH,EAAkBI,MAAO,OAW1CU,EAAe,SAAAC,GAAK,OAAIA,EAAMC,cAAcrB,Q,wBC5EnDsB,G,MAAS,CACd,YACA,cACA,aACA,QACA,OACA,MACA,QACA,WAGKC,EAAQ,CACb,KACA,MAGc,SAASC,EAAOC,GAAQ,IAErCC,EAQGD,EARHC,UACAC,EAOGF,EAPHE,OACAC,EAMGH,EANHG,UACAC,EAKGJ,EALHI,KACAC,EAIGL,EAJHK,MACAC,EAGGN,EAHHM,KACAC,EAEGP,EAFHO,SACGC,EATiC,YAUjCR,EAViC,qEAYjCS,EAAY,CAAC,OAEbR,GACHQ,EAAUC,KAAKT,GAGZE,GACHM,EAAUC,KAAK,eAGZZ,EAAMa,SAASP,IAAmB,OAAVC,GAC3BI,EAAUC,KAAV,cAAsBN,IAGnBP,EAAOc,SAASN,IAAoB,cAAVA,GAC7BI,EAAUC,KAAV,cAAsBL,IAEvB,IAAMO,EACL,oCACEN,GAAQ,kBAAC,IAAD,CAAiBL,UAAWM,EAAW,QAAU,GAAID,KAAMA,IACnEC,GAIH,OAAIL,EAEF,kBAAC,IAAD,eAAMD,UAAWQ,EAAUI,KAAK,MAAUL,GACxCI,GAKF,0CAAQX,UAAWQ,EAAUI,KAAK,MAAUL,GAC1CI,GC3DE,IAAME,EAAb,uKACW,IAAD,EAIJC,KAAKf,MAFRzB,EAFO,EAEPA,OACAyC,EAHO,EAGPA,WAGD,OACC,yBAAKf,UAAU,iBAEb1B,EAAO0C,KAAI,SAAAC,GAAU,IAEnBzC,EAGGyC,EAHHzC,GACAe,EAEG0B,EAFH1B,UACAD,EACG2B,EADH3B,QAGD,OACC,yBAAKU,UAAS,mBAAcT,EAAY,GAAK,eAAiB2B,IAAK1C,GAClE,yBAAKwB,UAAU,gBACd,uBAAGA,UAAU,OAAb,SACA,kBAAC,EAAD,CAAQA,UAAU,qBAAqBI,MAAM,QAAQC,KAAMc,IAASC,QAAS,kBAAML,EAAWvC,OAE/F,uBAAGwB,UAAU,OAAOV,YAvB5B,GAA4B+B,aA8CtBC,EAAc,CACnBP,WFmByB,SAAAvC,GAAE,OAAI,SAAAM,GAC5BA,EAASP,EAAiBC,IAG1BgB,YAAW,kBAAMV,EAASH,EAAkBH,MAAM,QEpBvC+C,eARS,SAAA7B,GAAK,MAAK,CACjCpB,OAAQmB,EAAaC,MAOkB4B,EAAzBC,CAAsCV,G,MCxDtC,SAASW,IACpB,OACI,yBAAKxB,UAAU,W,YCCR,SAASyB,EAAY1B,GAAQ,IAE1C2B,EAEG3B,EAFH2B,YACGnB,EAHsC,YAItCR,EAJsC,iBAM1C,OACC,sBAAOQ,EAELmB,EAAYV,KAAI,SAACW,EAAYC,GAAO,IAElCC,EAIGF,EAJHE,MAEAC,GAEGH,EAHH3B,UAGG2B,EAFHG,IACGvB,EAL8B,YAM9BoB,EAN8B,4BASlC,OAAIC,EAAIF,EAAYK,OAAS,EAE3B,kBAAC,WAAD,CAAUb,IAAKU,GACd,kBAAC,IAAD,eAAME,GAAIA,GAAQvB,GAAOsB,GACzB,kBAAC,IAAD,CAAiBxB,KAAM2B,IAAgBhC,UAAU,UAK5C,wCAAMkB,IAAKU,GAAOrB,GAAOsB,OC1BvB,SAASI,IAEvB,OACC,yBAAKjC,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,sDAED,kBAACT,EAAD,CACCC,YAAa,CACZ,CAAEG,MAAO,WAEX,8DACA,yBAAK7B,UAAU,mBACd,kBAAC,EAAD,CAAQC,QAAQ,EAAM6B,GAAG,WAAWzB,KAAM8B,KAA1C,WACA,kBAAC,EAAD,CAAQlC,QAAQ,EAAM6B,GAAG,UAAU1B,MAAM,aAAaC,KAAM+B,KAA5D,YAED,yBAAKpC,UAAU,gCACd,kBAAC,EAAD,CAAQC,QAAQ,EAAM6B,GAAG,cAAc1B,MAAM,OAAOC,KAAMgC,KAA1D,cACA,kBAAC,EAAD,CAAQpC,QAAQ,EAAM6B,GAAG,eAAe1B,MAAM,SAASC,KAAMiC,KAA7D,iB,qBClBW,SAASC,IACvB,OACC,yBAAKvC,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,6CAED,yBAAKlC,UAAU,gBACd,yBAAKwC,IAAKC,IAAUC,IAAI,kCACxB,yBAAK1C,UAAU,SACd,6CACA,8FAED,kBAAC,EAAD,CAAQC,QAAQ,EAAM6B,GAAG,IAAIzB,KAAMsC,KAAnC,oBCfW,SAASC,EAAe7C,GACtC,IAAM8C,EAAO,IAAIC,gBAAgB/C,EAAM7B,SAAS6E,QAAQC,IAAI,QAC5D,OAAO,kBAAC,IAAD,CAAUlB,GAAE,WAAMe,GAAc,M,WCAnBI,E,4MACpBvD,MAAQ,CACPwD,SAAU,GACVC,SAAU,I,EAGXC,aAAe,SAAAC,GACd,EAAKC,SAAL,eACED,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,EAI5BC,aAAe,SAAAL,GACdA,EAAEM,iBADiB,MAMf,EAAKjE,MAFRwD,EAJkB,EAIlBA,SACAC,EALkB,EAKlBA,SAGD,EAAKpD,MAAM6D,SAAS,CACnBV,WACAC,c,uDAIQ,IAAD,EAIJrC,KAAKpB,MAFRwD,EAFO,EAEPA,SACAC,EAHO,EAGPA,SAGD,OACC,0BAAMS,SAAU9C,KAAK4C,cACpB,yBAAK1D,UAAU,cACd,2BAAO6D,QAAQ,YAAf,YACA,2BACCL,KAAK,WACLhF,GAAG,WACHC,KAAK,OACLqF,SAAUhD,KAAKsC,aACfK,MAAOP,EACPa,UAAQ,KAGV,yBAAK/D,UAAU,cACd,2BAAO6D,QAAQ,YAAf,YACA,2BACCL,KAAK,WACLhF,GAAG,WACHC,KAAK,WACLqF,SAAUhD,KAAKsC,aACfK,MAAON,EACPY,UAAQ,KAGV,kBAAC,EAAD,CAAQ1D,KAAM2D,KAAd,e,GAxDmC3C,a,iCCN1B4C,EAAW,sDAGXC,EAAQ,UAAMD,EAAN,SACRE,EAAO,UAAMF,EAAN,QAEPG,EACJ,qBADIA,EAEN,mBAFMA,EAGJ,qBCNIC,EACA,UADAA,EAEA,UAFAA,EAGA,UAGAC,EAAU,CACnBC,OAAQ,SACRC,SAAU,WACVC,OAAQ,SACRC,OAAQ,SACRC,KAAM,QAGH,SAASC,GAAeC,GAC3B,IAAMC,EAAkBD,EAAWE,cAEnC,MAAO,CACHC,QAAQ,GAAD,OAAKF,EAAL,YAAwBT,GACrCY,QAAQ,GAAD,OAAKH,EAAL,YAAwBT,GAC/Ba,QAAQ,GAAD,OAAKJ,EAAL,YAAwBT,IAI1B,SAASc,GAAa1G,GAAuB,IAAjBC,EAAgB,uDAAN,KAC5C,MAAO,CACND,OACAC,WAIK,SAAS0G,GAAgBC,EAAYC,EAAQC,EAAQ7G,GACxD,MAAO,CACHD,KAAK,GAAD,OAAK4G,EAAWN,cAAhB,YAAiCO,EAAjC,YAA2CC,GAC/C7G,QAASA,GAKV,SAAS8G,GAAiBH,GAAsB,IAAD,IAAT7G,EAAS,uDAAN,KACtCH,EAAe,CACjBoH,SAAO,mBACFnB,EAAQC,QAAS,GADf,cAEFD,EAAQE,UAAW,GAFjB,cAGFF,EAAQG,QAAS,GAHf,cAIFH,EAAQI,QAAS,GAJf,cAKFJ,EAAQK,MAAO,GALb,GAOb1D,OAAK,mBACHqD,EAAQC,OAAS,MADd,cAEMD,EAAQE,SAAW,MAFzB,cAGMF,EAAQG,OAAS,MAHvB,cAIMH,EAAQI,OAAS,MAJvB,cAKMJ,EAAQK,KAAO,MALrB,GAOCe,MAAO,GACPC,KAAM,KACNC,OAAQ,MAGZ,OAAO,WAAgD,IAA/BlG,EAA8B,uDAAtBrB,EAAcwH,EAAQ,uCAC5CC,EAAoB,mBACpB1H,EAAQyH,EAAOpH,KAAKL,MAAM0H,GAEhC,IAAK1H,EACD,OAAOsB,EAEX,IAAMqG,EAAmB3H,EAAM,GACzB4H,EAAe5H,EAAM,GACrB6H,EAAe7H,EAAM,GAE3B,GAAI2H,IAAqBV,EAAWN,gBAAkBmB,OAAOC,OAAO7B,GAAS5D,SAASuF,GAClF,OAAOvG,EAEX,OAAQsG,GACJ,KAAK3B,EACD,OAAO,2BACA3E,GADP,IAEI+F,QAAQ,2BACD/F,EAAM+F,SADN,kBAEFQ,GAAe,IAEpBhF,MAAM,2BACCvB,EAAMuB,OADR,kBAEAgF,EAAe,OAEpBL,OAASC,EAAOnH,QAAWmH,EAAOnH,QAAUgB,EAAMkG,SAG1D,KAAKvB,EACD,OAAQ4B,GACJ,KAAK3B,EAAQC,OACT,OAAO,2BACA7E,GADP,IAEI+F,QAAQ,2BACD/F,EAAM+F,SADN,kBAEFQ,GAAe,IAEpBP,MAAM,GAAD,mBAAMhG,EAAMgG,OAAZ,CAAmBG,EAAOnH,YAGvC,KAAK4F,EAAQE,SACT,OAAO,2BACA9E,GADP,IAEI+F,QAAQ,2BACD/F,EAAM+F,SADN,kBAEFQ,GAAe,IAEpBN,KAAME,EAAOnH,UAGrB,KAAK4F,EAAQG,OACT,OAAO,2BACA/E,GADP,IAEI+F,QAAQ,2BACD/F,EAAM+F,SADN,kBAEFQ,GAAe,IAEpBP,MAAOhG,EAAMgG,MAAM1E,KAAI,SAAA2E,GAAI,OAAKA,EAAKnH,KAAQqH,EAAOnH,QAAQF,GAA7B,YAAC,eAAwCmH,GAASE,EAAOnH,SAAYiH,KACpGA,KAAME,EAAOnH,UAGrB,KAAK4F,EAAQI,OACT,OAAO,2BACAhF,GADP,IAEI+F,QAAQ,2BACD/F,EAAM+F,SADN,kBAEFQ,GAAe,IAEpBhF,MAAM,2BACCvB,EAAMuB,OADR,kBAEAqD,EAAQE,SAAW9E,EAAMiG,MAAQjG,EAAMiG,KAAKnH,KAAQqH,EAAOnH,QAAU,UAAYgB,EAAMuB,MAAMqD,EAAQE,YAE1GkB,MAAOhG,EAAMgG,MAAMU,QAAO,SAAAT,GAAI,OAAIA,EAAKnH,KAAQqH,EAAOnH,aAG9D,KAAK4F,EAAQK,KACT,OAAO,2BACAjF,GADP,IAEI+F,QAAQ,2BACD/F,EAAM+F,SADN,kBAEFQ,GAAe,IAEpBP,MAAOG,EAAOnH,UAGtB,QACI,OAAOgB,EAGnB,KAAK2E,EACD,OAAO,2BACA3E,GADP,IAEI+F,QAAQ,2BACD/F,EAAM+F,SADN,kBAEFQ,GAAe,IAEpBhF,MAAM,2BACCvB,EAAMuB,OADR,kBAEAgF,EAAeJ,EAAOnH,YAInC,QACI,OAAOgB,IAKhB,IAAM2G,GAAiB,SAAAC,GAS1B,MANe,CACXC,QAAS,CACLC,cAAe,UAJTF,IAAWG,YAAYC,eAW5BC,GAA0B,SAACC,EAAK9H,EAAUQ,GAC/CsH,GAAOA,EAAIC,UAAoC,MAAxBD,EAAIC,SAASvB,OACpC1G,EAAa,qDAAbA,CAAmEE,GAEnEF,EAAaU,EAAbV,CAAsBE,ICpLjBgI,GAAgBlC,GAAe,SAC/BmC,GAAiBnC,GAAe,UAIvCvG,GAAe,CACpBqI,YAAa,KACbM,aAAcC,IAAQjE,IAAI,gBAC1BkE,cAAc,EACdC,WAAY,KACZC,eAAe,EACfC,YAAa,MA0EP,IAAMC,GAAY,SAAC,GAAD,IAAGpE,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,OAA4B,SAAArE,GAGpD,OAFAA,EAASqG,GAAa2B,GAAc9B,UAE7BuC,IAAMC,KAAN,UACHtD,EADG,gBAEN,CACChB,WACAC,aAGAsE,MAAK,SAAAC,GACL5I,EAASqG,GAAa2B,GAAc7B,QAASyC,EAAIC,UAEjDC,OAAM,SAAAhB,GACNhI,EAAa,oBAAbA,CAAkCE,GAClCA,EAASqG,GAAa2B,GAAc5B,QAAS0B,SAoDnCiB,GAAqB,SAAAnI,GAAK,OAAIA,EAAM+G,YAAYO,cAChDc,GAAoB,SAAApI,GAAK,OAAIA,EAAM+G,YAAYC,aAE/CqB,GAAqB,SAAArI,GAAK,OAAIA,EAAM+G,YAAYS,cAChDc,GAAmB,SAAAtI,GAAK,OAAIA,EAAM+G,YAAYU,YCpI3D,IAAM7F,GAAc,CAChBgG,cAGW/F,gBAAQ,iBAAO,KAAKD,GAApBC,EA3BR,SAAmBxB,GAAQ,IAEhCuH,EACGvH,EADHuH,UAGD,OACC,yBAAKtH,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,0CAED,sCACA,yBAAKlC,UAAU,aACd,kBAAC,EAAD,CAAW4D,SAAU0D,KAEtB,qDAA0B,kBAAC,IAAD,CAAMxF,GAAG,WAAT,qBCdhBmG,GAAb,kLAEEnH,KAAKf,MAAMmI,WAFb,+BAME,OACC,yBAAKlI,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,8CAED,oDACA,0DACA,kBAAC,EAAD,CAAQjC,QAAQ,EAAM6B,GAAG,IAAIzB,KAAMsC,KAAnC,uBAbJ,GAAgCtB,aAuB1BC,GAAc,CAChB4G,OF0HkB,kBAAM,SAAApJ,GAC3BA,EAASqG,GAlJmB,cE0Bd5D,gBAAQ,iBAAO,KAAKD,GAApBC,CAAiC0G,IC9B3BE,G,4MACpBzI,MAAQ,CACP0I,MAAO,GACPlF,SAAU,GACVC,SAAU,GACVkF,UAAW,I,EAGZjF,aAAe,SAAAC,GACd,EAAKC,SAAL,eACED,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,EAI5BC,aAAe,SAAAL,GACdA,EAAEM,iBADiB,MAQf,EAAKjE,MAJR0I,EAJkB,EAIlBA,MACAlF,EALkB,EAKlBA,SACAC,EANkB,EAMlBA,SAIGA,IAVe,EAOlBkF,UAIA,EAAKtI,MAAM6D,SAAS,CACnBwE,QACAlF,WACAC,aAKDmF,MAAM,0B,uDAIE,IAAD,EAMJxH,KAAKpB,MAJR0I,EAFO,EAEPA,MACAlF,EAHO,EAGPA,SACAC,EAJO,EAIPA,SACAkF,EALO,EAKPA,UAGD,OACC,0BAAMzE,SAAU9C,KAAK4C,cACpB,yBAAK1D,UAAU,cACd,wCACA,2BACCwD,KAAK,QACL/E,KAAK,QACLqF,SAAUhD,KAAKsC,aACfK,MAAO2E,EACPrE,UAAQ,KAGV,yBAAK/D,UAAU,cACd,2CACA,2BACCwD,KAAK,WACL/E,KAAK,OACLqF,SAAUhD,KAAKsC,aACfK,MAAOP,EACPa,UAAQ,KAGV,yBAAK/D,UAAU,cACd,2CACA,2BACCuI,aAAa,eACb/E,KAAK,WACL/E,KAAK,WACLqF,SAAUhD,KAAKsC,aACfK,MAAON,EACPY,UAAQ,KAGV,yBAAK/D,UAAU,cACd,mDACA,2BACCwD,KAAK,YACL/E,KAAK,WACLqF,SAAUhD,KAAKsC,aACfK,MAAO4E,EACPtE,UAAQ,KAGV,kBAAC,EAAD,CAAQ1D,KAAM2D,KAAd,e,GAxFoC3C,aC0BxC,IAAMC,GAAc,CACnBkH,OJqGqB,SAAC,GAAD,IAAGJ,EAAH,EAAGA,MAAOlF,EAAV,EAAUA,SAAUC,EAApB,EAAoBA,SAApB,OAAmC,SAAArE,GAGxD,OAFAA,EAASqG,GAAa4B,GAAe/B,UAE9BuC,IAAMC,KAAN,UACHtD,EADG,WAEN,CACCkE,QACAlF,WACAC,aAGAsE,MAAK,SAAAC,GACL5I,EAASqG,GAAa4B,GAAe9B,QAASyC,EAAIC,OAClDL,GAAU,CAAEpE,WAAUC,YAAtBmE,CAAkCxI,MAElC8I,OAAM,SAAAhB,GACNhI,EAAa,qBAAbA,CAAmCE,GACnCA,EAASqG,GAAa4B,GAAe7B,QAAS0B,UInHlCrF,gBAAQ,iBAAO,KAAKD,GAApBC,EA3BR,SAAoBxB,GAAQ,IAEjCyI,EACGzI,EADHyI,OAGD,OACC,yBAAKxI,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,2CAED,uCACA,yBAAKlC,UAAU,aACd,kBAAC,GAAD,CAAY4D,SAAU4E,KAEvB,uDAA4B,kBAAC,IAAD,CAAM1G,GAAG,UAAT,oB,eCjBhB,SAAS2G,GAAO1I,GAAQ,IAErC2I,EAMG3I,EANH2I,QACAjF,EAKG1D,EALH0D,MACAK,EAIG/D,EAJH+D,SACA6E,EAGG5I,EAHH4I,SACA5E,EAEGhE,EAFHgE,SACGxD,EAPiC,YAQjCR,EARiC,sDAUrC,OACC,oCACC,kBAAC,KAAD,eACCC,UAAU,mBACV4I,gBAAgB,SAChBC,YAAY,mBACZC,WAAY,CAAEC,mBAAoB,kBAAM,OACxCL,QAASA,EACTC,SAAUA,EACVlF,MAAOA,EAAQiF,EAAQM,MAAK,SAAAC,GAAM,OAAIA,EAAOxF,QAAUA,KAAS,KAChEK,SAAU,SAAAmF,GAAM,OAAInF,EAASmF,EAAOxF,SAChClD,KAGFoI,GAAY5E,GAEb,2BACCmF,UAAW,EACXX,aAAa,MACbY,MAAO,CAAEC,QAAS,EAAGC,OAAQ,EAAGC,QAAS,EAAGC,OAAQ,GACpD9F,MAAOA,GAAgB,GACvBK,SAAU,aACVC,UAAQ,KChCP,IAAMyF,GAAoB5E,GAAe,aAG1CvG,GAAe,CACpBqH,MAAO,GACPD,SAAS,EACTxE,MAAO,MAiCD,IAgBMwI,GAAyB,SAAA/J,GAAK,OAAuC,IAAnCA,EAAMgK,iBAAiBjE,SACzDkE,GAAuB,SAAAjK,GAAK,OAAIA,EAAMgK,iBAAiBzI,OACvD2I,GAAkB,SAAAlK,GAAK,OAAIA,EAAMgK,iBAAiBhE,OChB/D,IAMMpE,GAAc,CACnBuI,cDT4B,kBAAM,SAAA/K,GAGlC,OAFAA,EAASqG,GAAaqE,GAAkBxE,UAEjCuC,IAAMvE,IAAN,UACHmB,EADG,gBAGLsD,MAAK,SAAAC,GACL5I,EAASqG,GAAaqE,GAAkBvE,QAASyC,EAAIC,UAErDC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,8BACvCA,EAASqG,GAAaqE,GAAkBtE,QAAS0B,UCCrCrF,gBAVS,SAAA7B,GAAK,MAAK,CACjCoK,UAAWF,GAAgBlK,GAC3BqK,iBAAkBN,GAAuB/J,GACzCsK,eAAgBL,GAAqBjK,MAOE4B,GAAzBC,EAlDR,SAAwBxB,GAAQ,IAErC+J,EAGG/J,EAHH+J,UACAC,EAEGhK,EAFHgK,iBACAF,EACG9J,EADH8J,cAGDI,qBAAU,WACTJ,MACE,CAACA,IAEJ,IAAIK,EAAkB,GAWtB,OATIJ,IACHI,EAAkBJ,EAAU9I,KAAI,SAAAmJ,GAC/B,MAAO,CACN1G,MAAO0G,EACPC,MAAOD,EAASE,QAAQ,IAAK,UAM/B,kBAAC,GAAD,eACCxB,YAAY,oBACZyB,UAAWP,EACXrB,QAASwB,GACLnK,OCzBQwK,GADQ/E,GAHI,WA4CdgF,GAAuB,SAAA9K,GAAK,OAAuD,IAAnDA,EAAM6K,eAAe9E,QAAQnB,EAAQE,WACrEiG,GAAqB,SAAA/K,GAAK,OAAIA,EAAM6K,eAAetJ,MAAMqD,EAAQE,WACjEkG,GAAgB,SAAAhL,GAAK,OAAIA,EAAM6K,eAAe5E,MAE9CgF,GAA6B,SAAAjL,GAAK,OAAqD,IAAjDA,EAAM6K,eAAe9E,QAAQnB,EAAQG,SC5C3EmG,GAAb,4MACClL,MAAQ,CACPyK,SAAU,MAFZ,EAiBCU,qBAAuB,SAAAV,GACtB,EAAK7G,SAAS,CACb6G,cAnBH,EAuBCzG,aAAe,SAAAL,GACdA,EAAEM,iBADiB,IAIlBwG,EACG,EAAKzK,MADRyK,SAGD,EAAKpK,MAAM6D,SAAS,CACnBuG,cA/BH,kEAKsB,IAGlBA,EAEErJ,KAAKf,MAHR+K,QACCX,SAIFrJ,KAAKwC,SAAS,CACb6G,eAbH,+BAmCW,IAERY,EACGjK,KAAKf,MADRgL,qBAIAZ,EACGrJ,KAAKpB,MADRyK,SAGD,OACC,0BAAMvG,SAAU9C,KAAK4C,cACpB,yBAAK1D,UAAU,cACd,2BAAO6D,QAAQ,YAAf,YACA,kBAAC,GAAD,CACCrF,GAAG,WACHsF,SAAUhD,KAAK+J,qBACfpH,MAAO0G,EACPpG,UAAQ,KAITgH,EACG,kBAAC,EAAD,CAAQ1K,KAAM2K,IAAW5K,MAAM,aAAauI,UAAU,GAAtD,UACA,kBAAC,EAAD,CAAQtI,KAAM4K,KAAd,aA1DR,GAAiC5J,aA8ElBE,gBAJS,SAAA7B,GAAK,MAAK,CACjCqL,qBAAsBJ,GAA2BjL,MAGV,GAAzB6B,CAA6BqJ,IChB5C,IAMMtJ,GAAc,CACnB4J,gBFlE8B,kBAAM,SAACpM,EAAUwH,GAG/C,OAFAxH,EAASsG,GARiB,UAQYf,EAAkBC,EAAQE,WAEzD+C,IAAMvE,IAAN,UACHkB,EADG,YAVmB,UAUnB,KAENmC,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GAfe,UAecf,EAAkBC,EAAQE,SAAUkD,EAAIC,UAE9EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,4BACvCA,EAASsG,GAnBe,UAmBcf,EAAkBC,EAAQE,SAAUoC,SEuD5EuE,cFlD4B,SAAC,GAAD,IAAGhB,EAAH,EAAGA,SAAH,OAAkB,SAACrL,EAAUwH,GAGzD,OAFAxH,EAASsG,GAzBiB,UAyBYf,EAAkBC,EAAQG,SAEzD8C,IAAM6D,MAAN,UACHlH,EADG,YA3BmB,UA2BnB,KAEN,CACCiG,YAED9D,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GAnCe,UAmCcf,EAAkBC,EAAQG,OAAQiD,EAAIC,UAE5EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,6BACvCA,EAASsG,GAvCe,UAuCcf,EAAkBC,EAAQG,OAAQmC,UEsC5DrF,gBAXS,SAAA7B,GAAK,MAAK,CACjCoL,QAASJ,GAAchL,GACvB2L,eAAgBb,GAAqB9K,GACrC4L,aAAcb,GAAmB/K,MAQM4B,GAAzBC,EAvER,SAAqBxB,GAAQ,IAElCmL,EAKGnL,EALHmL,gBACAC,EAIGpL,EAJHoL,cACAL,EAGG/K,EAHH+K,QACAO,EAEGtL,EAFHsL,eACAC,EACGvL,EADHuL,aAOD,OAJArB,qBAAU,WACTiB,MACE,CAACA,IAEAG,EAEF,yBAAKrL,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,2CAED,kBAACT,EAAD,CACCC,YAAa,CACZ,CAAEG,MAAO,OAAQC,GAAI,KACrB,CAAED,MAAO,cAEX,uCACA,kBAAC,EAAD,QAIEiJ,GAAWQ,EACR,kBAAC,IAAD,CAAUxJ,GAAG,MAGpB,yBAAK9B,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,2CAED,kBAACT,EAAD,CACCC,YAAa,CACZ,CAAEG,MAAO,OAAQC,GAAI,KACrB,CAAED,MAAO,cAEX,uCACA,kBAAC,GAAD,CACCiJ,QAASA,EACTlH,SAAUuH,QCnDDI,GAAoB,CAChC,CACCC,KAAM,SACNC,OAAO,EACPC,UAAWC,IAEZ,CACCH,KAAM,UACNC,OAAO,EACPC,UAAWE,IAEZ,CACCJ,KAAM,UACNC,OAAO,EACPC,UAAWzD,KAIA4D,GAAmB,CAC/B,CACCL,KAAM,UACNC,OAAO,EACPC,UAAWzD,IAEZ,CACCuD,KAAM,WACNC,OAAO,EACPC,UAAWI,K,SCvBPC,I,MAAYC,SAASC,eAAe,eA2F3BC,GAzFf,kDACC,WAAYnM,GAAQ,IAAD,8BAClB,cAAMA,IAmBPoM,cAAgB,SAAA9I,GACf,OAAQA,EAAE+I,SACT,KA1BgB,GA2Bf,EAAKC,gBAvBW,EA+BnBA,YAAc,WAAO,IAEnBC,EACG,EAAKvM,MADRuM,mBAGD,EAAKhJ,SAAS,CACbiJ,gBAAgB,IAGbD,GACHA,GAAmB,IAtCpB,EAAK5M,MAAQ,CACZ6M,gBAAgB,GAGjB,EAAKC,GAAKR,SAASS,cAAc,OAPf,EADpB,gEAYET,SAASU,iBAAiB,UAAW5L,KAAKqL,eAC1CJ,GAAUY,YAAY7L,KAAK0L,MAb7B,6CAiBER,SAASY,oBAAoB,UAAW9L,KAAKqL,eAC7CJ,GAAUc,YAAY/L,KAAK0L,MAlB7B,+BA6CW,IAAD,EAOJ1L,KAAKf,MALR8B,EAFO,EAEPA,MACAvB,EAHO,EAGPA,SACAf,EAJO,EAIPA,UAEGgB,GANI,EAKP+L,mBALO,sEAUPC,EACGzL,KAAKpB,MADR6M,eAGGO,EAA+B,OAAdvN,QAAoCwN,IAAdxN,EAA0BA,EAAYgN,EAEjF,OAAOS,IAASC,aAEd,uCAAKjN,UAAS,eAAU8M,EAAiB,GAAK,gBAAqBvM,GAClE,yBAAKP,UAAU,WAAWoB,QAASN,KAAKuL,cACxC,yBAAKrM,UAAU,iBAEb6B,GACC,yBAAK7B,UAAU,gBACd,uBAAGA,UAAU,eAAe6B,GAC5B,kBAAC,EAAD,CAAQ7B,UAAU,qBAAqBI,MAAM,QAAQC,KAAMc,IAASC,QAASN,KAAKuL,eAIpF/L,IAIJQ,KAAK0L,QA7ER,GAA2BnL,aCLd6L,GAAiBtI,GAAe,UAGvCvG,GAAe,CACpBqH,MAAO,GACPD,SAAS,EACTxE,MAAO,MAiCD,IAAMkM,GAAa,kBAAM,SAAArO,GAG/B,OAFAA,EAASqG,GAAa+H,GAAelI,UAE9BuC,IAAMvE,IAAN,UACHmB,EADG,aAGLsD,MAAK,SAAAC,GACL5I,EAASqG,GAAa+H,GAAejI,QAASyC,EAAIC,UAElDC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,4BACvCA,EAASqG,GAAa+H,GAAehI,QAAS0B,SAKpCwG,GAAsB,SAAA1N,GAAK,OAAoC,IAAhCA,EAAM2N,cAAc5H,SACnD6H,GAAoB,SAAA5N,GAAK,OAAIA,EAAM2N,cAAcpM,OACjDsM,GAAe,SAAA7N,GAAK,OAAIA,EAAM2N,cAAc3H,OCxDnD8H,GAAM,SAAApN,GAAK,MAAK,CACrBqN,WAAY,SACZC,QAAS,OAET,UAAW,CACVC,gBAAiBvN,EACjBwN,aAAc,GACdC,QAAS,KACTH,QAAS,QACTI,YAAa,GACbzE,OAAQ,GACR0E,MAAO,MAIHC,GAAc,CACnB/E,OAAQ,SAACgF,EAAD,OAAWtG,EAAX,EAAWA,KAAX,mBAAC,eAA2BsG,GAAWT,GAAI7F,EAAKuG,YACxDC,YAAa,SAACF,EAAD,OAAWtG,EAAX,EAAWA,KAAX,mBAAC,eAA2BsG,GAAWT,GAAI7F,EAAKuG,aAsD9D,IAMM5M,GAAc,CACnB6L,eAGc5L,gBAVS,SAAA7B,GAAK,MAAK,CACjCE,OAAQ2N,GAAa7N,GACrB0O,cAAehB,GAAoB1N,GACnC2O,YAAaf,GAAkB5N,MAOQ4B,GAAzBC,EA7DR,SAAqBxB,GAAQ,IAElCH,EAIGG,EAJHH,OACAwO,EAGGrO,EAHHqO,cACAC,EAEGtO,EAFHsO,YACAlB,EACGpN,EADHoN,WAGDlD,qBAAU,WACJrK,GAA4B,IAAlBA,EAAOmC,QACrBoL,MACC,CAACvN,EAAQwO,EAAeC,EAAalB,IAExC,IAAImB,EAAe,GAkBnB,OAhBI1O,IACH0O,EAAe1O,EAAOoB,KAAI,SAAAZ,GAOzB,MAAO,CACNqD,MAHGrD,EAHH5B,GAOA4L,MAJGhK,EAFHyB,MAOAqM,SALG9N,EADH8N,cAYF,kBAAC,GAAD,eACCrF,YAAY,iBACZyB,UAAW8D,EACX1F,QAAS4F,EACTL,OAAQD,GACRO,cAAc,GACVxO,OC1DcyO,G,4MACpB9O,MAAQ,CACPmC,MAAO,GACP4M,YAAa,GACbC,UAAW,GACXtO,WAAO2M,G,EAGR4B,MAAQ,SAAAC,GACP,GAAIA,EAAU,CAAC,IAEb/M,EAIG+M,EAJH/M,MACA4M,EAGGG,EAHHH,YACAC,EAEGE,EAFHF,UACAtO,EACGwO,EADHxO,MAGD,EAAKkD,SAAS,CACbzB,QACA4M,cACAC,UAAyB,OAAdA,EAAqB,GAAKA,EACrCtO,eAID,EAAKkD,SAAS,CACbzB,MAAO,GACP4M,YAAa,GACbC,UAAW,GACXtO,WAAO2M,K,EAKV3J,aAAe,SAAAC,GACd,EAAKC,SAAL,eACED,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,EAI5BoL,kBAAoB,SAAAzO,GACnB,EAAKkD,SAAS,CACblD,MAAOA,K,EAITsD,aAAe,SAAAL,GACdA,EAAEM,iBADiB,MAQf,EAAKjE,MAJRmC,EAJkB,EAIlBA,MACA4M,EALkB,EAKlBA,YACAC,EANkB,EAMlBA,UACAtO,EAPkB,EAOlBA,MAGD,EAAKL,MAAM6D,SAAS,CACnB/B,QACA4M,cACAC,UAAWI,SAASJ,GACpBtO,W,uDAIQ,IAAD,EAMJU,KAAKpB,MAJRmC,EAFO,EAEPA,MACA4M,EAHO,EAGPA,YACAC,EAJO,EAIPA,UACAtO,EALO,EAKPA,MAGD,OACC,0BAAMwD,SAAU9C,KAAK4C,cACpB,yBAAK1D,UAAU,cACd,2BAAO6D,QAAQ,SAAf,SACA,2BACCrF,GAAG,QACHgF,KAAK,QACL/E,KAAK,OACLsQ,UAAU,MACVjL,SAAUhD,KAAKsC,aACfK,MAAO5B,EACPkC,UAAQ,KAGV,yBAAK/D,UAAU,cACd,2BAAO6D,QAAQ,eAAf,eACA,8BACCrF,GAAG,cACHgF,KAAK,cACLM,SAAUhD,KAAKsC,aACfK,MAAOgL,KAGT,yBAAKzO,UAAU,cACd,2BAAO6D,QAAQ,aAAf,aACA,2BACCrF,GAAG,YACHgF,KAAK,YACL/E,KAAK,SACLuQ,IAAK,EACLC,KAAM,EACNnL,SAAUhD,KAAKsC,aACfK,MAAOiL,KAGT,yBAAK1O,UAAU,cACd,2BAAO6D,QAAQ,SAAf,SACA,kBAAC,GAAD,CACCL,KAAK,QACLM,SAAUhD,KAAK+N,kBACfpL,MAAOrD,EACP2D,UAAQ,KAGV,kBAAC,EAAD,CAAQ1D,KAAM2D,KAAd,e,GApHsC3C,aCL7B6N,GAAiB,SAAAC,GAC7B,GAAIA,EAAM,CACT,IAAIC,EAAQD,EAAKE,MAAM,MACvB,OAAOD,EAAMpO,KAAI,SAAC2E,EAAM/D,GAAP,OAAc,kBAAC,WAAD,CAAUV,IAAKU,GAAI+D,EAAM/D,EAAI,EAAIwN,EAAMrN,OAAS,6BAAU,OAGzF,OAAOoN,G,OCiBM,SAASG,GAAiBvP,GACxC,IAEIwP,EAAYC,mBAGfC,EAGG1P,EAHH0P,WACAf,EAEG3O,EAFH2O,UACAtO,EACGL,EADHK,MAGKsP,EAAWhB,EAAYe,EACvBE,EA/BP,SAAyBD,GACxB,OAAIA,GAAY,EACE,IAAbA,EACI,cACCA,EAAW,GACZ,iBAEP,UAAUA,EAAV,gBAGiB,IAAdA,EACI,cACCA,GAAY,GACb,iBAEP,UAAUvQ,KAAKyQ,IAAIF,GAAnB,eAgBmBG,CAAgBH,GAC/BI,EAAa3Q,KAAK4Q,IAAIN,EAAaf,EAAW,GAEpDzE,qBAAU,WACT,IAAM+F,EAAY,IAAIhR,KAClBiR,EAASV,EAAUW,QAEvB,GAAID,EAAQ,CACX,IAAIE,EAAMF,EAAOG,WAAW,OAEf,SAAPC,IACL,IAAItC,EAAQkC,EAAOlC,MACf1E,EAAS4G,EAAO5G,OAEhBiH,EAAKvC,EAAQ,EACbwC,EAAKlH,EAAS,EAEZmH,EAAc,IAAIxR,KAASgR,EAC3BS,EAAcD,EA7BD,IA6BiCrR,KAAKuR,IAAIvR,KAAKwR,IAAIxR,KAAKyR,IAAMJ,EA7B9D,KA6B6F,GAAI,GAAM,EAE1HL,EAAIU,yBAA2B,mBAC/BV,EAAIW,UAAU,EAAG,EAAG/C,EAAO1E,GAE3B8G,EAAIY,OAEJZ,EAAIa,UAAY5Q,EAChB+P,EAAIc,YACJd,EAAIe,OAAOZ,EAAIC,GACfJ,EAAIgB,IAAIb,EAAIC,EAAIxC,EAAQ,GAAI5O,KAAKyR,GAAK,GAAIzR,KAAKyR,GAAK,EAAiB,EAAbd,EAAiB3Q,KAAKyR,GAAKH,GACnFN,EAAIiB,OAAOd,EAAIC,GACfJ,EAAIkB,YACJlB,EAAImB,OAEJnB,EAAIoB,UAEAf,EA9Ce,KA+ClBgB,sBAAsBnB,GAGxBA,MAEC,CAACjQ,EAAO0P,IAEX,IAAM2B,EACL,yBAAKzR,UAAU,gBACd,2BAAIkP,GAAeS,IACnB,uBAAG3P,UAAU,eAAeb,KAAKyQ,IAAIF,IAAa,GAAtB,UAA8BvQ,KAAKyQ,IAAIF,GAAvC,KAAsD,OAAO,6BAAzF,UAAmGA,GAAY,EAAI,OAAS,UAK9H,OAAIA,GAAY,EAEd,yBAAK1P,UAAU,sCACd,4BAAQA,UAAU,eAAe0R,IAAKnC,EAAWlG,OAAO,QAAQ0E,MAAM,UACrE0D,GAOF,yBAAKzR,UAAU,qCAAqCmJ,MAAO,CAAEwE,gBAAiBvN,IAC7E,yBAAKJ,UAAU,sCACdyR,GCrGE,IAAME,GACD,EADCA,GAEH,EAGGC,GAAqB,CACjC,CACCnO,MAAOkO,GACPvH,MAAO,aAER,CACC3G,MAAOkO,GACPvH,MAAO,YAIF,SAASyH,GAAoBnD,GACnC,OAAkB,IAAdA,EACI,WACe,IAAdA,EACD,kBACe,IAAdA,EACD,aACe,KAAdA,EACD,mBACCA,EAAY,IAAM,EACpB,SAAN,OAAgBvP,KAAK2S,MAAMpD,EAAY,GAAvC,UAEA,gBAAgBA,EAAhB,SCvBK,IAIQqD,GADWvM,GAHC,cAyGdwM,GAA0B,SAAAtS,GAAK,OAAsD,IAAlDA,EAAMqS,kBAAkBtM,QAAQnB,EAAQK,OAC3EsN,GAAwB,SAAAvS,GAAK,OAAIA,EAAMqS,kBAAkB9Q,MAAMqD,EAAQK,OACvEuN,GAAmB,SAAAxS,GAAK,OAAIA,EAAMqS,kBAAkBrM,OAEpDyM,GAAwB,SAAAzS,GAAK,OAA0D,IAAtDA,EAAMqS,kBAAkBtM,QAAQnB,EAAQE,WACzE4N,GAAsB,SAAA1S,GAAK,OAAIA,EAAMqS,kBAAkB9Q,MAAMqD,EAAQE,WACrE6N,GAAiB,SAAA3S,GAAK,OAAIA,EAAMqS,kBAAkBpM,MAClD2M,GAAmB,SAAA5S,GAAK,OAAIA,EAAMqS,kBAAkBnM,QC3GlD2M,GADe/M,GAHH,kBA8HdgN,GAA8B,SAAA9S,GAAK,OAA0D,IAAtDA,EAAM6S,sBAAsB9M,QAAQnB,EAAQK,OACnF8N,GAA4B,SAAA/S,GAAK,OAAIA,EAAM6S,sBAAsBtR,MAAMqD,EAAQK,OAC/E+N,GAAuB,SAAAhT,GAAK,OAAIA,EAAM6S,sBAAsB7M,O,OCzHzE,SAASiN,GAAwBC,GAChC,OAAQA,GACP,KAAKjB,GACJ,MAAO,iBAER,KAAKA,GACJ,MAAO,eAER,QACC,MAAO,WAIV,SAASkB,GAAoBpD,GAC5B,OAAIA,EAAa,EACV,GAAN,OAAUtQ,KAAKyQ,IAAIH,GAAnB,uBACuB,IAAfA,EACD,QACgB,IAAfA,EACD,YACCA,EAAa,EACf,GAAN,OAAUA,EAAV,aACQA,GAAc,GAAKA,EAAa,GACjC,YACCtQ,KAAK2T,MAAMrD,EAAa,GAAK,GAC9B,gBAEP,UAAUtQ,KAAK2T,MAAMrD,EAAa,GAAlC,cAGK,IAAMsD,GAAeC,sBAAW,SAACjT,EAAO2R,GAAS,IAEtDlT,EAQGuB,EARHvB,GACAqD,EAOG9B,EAPH8B,MACA4N,EAMG1P,EANH0P,WACAf,EAKG3O,EALH2O,UACAtO,EAIGL,EAJHK,MACAwS,EAGG7S,EAHH6S,gBACAK,EAEGlT,EAFHkT,aACAC,EACGnT,EADHmT,aAGGC,EACH,6BACC,kBAAC,EAAD,CAAQ9S,KAAM+S,IAASpT,UAAU,QAAQoB,QAAS,kBAAM8R,EAAa1U,EAAImT,KAAwB0B,aAAW,aAC5G,kBAAC,EAAD,CAAQjT,MAAM,QAAQC,KAAMiT,IAAWlS,QAAS,kBAAM8R,EAAa1U,EAAImT,KAAsB0B,aAAW,UAI1G,GAAIJ,EACH,OAAQA,GACP,KAAKtB,GACJwB,EAAe,uBAAGnT,UAAU,gBAAe,kBAAC,IAAD,CAAiBA,UAAU,QAAQK,KAAM+S,MAArE,aACf,MAED,KAAKzB,GACJwB,EAAe,uBAAGnT,UAAU,gBAAe,kBAAC,IAAD,CAAiBA,UAAU,QAAQK,KAAMiT,MAArE,WAQlB,OAAI5E,EAEF,yBAAK1O,UAAU,qBAAqB0R,IAAKA,GACxC,kBAAC,GAAD,CAAkBjC,WAAYA,EAAYf,UAAWA,EAAWtO,MAAOA,IACvE,6BACC,yBAAKJ,UAAU,SACd,wBAAIA,UAAU,QACb,kBAAC,IAAD,CAAM8B,GAAE,sBAAiBtD,IAAOqD,IAEjC,2BAAIgQ,GAAoBnD,GAAxB,WAAuCiE,GAAwBC,GAA/D,IAAkFC,GAAoBpD,KAEtG0D,IAOH,yBAAKnT,UAAU,qBAAqB0R,IAAKA,GACxC,6BACC,yBAAK1R,UAAU,SACd,wBAAIA,UAAU,QACb,kBAAC,IAAD,CAAM8B,GAAE,sBAAiBtD,IAAOqD,IAEjC,2BAAI8Q,GAAwBC,GAA5B,IAA+CC,GAAoBpD,KAEnE0D,OAmBA7R,GAAc,CACnB4R,aD9G2B,SAACK,EAAYC,GAAb,OAA4B,SAAC1U,EAAUwH,GAG/D,OAFAxH,EAASsG,GARc,iBAQef,EAAkBC,EAAQC,SAEzDgD,IAAMC,KAAN,UACArD,EADA,uBACsBoP,EADtB,YAEH,CACIC,cAEJnN,GAAeC,IAEdmB,MAAK,SAAAC,GACF5I,EAASsG,GAlBM,iBAkBuBf,EAAkBC,EAAQC,OAAQmD,EAAIC,OAC5E7I,EAASsG,GDpBM,aCoBkCf,EAAkBC,EAAQG,OAAQ,CAC/EjG,GAAI+U,EACJ9D,WAAY,EACZmD,gBAAiBY,EACjBP,aAAcO,QAGrB5L,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,4BACvCA,EAASsG,GA5BM,iBA4BuBf,EAAkBC,EAAQC,OAAQqC,UC4FrErF,gBAAQ,iBAAO,KAAKD,GAAa,KAAM,CAAE0R,YAAY,GAArDzR,CAA6DwR,I,oBC7G/DU,GAAb,kDAKC,WAAY1T,GAAQ,IAAD,8BAClB,cAAMA,IALPL,MAImB,eAHjB0E,GAAqB,GAGJ,EAOnBsP,uBAAyB,SAAAnU,GACxB,EAAK+D,SAAL,eACEc,EAAqB7E,KATL,EAanBoU,gBAAkB,WACjB,EAAKrQ,SAAL,eACEc,GAAqB,IAGvB,EAAKwP,gBAAgBjF,SAlBH,EAqBnBkF,qBAAuB,SAAAjF,GACtB,EAAKtL,SAAL,eACEc,GAAqB,IAGvB,EAAKrE,MAAM+T,eAAelF,IA1BR,EA6BnBmF,6BAA+B,SAAAC,GAC9B,OAAOA,EAAWhT,KAAI,SAAA4N,GAAa,IAEjCpQ,EAOGoQ,EAPHpQ,GACAqD,EAMG+M,EANH/M,MACA6M,EAKGE,EALHF,UACAe,EAIGb,EAJHa,WACOwE,EAGJrF,EAHHxO,MACAwS,EAEGhE,EAFHgE,gBACAK,EACGrE,EADHqE,aAGD,OACC,kBAAC,GAAD,CACCrE,SAAUA,EACV1N,IAAK1C,EACLA,GAAIA,EACJqD,MAAOA,EACP6M,UAAWA,EACXe,WAAYA,EACZrP,MAAO,EAAKL,MAAMH,OAAOoJ,MAAK,SAAA5I,GAAK,OAAIA,EAAM5B,KAAOyV,KAAS/F,SAC7D0E,gBAAiBA,EACjBK,aAAcA,QAhDjBlT,EAAMmU,iBACNnU,EAAMoN,aAJY,EALpB,qDA8DW,IAAD,SAQJrM,KAAKf,MANRiU,EAFO,EAEPA,WACAG,EAHO,EAGPA,kBACAC,EAJO,EAIPA,gBACAxU,EALO,EAKPA,OACAwO,EANO,EAMPA,cACAC,EAPO,EAOPA,YAGD,GAAI8F,GAAqB/F,EACxB,OACC,6BACC,0CACA,kBAAC,EAAD,OAIH,IAAK4F,GAAcI,IAAoBxU,GAAUyO,EAChD,OAAO,kBAAC,IAAD,CAAUvM,GAAG,MAErB,IAAIuS,EAA6BL,EAAWM,QAC3C,SAACC,EAAK3F,GAEL,OADA2F,EAA2B,OAAvB3F,EAASF,gBAA6C3B,IAAvB6B,EAASF,WAAyBjO,KAAKmO,GACnE2F,IAER,CACCC,KAAM,GACNC,MAAO,KAOT,OAHAJ,EAA2BG,KAAKE,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEjG,UAAYiG,EAAElF,YAAemF,EAAElG,UAAYkG,EAAEnF,eAC/F4E,EAA2BI,MAAMC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAElF,WAAamF,EAAEnF,cAGhE,6BACC,0CACA,yBAAKzP,UAAU,SACd,kBAAC,EAAD,CAAQK,KAAMwU,IAAQzU,MAAM,OAAOgB,QAASN,KAAK6S,iBAAjD,oBAG2C,IAA3CU,EAA2BG,KAAKzS,QAChC,6BACC,8CACA,kBAAC,KAAD,CAAU/B,UAAU,aAClBc,KAAKiT,6BAA6BM,EAA2BG,QAKpB,IAA5CH,EAA2BI,MAAM1S,QACjC,6BACC,iDACA,kBAAC,KAAD,CAAU/B,UAAU,aAClBc,KAAKiT,6BAA6BM,EAA2BI,SAK1C,IAAtBT,EAAWjS,QACX,yBAAK/B,UAAU,cACd,yBAAKA,UAAU,eACd,yBAAKA,UAAU,QAAQwC,IAAKsS,KAAOpS,IAAI,iBACvC,+CAIH,kBAAC,GAAD,CAAOb,MAAM,kBAAkBtC,UAAWuB,KAAKpB,MAAM0E,GAAqBkI,mBAAoBxL,KAAK4S,wBAClG,kBAAC,GAAD,CAAc9P,SAAU9C,KAAK+S,qBAAsBnC,IAAK,SAAAqD,GAAY,OAAI,EAAKnB,gBAAkBmB,WAnIpG,GAAkC1T,aAkK5BC,GAAc,CACnBwS,eHxK6B,SAAC,GAAD,IAAGjS,EAAH,EAAGA,MAAO4M,EAAV,EAAUA,YAAaC,EAAvB,EAAuBA,UAAWtO,EAAlC,EAAkCA,MAAlC,OAA8C,SAACtB,EAAUwH,GAGtF,OAFAxH,EAASsG,GARiB,aAQYf,EAAkBC,EAAQC,SAEzDgD,IAAMC,KAAN,UACHrD,EADG,YAVmB,aAUnB,KAEN,CACCtC,QACA4M,cACAC,YACAtO,SAEDiG,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GArBe,aAqBcf,EAAkBC,EAAQC,OAAxC,YAAC,eACrBmD,EAAIC,MADgB,IAEvB8H,WAAY,SAGb7H,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,8BACvCA,EAASsG,GA5Be,aA4Bcf,EAAkBC,EAAQC,OAAQqC,SGoJ1EsN,eHxF6B,kBAAM,SAACpV,EAAUwH,GAG9C,OAFAxH,EAASsG,GAzFiB,aAyFYf,EAAkBC,EAAQK,OAEzD4C,IAAMvE,IAAN,UACHmB,EADG,YA3FmB,aA2FnB,KAENkC,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GAhGe,aAgGcf,EAAkBC,EAAQK,KAAM+C,EAAIC,UAE1EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,+BACvCA,EAASsG,GApGe,aAoGcf,EAAkBC,EAAQK,KAAMiC,SG6ExEuG,eAGc5L,gBAhBS,SAAA7B,GAAK,MAAK,CACjCsU,WAAY9B,GAAiBxS,GAC7ByU,kBAAmBnC,GAAwBtS,GAC3C0U,gBAAiBnC,GAAsBvS,GAEvCE,OAAQ2N,GAAa7N,GACrB0O,cAAehB,GAAoB1N,GACnC2O,YAAaf,GAAkB5N,MASQ4B,GAAzBC,CAAsCkS,I,0DC/KtC,SAASuB,GAAWjV,GAAO,IAYxC+D,EAIG/D,EAJH+D,SACA+E,EAGG9I,EAHH8I,YACA9E,EAEGhE,EAFHgE,SACGxD,EAfqC,YAgBrCR,EAhBqC,uCAkBzC,OACC,yBAAKC,UAAU,eACd,kBAAC,KAAD,eACCiV,WAdH,SAAoBC,EAAMC,GACzB,OAAOC,KAAOF,GAAMC,OAAOA,IAczBE,UAnBH,SAAmBC,EAAKH,GACvB,OAAOC,KAAOE,EAAKH,GAAQI,UAmBzBJ,OAtBY,cAuBZtM,YAAaA,GAA4B,GACzC2M,YAAa1R,EACb2R,WAAY,CACX1R,WACA2R,UAAW,SAAArS,GAAOA,EAAEM,oBAEjBpD,IAEL,kBAAC,IAAD,CAAiBF,KAAMgC,IAAYrC,UAAU,mB,IChC3B2V,G,4MACpBjW,MAAQ,CACP8T,WAAY,GACZ0B,KAAM,GACNzG,YAAa,I,EAGdE,MAAQ,SAAAiH,GACP,GAAIA,EAAO,CAAC,IAEVpC,EAGGoC,EAHHpC,WACA0B,EAEGU,EAFHV,KACAzG,EACGmH,EADHnH,YAGD,EAAKnL,SAAS,CACbkQ,aACA0B,KAAME,KAAOF,EAAM,cAAcK,SACjC9G,qBAID,EAAKnL,SAAS,CACbkQ,WAAY7B,GACZuD,KAAM,KACNzG,YAAa,M,EAKhBrL,aAAe,SAAAC,GACd,EAAKC,SAAL,eACED,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,EAI5BoS,sBAAwB,SAAArC,GACvB,EAAKlQ,SAAS,CACbkQ,gB,EAIFsC,iBAAmB,SAAAZ,GAClB,EAAK5R,SAAS,CACb4R,U,EAIFxR,aAAe,SAAAL,GACdA,EAAEM,iBADiB,MAOf,EAAKjE,MAHR8T,EAJkB,EAIlBA,WACA0B,EALkB,EAKlBA,KACAzG,EANkB,EAMlBA,YAGD,EAAK1O,MAAM6D,SAAS,CACnB4P,aACA0B,KAAME,KAAOF,GAAMC,OAAO,cAC1B1G,iB,uDAIQ,IAERsH,EACGjV,KAAKf,MADRgW,cAFO,EASJjV,KAAKpB,MAHR8T,EANO,EAMPA,WACA0B,EAPO,EAOPA,KACAzG,EARO,EAQPA,YAGD,OACC,0BAAM7K,SAAU9C,KAAK4C,cACpB,yBAAK1D,UAAU,cACd,2BAAO6D,QAAQ,cAAf,cACA,kBAAC,GAAD,CACCrF,GAAG,aACHsF,SAAUhD,KAAK+U,sBACfpS,MAAO+P,EACP9K,QAASkJ,GACT7N,UAAQ,KAGV,yBAAK/D,UAAU,cACd,2BAAO6D,QAAQ,QAAf,QACA,kBAAC,GAAD,CACCJ,MAAOyR,EACPpR,SAAUhD,KAAKgV,iBACf/R,UAAQ,EACRiS,eAAgB,CACfC,aAAcF,MAIjB,yBAAK/V,UAAU,cACd,2BAAO6D,QAAQ,eAAf,eACA,8BACCrF,GAAG,cACHgF,KAAK,cACLM,SAAUhD,KAAKsC,aACfK,MAAOgL,KAGT,kBAAC,EAAD,CAAQpO,KAAM2D,KAAd,e,GA3GmC3C,aCLxB,SAAS6U,GAAWnW,GAAQ,IAEnC6D,EACA7D,EADA6D,SAGJ,OACF,yBAAK5D,UAAU,uBACd,kBAAC,EAAD,CAAQK,KAAM8V,IAAS/V,MAAM,MAAMgB,QAAS,kBAAMwC,GAAS,KAA3D,WACA,kBAAC,EAAD,CAAQxD,MAAM,aAAagB,QAAS,kBAAMwC,GAAS,KAAnD,W,kDCRY,SAASwS,GAAerW,GACtC,OACC,kBAACsW,GAAA,EAAD,eACCC,WAAW,kBACXC,QAAS,IACTC,eAAa,GACTzW,ICCA,IA0DQ0W,GA1DUzD,sBAAW,SAACjT,EAAO2R,GAAS,IAAD,EAW/C3R,EATH6V,MACCpC,EAHiD,EAGjDA,WACA0B,EAJiD,EAIjDA,KACAzG,EALiD,EAKjDA,YAEDmH,EAIG7V,EAJH6V,MACAc,EAGG3W,EAHH2W,WACAC,EAEG5W,EAFH4W,cACAC,EACG7W,EADH6W,gBAGKC,EAAUzB,KAAOF,GAAMC,OAAO,eAEhChC,EAAe,GAEnB,OAAQK,GACP,KAAK7B,GACJwB,EAAe,oCAAE,kBAAC,IAAD,CAAiBnT,UAAU,QAAQK,KAAM+S,MAA3C,aACf,MAED,KAAKzB,GACJwB,EAAe,oCAAE,kBAAC,IAAD,CAAiBnT,UAAU,QAAQK,KAAMiT,MAA3C,WACf,MAED,QACCH,EAAe,oCAAE,kBAAC,IAAD,CAAiBnT,UAAU,QAAQK,KAAMyW,MAA3C,iBAIjB,OACC,yBAAK9W,UAAU,aAAa0R,IAAKA,GAChC,yBAAK1R,UAAU,UACd,2BAAImT,EAAJ,OAAsB0D,GACtB,uBAAG7W,UAAU,SAASkP,GAAeT,KAEtC,kBAAC,GAAD,CAAgBsI,GAAIL,GACnB,yBAAK1W,UAAU,mBACd,kBAAC,EAAD,CAAQK,KAAM2W,IAAQ5W,MAAM,QAAQD,KAAK,KAAKiB,QAAS,kBAAMuV,EAAcf,IAAQvC,aAAW,SAC9F,kBAAC,EAAD,CAAQhT,KAAM8V,IAAS/V,MAAM,MAAMD,KAAK,KAAKiB,QAAS,kBAAMwV,EAAgBhB,IAAQvC,aAAW,iBC9CvF4D,GAAwBrS,GAAe,iBAG9CvG,GAAe,CACpBsH,KAAM,KACNF,SAAS,EACTxE,MAAO,MAiCD,IAAMiW,GAA6B,SAAA3D,GAAU,OAAI,SAACzU,EAAUwH,GAGlE,OAFAxH,EAASqG,GAAa8R,GAAsBjS,UAErCuC,IAAMvE,IAAN,UACHmB,EADG,uBACmBoP,EADnB,gBAENlN,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASqG,GAAa8R,GAAsBhS,QAASyC,EAAIC,UAEzDC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,wCACvCA,EAASqG,GAAa8R,GAAsB/R,QAAS0B,SAM3CuQ,GAAkC,SAAAzX,GAAK,OAAgD,IAA5CA,EAAM0X,0BAA0B3R,SAC3E4R,GAAgC,SAAA3X,GAAK,OAAIA,EAAM0X,0BAA0BnW,OACzEqW,GAA2B,SAAA5X,GAAK,OAAIA,EAAM0X,0BAA0BzR,MC9CpE4R,GAAb,kDASC,WAAYxX,GAAQ,IAAD,yBAClB,cAAMA,IATPL,OAQmB,GAPlB8X,WAAY,MAOM,cANjBpT,GAAqB,GAMJ,cALjBA,GAAmB,GAKF,cAJjBA,GAAqB,GAIJ,4BAHN,GAGM,KAOnBsP,uBAAyB,SAAC+D,EAAOlY,GAChC,EAAK+D,SAAL,eACEmU,EAAQlY,KATQ,EAanBmY,UAAY,SAACD,EAAOD,GAAgB,IAAD,EAClC,EAAKlU,UAAL,mBACEmU,GAAQ,GADV,2BAECD,GAFD,IAKIC,IAAUrT,EACb,EAAKuT,cAAchJ,QACX8I,IAAUrT,GAClB,EAAKwT,YAAYjJ,MAAM6I,IAtBN,EAyBnBK,kBAAoB,SAAAjC,GAAU,IAAD,EAKxB,EAAK7V,MAHRwT,EAF2B,EAE3BA,WACAuE,EAH2B,EAG3BA,oBACAZ,EAJ2B,EAI3BA,2BAGD,EAAK5T,SAAL,eACEc,GAAqB,IAGvB0T,EAAoBvE,EAAYqC,GAC9BnO,MAAK,kBAAMyP,EAA2B3D,OArCtB,EAwCnBwE,gBAAkB,SAAAnC,GAAU,IAAD,EAKtB,EAAK7V,MAHRwT,EAFyB,EAEzBA,WACAyE,EAHyB,EAGzBA,oBACAd,EAJyB,EAIzBA,2BAGD,EAAK5T,SAAL,eACEc,GAAmB,IAGrB4T,EAAoBzE,EAAD,YAAC,eAAiB,EAAK7T,MAAM8X,YAAe5B,IAC7DnO,MAAK,kBAAMyP,EAA2B3D,OApDtB,EAuDnB0E,kBAAoB,SAAAC,GAAc,IAAD,EAK5B,EAAKnY,MAHRwT,EAF+B,EAE/BA,WACA4E,EAH+B,EAG/BA,oBACAjB,EAJ+B,EAI/BA,2BAGD,EAAK5T,SAAL,eACEc,GAAqB,IAGnB8T,GACHC,EAAoB5E,EAAY,EAAK7T,MAAM8X,WAAWhZ,IACpDiJ,MAAK,kBAAMyP,EAA2B3D,OAjEzC,IAAMA,EAAaxT,EAAMwT,WAHP,OAIlBxT,EAAMqY,mBAAmB7E,GAJP,EATpB,qDAiFW,IAAD,SAKJzS,KAAKf,MAHRsY,EAFO,EAEPA,eACAC,EAHO,EAGPA,sBACAC,EAJO,EAIPA,oBAIAf,EACG1W,KAAKpB,MADR8X,WAIAd,EACG5V,KAAKpB,MADRgX,WAGD,OAAI4B,EAEF,6BACC,sCACA,kBAAC,EAAD,QAIED,GAAkBE,EACf,kBAAC,IAAD,CAAUzW,GAAG,iBAErBuW,EAAe3D,MAAK,SAACC,EAAGC,GAAJ,OAAUQ,KAAOT,EAAEO,KAAM,cAAcK,SAAWH,KAAOR,EAAEM,KAAM,cAAcK,YAAUiD,UAG5G,6BACC,sCACA,yBAAKxY,UAAU,mBACd,kBAAC,EAAD,CAAQK,KAAMwU,IAAQzU,MAAM,OAAOgB,QAAS,kBAAM,EAAKsW,UAAUtT,KAAjE,gBAECsS,EACG,kBAAC,EAAD,CAAQ1W,UAAU,eAAeI,MAAM,aAAagB,QAAS,kBAAM,EAAKkC,SAAS,CAAEoT,YAAY,MAA/F,QACA,kBAAC,EAAD,CAAQ1W,UAAU,eAAeI,MAAM,QAAQgB,QAAS,kBAAM,EAAKkC,SAAS,CAAEoT,YAAY,MAA1F,SAIsB,IAA1B2B,EAAetW,OACZ,kBAAC,KAAD,CAAU/B,UAAU,OAEpBqY,EAAerX,KAAI,SAAA4U,GAAK,OACvB,kBAAC,GAAD,CACC1U,IAAK0U,EAAMpX,GACXoX,MAAOA,EACPc,WAAYA,EACZC,cAAe,SAAAf,GAAK,OAAI,EAAK8B,UAAUtT,EAAkBwR,IACzDgB,gBAAiB,SAAAhB,GAAK,OAAI,EAAK8B,UAAUtT,EAAoBwR,UAK/D,yBAAK5V,UAAU,gBAChB,yBAAKA,UAAU,QAAQwC,IAAKsS,KAAOpS,IAAI,wBACvC,0CAGH,kBAAC,GAAD,CACCb,MAAM,eACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAoBqU,KAElF,kBAAC,GAAD,CAAW7U,SAAU9C,KAAK+W,kBAAmBnG,IAAK,SAAAgH,GAAU,OAAI,EAAKf,cAAgBe,GAAY3C,cAAesC,EAAerX,KAAI,SAAA4U,GAAK,OAAIR,KAAOQ,EAAMV,KAAM,cAAcK,eAE9K,kBAAC,GAAD,CACC1T,MAAM,aACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAkBqU,KAEhF,kBAAC,GAAD,CAAW7U,SAAU9C,KAAKiX,gBAAiBrG,IAAK,SAAAiH,GAAQ,OAAI,EAAKf,YAAce,GAAU5C,cAAesC,EAAejS,QAAO,SAAAwP,GAAK,OAAK4B,GAAc5B,EAAMpX,KAAOgZ,EAAWhZ,MAAIwC,KAAI,SAAA4U,GAAK,OAAIR,KAAOQ,EAAMV,KAAM,cAAcK,eAEjO,kBAAC,GAAD,CACC1T,MAAM,eACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAoBqU,KAElF,kBAACvC,GAAD,CAAYtS,SAAU9C,KAAKmX,2BA/JhC,GAA+B5W,aA0LzBC,GAAc,CACnBwW,oBTvKkC,SAACvE,EAAD,OAAeC,EAAf,EAAeA,WAAY0B,EAA3B,EAA2BA,KAAMzG,EAAjC,EAAiCA,YAAjC,OAAmD,SAAC3P,EAAUwH,GAG7F,OAFAxH,EAASsG,GAlCc,iBAkCef,EAAkBC,EAAQC,SAEzDgD,IAAMC,KAAN,UACArD,EADA,uBACsBoP,EADtB,YAEH,CACIC,aACA0B,OACAzG,eAEJpI,GAAeC,IAEdmB,MAAK,SAAAC,GACF5I,EAASsG,GA9CM,iBA8CuBf,EAAkBC,EAAQC,OAAQmD,EAAIC,UAE/EC,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GAlDM,iBAkDuBf,EAAkBC,EAAQC,OAAQqC,SSuJnFoR,oBTjIkC,SAACzE,EAAD,OAAe/U,EAAf,EAAeA,GAAIgV,EAAnB,EAAmBA,WAAY0B,EAA/B,EAA+BA,KAAMzG,EAArC,EAAqCA,YAArC,OAAuD,SAAC3P,EAAUwH,GAGjG,OAFAxH,EAASsG,GAzEc,iBAyEef,EAAkBC,EAAQG,OAAQjG,IAEjE+I,IAAM6D,MAAN,UACAjH,EADA,uBACsBoP,EADtB,mBAC2C/U,EAD3C,KAEH,CACIgV,aACA0B,OACAzG,eAEJpI,GAAeC,IAEdmB,MAAK,SAAAC,GACF5I,EAASsG,GArFM,iBAqFuBf,EAAkBC,EAAQG,OAAQiD,EAAIC,UAE/EC,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GAzFM,iBAyFuBf,EAAkBC,EAAQG,OAAQmC,SSiHnFuR,oBT7GkC,SAAC5E,EAAYqF,GAAb,OAAiC,SAAC9Z,EAAUwH,GAG3E,OAFAxH,EAASsG,GA9Fc,iBA8Fef,EAAkBC,EAAQI,SAEzD6C,IAAMsR,OAAN,UACA1U,EADA,uBACsBoP,EADtB,mBAC2CqF,EAD3C,KAEHvS,GAAeC,IAEdmB,MAAK,WACF3I,EAASsG,GArGM,iBAqGuBf,EAAkBC,EAAQI,OAAQkU,OAE3EhR,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GAzGM,iBAyGuBf,EAAkBC,EAAQI,OAAQkC,SSkGnFwR,mBT9FiC,SAAA7E,GAAU,OAAI,SAACzU,EAAUwH,GAGvD,OAFAxH,EAASsG,GA9Gc,iBA8Gef,EAAkBC,EAAQK,OAEzD4C,IAAMvE,IAAN,UACAmB,EADA,uBACsBoP,EADtB,YAEHlN,GAAeC,IAEdmB,MAAK,SAAAC,GACF5I,EAASsG,GArHM,iBAqHuBf,EAAkBC,EAAQK,KAAM+C,EAAIC,UAE7EC,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GAzHM,iBAyHuBf,EAAkBC,EAAQK,KAAMiC,SSmFjFsQ,+BAGc3V,gBAdS,SAAA7B,GAAK,MAAK,CACjC2Y,eAAgB3F,GAAqBhT,GACrC4Y,sBAAuB9F,GAA4B9S,GACnD6Y,oBAAqB9F,GAA0B/S,MAWR4B,GAAzBC,CAAsCgW,ICjJrD,IAMMjW,GAAc,CACnB4V,+BAGc3V,gBAVS,SAAA7B,GAAK,MAAK,CACjCoZ,mBAAoBxB,GAAyB5X,GAC7CqZ,0BAA2B5B,GAAgCzX,GAC3DsZ,wBAAyB3B,GAA8B3X,MAOhB4B,GAAzBC,EAvER,SAA4BxB,GAAQ,IAEzCC,EAMGD,EANHC,UACAuT,EAKGxT,EALHwT,WACAuF,EAIG/Y,EAJH+Y,mBACAC,EAGGhZ,EAHHgZ,0BACAC,EAEGjZ,EAFHiZ,wBACA9B,EACGnX,EADHmX,2BAOD,GAJAjN,qBAAU,WACTiN,EAA2B3D,KACzB,CAAC2D,EAA4B3D,IAE5BwF,IAA8BD,GAAsBE,EACvD,OACC,6BACC,0CACA,kBAAC,EAAD,OAlBsC,IAuBxCC,EAIGH,EAJHG,kBACAC,EAGGJ,EAHHI,YACAC,EAEGL,EAFHK,gBACAC,EACGN,EADHM,cAGD,OACC,yBAAKpZ,UAAWA,GACf,0CAECiZ,GACA,6EAAmDA,EAAkBI,QAAQ,GAA7E,SAED,qCACSH,EADT,SAC2B,6BAD3B,cAEaC,EAFb,SAEmC,6BAFnC,YAGWC,EAHX,cCvBUE,GAAb,kDAMC,WAAYvZ,GAAQ,IAAD,yBAClB,cAAMA,IANPL,OAKmB,mBAJjB0E,GAAmB,GAIF,cAHjBA,GAAqB,GAGJ,KAOnBsP,uBAAyB,SAAC+D,EAAOlY,GAChC,EAAK+D,SAAL,eACEmU,EAAQlY,KATQ,EAanBmY,UAAY,SAAAD,GACX,EAAKnU,SAAL,eACEmU,GAAQ,IAGNA,IAAUrT,GACb,EAAKwP,gBAAgBjF,MAAM,EAAK5O,MAAM6O,WAnBrB,EAsBnB2K,mBAAqB,SAAA3K,GACpB,EAAKtL,SAAL,eACEc,GAAmB,IAGrB,EAAKrE,MAAMyZ,eAAX,2BAA+B,EAAKzZ,MAAM6O,UAAaA,KA3BrC,EA8BnB6K,qBAAuB,SAAAvB,GAAc,IAAD,EAI/B,EAAKnY,MAFR6O,EAFkC,EAElCA,SACA8K,EAHkC,EAGlCA,eAGD,EAAKpW,SAAL,eACEc,GAAqB,IAGnB8T,GACHwB,EAAe9K,EAASpQ,KAtCzB,IAAM+U,EAAaxT,EAAM3B,MAAMub,OAAOpG,WAHpB,OAIlBxT,EAAM6Z,iBAAiBrG,GAJL,EANpB,qDAkDW,IAAD,SASJzS,KAAKf,MAPR6O,EAFO,EAEPA,SACA2E,EAHO,EAGPA,WACAsG,EAJO,EAIPA,gBACAC,EALO,EAKPA,cAECH,EAPM,EAMPvb,MACCub,OAIF,GAAIE,GAAmBtG,IAAeoG,EAAOpG,WAC5C,OAAO,kBAAC,EAAD,MAER,IAAK3E,GAAYkL,EAChB,OAAO,kBAAC,IAAD,CAAUhY,GAAG,gBAfb,IAkBPD,EAGG+M,EAHH/M,MACA4M,EAEGG,EAFHH,YACAC,EACGE,EADHF,UAGD,OACC,yBAAK1O,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,sDAAwBL,KAEzB,kBAACJ,EAAD,CACCC,YAAa,CACZ,CAAEG,MAAO,OAAQC,GAAI,KACrB,CAAED,MAAO,aAAcC,GAAI,eAC3B,CAAED,YAEJ,yBAAK7B,UAAU,gBACd,6BACC,yBAAKA,UAAU,SACd,yBAAKA,UAAU,SACd,4BAAK6B,GACJ4M,GAAe,2BAAIS,GAAeT,IAClCC,GAAa,yCAAemD,GAAoBnD,KAElD,yBAAK1O,UAAU,aACd,kBAAC,EAAD,CAAQK,KAAM2W,IAAQ5W,MAAM,QAAQgB,QAAS,kBAAM,EAAKsW,UAAUtT,KAAlE,QACA,kBAAC,EAAD,CAAQ/D,KAAM8V,IAAS/V,MAAM,MAAMgB,QAAS,kBAAM,EAAKsW,UAAUtT,KAAjE,YAGF,kBAAC,GAAD,CAAoBmP,WAAYA,KAEjC,kBAAC,GAAD,CACCA,WAAYA,KAGd,kBAAC,GAAD,CACC1R,MAAM,gBACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAkBqU,KAEhF,kBAAC,GAAD,CAAc7U,SAAU9C,KAAKyY,mBAAoB7H,IAAK,SAAAqD,GAAY,OAAI,EAAKnB,gBAAkBmB,MAE9F,kBAAC,GAAD,CACClT,MAAM,kBACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAoBqU,KAElF,kBAACvC,GAAD,CAAYtS,SAAU9C,KAAK2Y,6BAnHhC,GAAwCpY,aAsJlCC,GAAc,CACnBsY,iBZrI+B,SAAArG,GAAU,OAAI,SAACzU,EAAUwH,GAGxD,OAFAxH,EAASsG,GAlCiB,aAkCYf,EAAkBC,EAAQE,SAAU+O,IAEnEhM,IAAMvE,IAAN,UACHmB,EADG,YApCmB,aAoCnB,YACuBoP,EADvB,KAENlN,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GAzCe,aAyCcf,EAAkBC,EAAQE,SAAUkD,EAAIC,UAE9EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,6BACvCA,EAASsG,GA7Ce,aA6Ccf,EAAkBC,EAAQE,SAAUoC,SY0H5E4S,eZrH6B,SAAC,GAAD,IAAGhb,EAAH,EAAGA,GAAIqD,EAAP,EAAOA,MAAO4M,EAAd,EAAcA,YAAaC,EAA3B,EAA2BA,UAAWtO,EAAtC,EAAsCA,MAAtC,OAAkD,SAACtB,EAAUwH,GAG1F,OAFAxH,EAASsG,GAnDiB,aAmDYf,EAAkBC,EAAQG,OAAQjG,IAEjE+I,IAAM6D,MAAN,UACHjH,EADG,YArDmB,aAqDnB,YACuB3F,EADvB,KAEN,CACCqD,QACA4M,cACAC,YACAtO,SAEDiG,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GAhEe,aAgEcf,EAAkBC,EAAQG,OAAQiD,EAAIC,UAE5EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,8BACvCA,EAASsG,GApEe,aAoEcf,EAAkBC,EAAQG,OAAQmC,SYoG1E8S,eZhG6B,SAAAnG,GAAU,OAAI,SAACzU,EAAUwH,GAGtD,OAFAxH,EAASsG,GAzEiB,aAyEYf,EAAkBC,EAAQI,SAEzD6C,IAAMsR,OAAN,UACH1U,EADG,YA3EmB,aA2EnB,YACuBoP,EADvB,KAENlN,GAAeC,IAEdmB,MAAK,WACL3I,EAASsG,GAhFe,aAgFcf,EAAkBC,EAAQI,OAAQ6O,OAExE3L,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,8BACvCA,EAASsG,GApFe,aAoFcf,EAAkBC,EAAQI,OAAQkC,UazE5DmT,GAbO,CACrB,CACCvO,KAAM,cACNC,OAAO,EACPC,UCDa,WACd,OACC,yBAAK1L,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,8CAED,kBAACT,EAAD,CACCC,YAAa,CACZ,CAAEG,MAAO,OAAQC,GAAI,KACrB,CAAED,MAAO,iBAEX,0CACA,kBAAC,GAAD,SDTF,CACC2J,KAAM,0BACNC,OAAO,EACPC,UDoKanK,aAbS,SAAA7B,GAAK,MAAK,CACjCkP,SAAUyD,GAAe3S,GACzB6T,WAAYjB,GAAiB5S,GAC7Bma,gBAAiB1H,GAAsBzS,GACvCoa,cAAe1H,GAAoB1S,MASI4B,GAAzBC,CAAsC+X,MG1KhCU,G,4MACpBta,MAAQ,CACPmC,MAAO,I,EAGR8M,MAAQ,SAAAsL,GACP,GAAIA,EAAO,CAAC,IAEVpY,EACGoY,EADHpY,MAGD,EAAKyB,SAAS,CACbzB,eAID,EAAKyB,SAAS,CACbzB,MAAO,M,EAKVuB,aAAe,SAAAC,GACd,EAAKC,SAAL,eACED,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,EAI5BC,aAAe,SAAAL,GACdA,EAAEM,iBADiB,IAIlB9B,EACG,EAAKnC,MADRmC,MAGD,EAAK9B,MAAM6D,SAAS,CACnB/B,W,uDAIQ,IAERA,EACGf,KAAKpB,MADRmC,MAGD,OACC,0BAAM+B,SAAU9C,KAAK4C,cACpB,yBAAK1D,UAAU,cACd,2BAAO6D,QAAQ,SAAf,SACA,2BACCrF,GAAG,QACHgF,KAAK,QACL/E,KAAK,OACLsQ,UAAU,MACVjL,SAAUhD,KAAKsC,aACfK,MAAO5B,EACPkC,UAAQ,KAGV,kBAAC,EAAD,CAAQ1D,KAAM2D,KAAd,e,GA3DmC3C,aCuCxB6Y,GAtCUlH,sBAAW,SAACjT,EAAO2R,GAAS,IAAD,EAU/C3R,EARHka,MACCzb,EAHiD,EAGjDA,GACAqD,EAJiD,EAIjDA,MACAsY,EALiD,EAKjDA,eAEDF,EAGGla,EAHHka,MACAtD,EAEG5W,EAFH4W,cACAC,EACG7W,EADH6W,gBAGD,OACC,yBAAK5W,UAAU,OAAO0R,IAAKA,GAC1B,yBAAK1R,UAAU,SACd,wBAAIA,UAAU,QACb,kBAAC,IAAD,CAAM8B,GAAE,uBAAkBtD,IAAOqD,IAElC,2BAAIsY,IAEL,yBAAKna,UAAU,aACd,kBAAC,EAAD,CAAQK,KAAM2W,IAAQ5W,MAAM,QAAQD,KAAK,KAAKiB,QAAS,kBAAMuV,EAAcsD,IAAQ5G,aAAW,SAC9F,kBAAC,EAAD,CAAQhT,KAAM8V,IAAS/V,MAAM,MAAMD,KAAK,KAAKiB,QAAS,kBAAMwV,EAAgBqD,IAAQ5G,aAAW,gBCpBpF+G,GADO5U,GAHK,UAmGd6U,GAAsB,SAAA3a,GAAK,OAAkD,IAA9CA,EAAM0a,cAAc3U,QAAQnB,EAAQK,OACnE2V,GAAoB,SAAA5a,GAAK,OAAIA,EAAM0a,cAAcnZ,MAAMqD,EAAQK,OAC/D4V,GAAe,SAAA7a,GAAK,OAAIA,EAAM0a,cAAc1U,OAE5C8U,GAAqB,SAAA9a,GAAK,OAAsD,IAAlDA,EAAM0a,cAAc3U,QAAQnB,EAAQE,WAClEiW,GAAmB,SAAA/a,GAAK,OAAIA,EAAM0a,cAAcnZ,MAAMqD,EAAQE,WAC9DkW,GAAc,SAAAhb,GAAK,OAAIA,EAAM0a,cAAczU,MAC3CgV,GAAgB,SAAAjb,GAAK,OAAIA,EAAM0a,cAAcxU,Q,oBC9F7CgV,GAAb,kDAQC,WAAY7a,GAAQ,IAAD,gCAClB,cAAMA,IARPL,OAOmB,GANlBmb,WAAY,MAMM,cALjBzW,GAAqB,GAKJ,cAJjBA,GAAmB,GAIF,cAHjBA,GAAqB,GAGJ,KAMnBsP,uBAAyB,SAAC+D,EAAOlY,GAChC,EAAK+D,SAAL,eACEmU,EAAQlY,KARQ,EAYnBmY,UAAY,SAACD,EAAOoD,GAAgB,IAAD,EAClC,EAAKvX,UAAL,mBACEmU,GAAQ,GADV,2BAECoD,GAFD,IAKIpD,IAAUrT,EACb,EAAKuT,cAAchJ,QACX8I,IAAUrT,GAClB,EAAKwT,YAAYjJ,MAAMkM,IArBN,EAwBnBC,kBAAoB,SAAAb,GAAU,IAE5Bc,EACG,EAAKhb,MADRgb,YAGD,EAAKzX,SAAL,eACEc,GAAqB,IAGvB2W,EAAYd,IAjCM,EAoCnBe,gBAAkB,SAAAf,GAAU,IAE1BgB,EACG,EAAKlb,MADRkb,YAGD,EAAK3X,SAAL,eACEc,GAAmB,IAGrB6W,EAAY,2BAAK,EAAKvb,MAAMmb,YAAeZ,KA7CzB,EAgDnBiB,kBAAoB,SAAAhD,GAAc,IAEhCiD,EACG,EAAKpb,MADRob,YAGD,EAAK7X,SAAL,eACEc,GAAqB,IAGnB8T,GACHiD,EAAY,EAAKzb,MAAMmb,WAAWrc,KAvDnCuB,EAAMqb,aAHY,EARpB,qDAqEW,IAAD,SAKJta,KAAKf,MAHRsb,EAFO,EAEPA,OACAC,EAHO,EAGPA,cACAC,EAJO,EAIPA,YAGD,OAAID,EAEF,6BACC,sCACA,kBAAC,EAAD,QAIED,GAAUE,EACP,kBAAC,IAAD,CAAUzZ,GAAG,MAGpB,6BACC,sCACA,yBAAK9B,UAAU,SACd,kBAAC,EAAD,CAAQK,KAAMwU,IAAQzU,MAAM,OAAOgB,QAAS,kBAAM,EAAKsW,UAAUtT,KAAjE,iBAGkB,IAAlBiX,EAAOtZ,OACJ,kBAAC,KAAD,CAAU/B,UAAU,aAEpBqb,EAAOra,KAAI,SAAAiZ,GAAK,OACf,kBAAC,GAAD,CACC/Y,IAAK+Y,EAAMzb,GACXyb,MAAOA,EACPtD,cAAe,SAAAsD,GAAK,OAAI,EAAKvC,UAAUtT,EAAkB6V,IACzDrD,gBAAiB,SAAAqD,GAAK,OAAI,EAAKvC,UAAUtT,EAAoB6V,UAK/D,yBAAKja,UAAU,cAChB,yBAAKA,UAAU,eACd,yBAAKA,UAAU,QAAQwC,IAAKsS,KAAOpS,IAAI,iBACvC,2CAIJ,kBAAC,GAAD,CACCb,MAAM,eACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAoBqU,KAElF,kBAAC,GAAD,CAAW7U,SAAU9C,KAAKga,kBAAmBpJ,IAAK,SAAAgH,GAAU,OAAI,EAAKf,cAAgBe,MAEtF,kBAAC,GAAD,CACC7W,MAAM,aACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAkBqU,KAEhF,kBAAC,GAAD,CAAW7U,SAAU9C,KAAKka,gBAAiBtJ,IAAK,SAAAiH,GAAQ,OAAI,EAAKf,YAAce,MAEhF,kBAAC,GAAD,CACC9W,MAAM,eACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAoBqU,KAElF,kBAACvC,GAAD,CAAYtS,SAAU9C,KAAKoa,0BArIhC,GAA+B7Z,aA6JzBC,GAAc,CACnByZ,YDnK0B,SAAC,GAAD,IAAGlZ,EAAH,EAAGA,MAAH,OAAe,SAAC/C,EAAUwH,GAGpD,OAFAxH,EAASsG,GARiB,SAQYf,EAAkBC,EAAQC,SAEzDgD,IAAMC,KAAN,UACHrD,EADG,YAVmB,SAUnB,KAEN,CACCtC,SAEDwE,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GAlBe,SAkBcf,EAAkBC,EAAQC,OAAxC,YAAC,eACrBmD,EAAIC,MADgB,IAEvBwS,eAAgB,kBAGjBvS,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GAzBe,SAyBcf,EAAkBC,EAAQC,OAAQqC,SCkJ1EqU,YD5H0B,SAAC,GAAD,IAAGzc,EAAH,EAAGA,GAAIqD,EAAP,EAAOA,MAAP,OAAmB,SAAC/C,EAAUwH,GAGxD,OAFAxH,EAASsG,GAhDiB,SAgDYf,EAAkBC,EAAQG,OAAQjG,IAEjE+I,IAAM6D,MAAN,UACHjH,EADG,YAlDmB,SAkDnB,YACuB3F,EADvB,KAEN,CACCqD,SAEDwE,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GA1De,SA0Dcf,EAAkBC,EAAQG,OAAQiD,EAAIC,UAE5EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GA9De,SA8Dcf,EAAkBC,EAAQG,OAAQmC,SC8G1EuU,YD1G0B,SAAAK,GAAO,OAAI,SAAC1c,EAAUwH,GAGhD,OAFAxH,EAASsG,GAnEiB,SAmEYf,EAAkBC,EAAQI,SAEzD6C,IAAMsR,OAAN,UACH1U,EADG,YArEmB,SAqEnB,YACuBqX,EADvB,KAENnV,GAAeC,IAEdmB,MAAK,WACL3I,EAASsG,GA1Ee,SA0Ecf,EAAkBC,EAAQI,OAAQ8W,OAExE5T,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GA9Ee,SA8Ecf,EAAkBC,EAAQI,OAAQkC,SC+F1EwU,WD3FyB,kBAAM,SAACtc,EAAUwH,GAG1C,OAFAxH,EAASsG,GAnFiB,SAmFYf,EAAkBC,EAAQK,OAEzD4C,IAAMvE,IAAN,UACHmB,EADG,YArFmB,SAqFnB,KAENkC,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GA1Fe,SA0Fcf,EAAkBC,EAAQK,KAAM+C,EAAIC,UAE1EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GA9Fe,SA8Fcf,EAAkBC,EAAQK,KAAMiC,UCkF1DrF,gBAbS,SAAA7B,GAAK,MAAK,CACjC2b,OAAQd,GAAa7a,GACrB4b,cAAejB,GAAoB3a,GACnC6b,YAAajB,GAAkB5a,MAUQ4B,GAAzBC,CAAsCqZ,IChL9C,IAIQa,GADOjW,GAHK,UAoIdkW,GAAsB,SAAAhc,GAAK,OAAkD,IAA9CA,EAAM+b,cAAchW,QAAQnB,EAAQK,OACnEgX,GAAoB,SAAAjc,GAAK,OAAIA,EAAM+b,cAAcxa,MAAMqD,EAAQK,OAC/DiX,GAAe,SAAAlc,GAAK,OAAIA,EAAM+b,cAAc/V,OCzI5CmW,GAAmB,SAAAC,GAAW,OAAI1G,KAAO2G,SAASD,GAAaE,aAE/DC,GAAoB,SAAAC,GAIhC,MAAO,CAHS/c,KAAK2T,MAAMoJ,EAAc,IACzB/c,KAAK2T,MAAMoJ,EAAc,KAGvClb,KAAI,SAAAmb,GAAC,OAAIA,EAAI,GAAK,IAAMA,EAAIA,KAC5Bvb,KAAK,MAGKwb,GAAoB,SAAAN,GAAW,OAAIG,GAAkBJ,GAAiBC,KCL9D9B,G,4MACpBta,MAAQ,CACPmC,MAAO,GACPka,SAAU,GACV3b,WAAO2M,G,EAGR4B,MAAQ,SAAAsL,GACP,GAAIA,EAAO,CAAC,IAEVpY,EAGGoY,EAHHpY,MACAka,EAEG9B,EAFH8B,SACA3b,EACG6Z,EADH7Z,MAGD,EAAKkD,SAAS,CACbzB,QACAka,SAAUK,GAAkBL,GAC5B3b,eAID,EAAKkD,SAAS,CACbzB,MAAO,GACPka,SAAU,GACV3b,WAAO2M,K,EAKV3J,aAAe,SAAAC,GACd,EAAKC,SAAL,eACED,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,EAI5BoL,kBAAoB,SAAAzO,GACnB,EAAKkD,SAAS,CACblD,MAAOA,K,EAITsD,aAAe,SAAAL,GACdA,EAAEM,iBADiB,MAOf,EAAKjE,MAHRmC,EAJkB,EAIlBA,MACAka,EALkB,EAKlBA,SACA3b,EANkB,EAMlBA,MAGD,EAAKL,MAAM6D,SAAS,CACnB/B,QACAka,WACA3b,W,uDAIQ,IAAD,EAKJU,KAAKpB,MAHRmC,EAFO,EAEPA,MACAka,EAHO,EAGPA,SACA3b,EAJO,EAIPA,MAGD,OACC,0BAAMwD,SAAU9C,KAAK4C,cACpB,yBAAK1D,UAAU,cACd,2BAAO6D,QAAQ,SAAf,SACA,2BACCrF,GAAG,QACHgF,KAAK,QACL/E,KAAK,OACLsQ,UAAU,MACVjL,SAAUhD,KAAKsC,aACfK,MAAO5B,EACPkC,UAAQ,KAGV,yBAAK/D,UAAU,cACd,2BAAO6D,QAAQ,YAAf,YACA,uBAAG7D,UAAU,SAAb,qBACA,2BACCxB,GAAG,WACHgF,KAAK,WACL/E,KAAK,OACLsQ,UAAU,MACVjL,SAAUhD,KAAKsC,aACfK,MAAOsY,EACPM,QAAQ,iBACRtY,UAAQ,KAGV,yBAAK/D,UAAU,cACd,2BAAO6D,QAAQ,SAAf,SACA,kBAAC,GAAD,CACCL,KAAK,QACLM,SAAUhD,KAAK+N,kBACfpL,MAAOrD,EACP2D,UAAQ,KAGV,kBAAC,EAAD,CAAQ1D,KAAM2D,KAAd,e,GAtGmC3C,aC2DxBib,I,OA1DUtJ,sBAAW,SAACjT,EAAO2R,GAAS,IAAD,EAc/C3R,EAZHwc,MACC1a,EAHiD,EAGjDA,MACAka,EAJiD,EAIjDA,SACO9H,EAL0C,EAKjD7T,MAEDR,EAOGG,EAPHH,OACA8W,EAMG3W,EANH2W,WACA8F,EAKGzc,EALHyc,eACA7F,EAIG5W,EAJH4W,cACAC,EAGG7W,EAHH6W,gBACA6F,EAEG1c,EAFH0c,YACAC,EACG3c,EADH2c,cAGD,OACC,yBAAK1c,UAAS,oBAAewc,EAAiB,sBAAwB,IAAM9K,IAAKA,GAChF,yBAAK1R,UAAU,QACd,6BACC,6BACC,wBAAIA,UAAU,QAAQ6B,GACtB,uBAAG7B,UAAU,QAAQoc,GAAkBL,KAExC,kBAAC,GAAD,CAAgBhF,GAAIL,GACnB,yBAAK1W,UAAU,mBACd,kBAAC,EAAD,CAAQK,KAAM2W,IAAQ5W,MAAM,QAAQD,KAAK,KAAKiB,QAASuV,EAAetD,aAAW,SACjF,kBAAC,EAAD,CAAQhT,KAAM8V,IAAS/V,MAAM,MAAMD,KAAK,KAAKiB,QAASwV,EAAiBvD,aAAW,cAIrF,kBAAC,GAAD,CAAgB0D,GAAIL,GACnB,yBAAK1W,UAAU,gCACbyc,GAAe,kBAAC,EAAD,CAAQpc,KAAMsc,IAAavc,MAAM,QAAQD,KAAK,KAAKiB,QAASqb,EAAapJ,aAAW,YACnGqJ,GAAiB,kBAAC,EAAD,CAAQrc,KAAMuc,IAAexc,MAAM,QAAQD,KAAK,KAAKiB,QAASsb,EAAerJ,aAAW,iBAI7G,yBAAKrT,UAAU,eAAemJ,MAAO,CAAEwE,gBAAiB/N,EAAOoJ,MAAK,SAAA5I,GAAK,OAAIA,EAAM5B,KAAOyV,KAAS/F,iB,oBC/BzF2O,GAAb,8MACCnd,OADD,GAEEod,WAAY,MAFd,cAGG1Y,GAAqB,GAHxB,cAIGA,GAAmB,GAJtB,cAKGA,GAAqB,GALxB,KAQCsP,uBAAyB,SAAC+D,EAAOlY,GAChC,EAAK+D,SAAL,eACEmU,EAAQlY,KAVZ,EAcCmY,UAAY,SAACD,EAAOqF,GAAgB,IAAD,EAClC,EAAKxZ,UAAL,mBACEmU,GAAQ,GADV,2BAECqF,GAFD,IAKIrF,IAAUrT,EACb,EAAKuT,cAAchJ,QACX8I,IAAUrT,GAClB,EAAKwT,YAAYjJ,MAAMmO,IAvB1B,EA0BCC,kBAAoB,SAAAR,GAAU,IAAD,EAIxB,EAAKxc,MAFRyb,EAF2B,EAE3BA,QACAwB,EAH2B,EAG3BA,YAGD,EAAK1Z,SAAL,eACEc,GAAqB,IAGvB4Y,EAAYxB,EAASe,IApCvB,EAuCCU,gBAAkB,SAAAV,GAAU,IAAD,EAItB,EAAKxc,MAFRyb,EAFyB,EAEzBA,QACA0B,EAHyB,EAGzBA,YAGD,EAAK5Z,SAAL,eACEc,GAAmB,IAGrB8Y,EAAY1B,EAAD,YAAC,eAAc,EAAK9b,MAAMod,YAAeP,KAjDtD,EAoDCY,kBAAoB,SAAAjF,GAAc,IAAD,EAI5B,EAAKnY,MAFRyb,EAF+B,EAE/BA,QACA4B,EAH+B,EAG/BA,YAGD,EAAK9Z,SAAL,eACEc,GAAqB,IAGnB8T,GACHkF,EAAY5B,EAAS,EAAK9b,MAAMod,WAAWte,KA/D9C,uDAkEW,IAAD,SAUJsC,KAAKf,MARRsd,EAFO,EAEPA,aACA7B,EAHO,EAGPA,QACA8B,EAJO,EAIPA,OACA1d,EALO,EAKPA,OACA6c,EANO,EAMPA,YACAC,EAPO,EAOPA,cACAhG,EARO,EAQPA,WACA6G,EATO,EASPA,YAGKC,EAAiBH,EAAeA,EAAa7e,GAAK,KAEpDif,EAAgBH,EAAOtc,KAAI,SAACub,EAAO3a,GAAR,OAC9B,kBAAC,GAAD,CACCV,IAAKqb,EAAM/d,GACX+d,MAAOA,EACP5F,cAAe,kBAAM,EAAKe,UAAUtT,EAAkBmY,IACtD3F,gBAAiB,kBAAM,EAAKc,UAAUtT,EAAoBmY,IAC1D7F,WAAYA,GAAc6F,EAAM/d,KAAOgf,EACvCf,YAAmB,IAAN7a,EAAU,kBAAM6a,EAAYjB,EAASe,EAAM/d,KAAM,KAC9Dke,cAAe9a,IAAM0b,EAAOvb,OAAS,EAAI,kBAAM2a,EAAclB,EAASe,EAAM/d,KAAM,KAClFoB,OAAQA,EACR4c,eAAgBD,EAAM/d,KAAOgf,OAI/BC,EAAchd,KAAK,wBAAIS,IAAI,UAAUlB,UAAU,WAC/C,IAAM0d,EAAoBJ,EAAOK,WAAU,SAAApB,GAAK,OAAIA,EAAM/d,KAAOgf,KAKjE,OAH2B,IAAvBE,IACHD,EAAgBA,EAAcG,MAAMF,GAAmBG,OAAOJ,EAAcG,MAAM,EAAGF,KAGrF,6BACC,sCACA,yBAAK1d,UAAU,mBACd,kBAAC,GAAD,CAAgB+W,GAAIL,GACnB,kBAAC,EAAD,CAAQrW,KAAMwU,IAAQzU,MAAM,OAAOgB,QAAS,kBAAM,EAAKsW,UAAUtT,KAAjE,iBAGAsS,EACG,kBAAC,EAAD,CAAQxV,IAAI,WAAWlB,UAAU,eAAeI,MAAM,aAAagB,QAAS,kBAAMmc,GAAY,KAA9F,QACA,kBAAC,EAAD,CAAQrc,IAAI,WAAWlB,UAAU,eAAeI,MAAM,QAAQgB,QAAS,kBAAMmc,GAAY,KAAzF,SAIc,IAAlBD,EAAOvb,OACJ,kBAAC,KAAD,CAAUga,SAAU,IAAK+B,OAAO,YAChCL,GAEA,yBAAKzd,UAAU,cAChB,yBAAKA,UAAU,eACd,yBAAKA,UAAU,QAAQwC,IAAKsS,KAAOpS,IAAI,iBACvC,2CAIJ,kBAAC,GAAD,CACCb,MAAM,eACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAoBqU,KAElF,kBAAC,GAAD,CAAW7U,SAAU9C,KAAKic,kBAAmBrL,IAAK,SAAAgH,GAAU,OAAI,EAAKf,cAAgBe,MAEtF,kBAAC,GAAD,CACC7W,MAAM,aACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAkBqU,KAEhF,kBAAC,GAAD,CAAW7U,SAAU9C,KAAKmc,gBAAiBvL,IAAK,SAAAiH,GAAQ,OAAI,EAAKf,YAAce,MAEhF,kBAAC,GAAD,CACC9W,MAAM,eACNtC,UAAWuB,KAAKpB,MAAM0E,GACtBkI,mBAAoB,SAAAmM,GAAU,OAAI,EAAK/E,uBAAuBtP,EAAoBqU,KAElF,kBAACvC,GAAD,CAAYtS,SAAU9C,KAAKqc,0BAhJhC,GAA+B9b,aAsKzBC,GAAc,CACnB0b,YJ3K0B,SAACxB,EAAD,OAAY3Z,EAAZ,EAAYA,MAAOka,EAAnB,EAAmBA,SAAU3b,EAA7B,EAA6BA,MAA7B,OAAyC,SAACtB,EAAUwH,GAG3E,OAFAxH,EAASsG,GARc,SAQef,EAAkBC,EAAQC,SAEzDgD,IAAMC,KAAN,UACArD,EADA,mBACkBqX,EADlB,YAVgB,SAUhB,KAEH,CACI3Z,QACAka,WACA3b,SAEJiG,GAAeC,IAEdmB,MAAK,SAAAC,GACF5I,EAASsG,GApBM,SAoBuBf,EAAkBC,EAAQC,OAAQmD,EAAIC,UAE/EC,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GAxBM,SAwBuBf,EAAkBC,EAAQC,OAAQqC,SI2JnFsW,YJrI0B,SAAC1B,EAAD,OAAYhd,EAAZ,EAAYA,GAAIqD,EAAhB,EAAgBA,MAAOka,EAAvB,EAAuBA,SAAU3b,EAAjC,EAAiCA,MAAjC,OAA6C,SAACtB,EAAUwH,GAG/E,OAFAxH,EAASsG,GA/Cc,SA+Cef,EAAkBC,EAAQG,OAAQjG,IAEjE+I,IAAM6D,MAAN,UACAjH,EADA,mBACkBqX,EADlB,YAjDgB,SAiDhB,YAC4Chd,EAD5C,KAEH,CACIqD,QACAka,WACA3b,SAEJiG,GAAeC,IAEdmB,MAAK,SAAAC,GACF5I,EAASsG,GA3DM,SA2DuBf,EAAkBC,EAAQG,OAAQiD,EAAIC,UAE/EC,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GA/DM,SA+DuBf,EAAkBC,EAAQG,OAAQmC,SIqHnFwW,YJjH0B,SAAC5B,EAASuC,GAAV,OAAsB,SAACjf,EAAUwH,GAGxD,OAFAxH,EAASsG,GApEc,SAoEef,EAAkBC,EAAQI,SAEzD6C,IAAMsR,OAAN,UACA1U,EADA,mBACkBqX,EADlB,YAtEgB,SAsEhB,YAC4CuC,EAD5C,KAEH1X,GAAeC,IAEdmB,MAAK,WACF3I,EAASsG,GA3EM,SA2EuBf,EAAkBC,EAAQI,OAAQqZ,OAE3EnW,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GA/EM,SA+EuBf,EAAkBC,EAAQI,OAAQkC,SIsGnF6V,YJlF0B,SAACjB,EAASuC,GAAV,OAAsB,SAACjf,EAAUwH,GAC3D,OAAOiB,IAAMC,KAAN,UACGrD,EADH,mBACqBqX,EADrB,mBACuCuC,EADvC,aAEA,GACN1X,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GA1Ge,SA0Gcf,EAAkBC,EAAQK,KAAM+C,EAAIC,UAE1EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,4BAC9BA,EAASsG,GA9GM,SA8GuBf,EAAkBC,EAAQK,KAAMiC,SIwEjF8V,cJnE4B,SAAClB,EAASuC,GAAV,OAAsB,SAACjf,EAAUwH,GAC7D,OAAOiB,IAAMC,KAAN,UACGrD,EADH,mBACqBqX,EADrB,mBACuCuC,EADvC,eAEA,GACN1X,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GA1He,SA0Hcf,EAAkBC,EAAQK,KAAM+C,EAAIC,UAE1EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,8BACvCA,EAASsG,GA9He,SA8Hcf,EAAkBC,EAAQK,KAAMiC,UI2D1DrF,gBAAQ,iBAAO,KAAKD,GAApBC,CAAiCsb,I,6BC6DjCmB,GAhPf,4MACCte,MAAQ,CACPue,MAAO,EACPC,YAAa,GACbC,UAAU,EACVC,OAAO,GALT,EAYCC,eAAiB,WAOhB,IAPuB,IAEtBH,EACG,EAAKxe,MADRwe,YAGG1N,EAAc,EAET5O,EAAI,EAAGA,EAAIsc,EAAYnc,OAAQH,GAAK,EAAG,CAC/C,IAAIoO,OAAS,EAAEsO,OAAO,EAElB1c,EAAI,EAAIsc,EAAYnc,QACvBiO,EAAYkO,EAAYtc,GACxB0c,EAAUJ,EAAYtc,EAAI,KAG1BoO,EAAYkO,EAAYtc,GACxB0c,EAAU,IAAItf,MAGfwR,GAAe8N,EAAUtO,EAG1B,OAAO7Q,KAAK4Q,IAAI,EAAKwO,qBAAwB/N,EAAc,IAAO,IAlCpE,EAqCCgO,eAAiB,WAChB,IAAMC,EAActf,KAAK4Q,IAAI5Q,KAAK2S,MAAM,EAAKuM,kBAAmB,GAChE,OAAOpC,GAAkBwC,IAvC3B,EA0CCC,SAAW,WACV,OAAO,EAAKhf,MAAMwe,YAAYnc,OAAS,IAAM,GA3C/C,EA8CCwc,mBAAqB,WAAO,IAE1BlB,EACG,EAAKtd,MADRsd,aAGD,OAAOA,EAAexB,GAAiBwB,EAAatB,UAAY,GAnDlE,EAsDC4C,KAAO,WACc,EAAKN,iBAEP,EACjB,EAAK/a,SAAS,CACb2a,MAAO,EAAKve,MAAMue,MAAQ,KAI3B,EAAKW,QAED,EAAKlf,MAAM0e,OACd,IAAIS,MAAMC,MAAMC,OAEb,EAAKrf,MAAMye,UACd,EAAKa,eAIP,EAAKC,gBAzEP,EA4ECD,YAAc,WAA+B,IAA9Bnc,IAA6B,yDAAhBkc,IAAgB,yDACrCG,EAAWrc,EAAO,EAAK9C,MAAMof,eAAiB,EAAKpf,MAAMqf,mBAE/D,GAAKF,EAAL,CAGA,IAAMnD,EAAWF,GAAiBqD,EAASnD,UAEvCgD,GACHM,cAAc,EAAKC,UACnB,EAAKA,SAAWC,YAAY,EAAKZ,KAAMxf,KAAK6P,IAAI+M,EAxF9B,MAyFlB,EAAKzY,SAAS,CACb2a,MAAO,EACPC,YAAa,CAAC,IAAIlf,UAInBqgB,cAAc,EAAKC,UACnB,EAAKhc,SAAS,CACb2a,MAAO,EACPC,YAAa,KAEd,EAAKe,aAAaC,MAlGrB,EAsGCH,KAAO,WACN,GAAK,EAAKL,WAGV,GAAI,EAAKL,kBAAoB,EAC5B,EAAKW,kBAEC,CACN,IAAMjD,EAAW,EAAKwC,qBACtBc,cAAc,EAAKC,UACnB,EAAKA,SAAWC,YAAY,EAAKZ,KAAMxf,KAAK6P,IAAI+M,EAlH9B,MAmHlB,EAAKzY,SAAS,CACb4a,YAAY,GAAD,mBAAM,EAAKxe,MAAMwe,aAAjB,CAA8B,IAAIlf,WAlHjD,EAuHC4f,MAAQ,WACH,EAAKF,aAGTW,cAAc,EAAKC,UACnB,EAAKhc,SAAS,CACb4a,YAAY,GAAD,mBAAM,EAAKxe,MAAMwe,aAAjB,CAA8B,IAAIlf,WA7HhD,EAiICwgB,KAAO,WACN,EAAKlc,SAAS,CACb2a,MAAO,EACPC,YAAa,KAEdmB,cAAc,EAAKC,UACnB,EAAKvf,MAAM0f,qBAvIb,EA0ICR,aAAe,WAAsB,IAArBC,EAAoB,uDAAT,KAAS,EAI/B,EAAKnf,MAFRsd,EAFkC,EAElCA,aACAzd,EAHkC,EAGlCA,OAGK2c,EAAQ2C,GAAsB7B,EAEpC,GAAKd,EAAL,CAGA,IAAItM,EAAS,EAAKV,UAElB,GAAIU,EAAQ,CACX,IAAIE,EAAMF,EAAOG,WAAW,MAExBrC,EAAQkC,EAAOlC,MACf1E,EAAS4G,EAAO5G,OAEhBiH,EAAKvC,EAAQ,EACbwC,EAAKlH,EAAS,EAEZyG,EAAaoP,EAAW,EAAI,EAAKb,iBAAmB,EAAKE,qBACzDne,EAAQR,EAAOoJ,MAAK,SAAA5I,GAAK,OAAIA,EAAM5B,KAAO+d,EAAMnc,SAEtD+P,EAAIU,yBAA2B,mBAC/BV,EAAIW,UAAU,EAAG,EAAG/C,EAAO1E,GAE3B8G,EAAIY,OAEJZ,EAAIa,UAAY5Q,EAAQA,EAAM8N,SAAW,KACzCiC,EAAIc,YACJd,EAAIe,OAAOZ,EAAIC,GACfJ,EAAIgB,IAAIb,EAAIC,EAAIxC,EAAQ,GAAI5O,KAAKyR,GAAK,GAAIzR,KAAKyR,GAAK,EAAiB,EAAbd,EAAiB3Q,KAAKyR,IAC9ET,EAAIiB,OAAOd,EAAIC,GACfJ,EAAIkB,YACJlB,EAAImB,OAEJnB,EAAIoB,aAhLP,qEASE8N,cAAcve,KAAKwe,YATrB,+BAoLW,IAAD,SAIJxe,KAAKf,MAFRsd,EAFO,EAEPA,aACAqC,EAHO,EAGPA,WAHO,EASJ5e,KAAKpB,MAFRye,EAPO,EAOPA,SACAC,EARO,EAQPA,MAGD,OACC,yBAAKpe,UAAU,iBACd,yBAAKA,UAAU,mBACd,4BAAQA,UAAU,eAAe0R,IAAK,SAAAzB,GAAM,OAAI,EAAKV,UAAYU,GAAQ5G,OAAO,QAAQ0E,MAAM,QAAQ5E,MAAO,CAAEuE,QAAS2P,EAAe,QAAU,UACjJ,yBAAKrd,UAAU,gBACd,2BAAIc,KAAK0d,qBAITkB,GACD,oCAEErC,GACA,4BAAKA,EAAaxb,OAEnB,yBAAK7B,UAAU,aACd,kBAAC,EAAD,CAAQK,KAAMsf,IAAgBvf,MAAM,aAAagB,QAAS,kBAAM,EAAK4d,aAAY,GAAO,IAAQ3L,aAAW,mBAE1GvS,KAAK4d,WACF,kBAAC,EAAD,CAAQre,KAAMuf,IAAQxf,MAAM,aAAagB,QAASN,KAAKie,KAAM1L,aAAW,SACxE,kBAAC,EAAD,CAAQhT,KAAMwf,IAASzf,MAAM,aAAagB,QAASN,KAAK8d,MAAOvL,aAAW,UAE9E,kBAAC,EAAD,CAAQhT,KAAMyf,IAAQ1f,MAAM,aAAagB,QAASN,KAAK0e,KAAMnM,aAAW,SACxE,kBAAC,EAAD,CAAQhT,KAAM0f,IAAe3f,MAAM,aAAagB,QAAS,kBAAM,EAAK4d,aAAY,GAAM,IAAQ3L,aAAW,gBAE1G,yBAAKrT,UAAU,aACd,kBAAC,EAAD,CAAQK,KAAM8d,EAAW6B,IAASC,IAAU7f,MAAO+d,EAAW,YAAc,aAAc/c,QAAS,kBAAM,EAAKkC,SAAS,CAAE6a,UAAWA,MAApI,cAA6JA,EAAW,KAAO,OAC/K,kBAAC,EAAD,CAAQ9d,KAAM+d,EAAQ8B,IAAaC,IAAc/f,MAAOge,EAAQ,YAAc,aAAchd,QAAS,kBAAM,EAAKkC,SAAS,CAAE8a,OAAQA,MAAnI,UAAqJA,EAAQ,KAAO,cA1N3K,GAAkC/c,aCGrB+e,GAAb,kDAMC,WAAYrgB,GAAQ,IAAD,uBAClB,cAAMA,IANPL,MAAQ,CACPgX,YAAY,EACZ2G,aAAc,MAGI,EASnBgD,SAAW,WAAkB,IAAjBxd,IAAgB,2DAQvB,EAAK9C,MANRud,EAF0B,EAE1BA,OACAgD,EAH0B,EAG1BA,cACAC,EAJ0B,EAI1BA,YACA3gB,EAL0B,EAK1BA,OACAwO,EAN0B,EAM1BA,cACAC,EAP0B,EAO1BA,YAIAgP,EACG,EAAK3d,MADR2d,aAGGd,EAAQ,KAEZ,GAAIe,IAAWgD,IAAkBC,GAAe3gB,IAAWwO,IAAkBC,GAAiC,IAAlBiP,EAAOvb,OAClG,GAAqB,OAAjBsb,EACHd,EAAQ1Z,EAAOya,EAAO,GAAKA,EAAOA,EAAOvb,OAAS,OAE5C,CACN,IAAM2b,EAAoBJ,EAAOK,WAAU,SAAApB,GAAK,OAAIA,EAAM/d,KAAO6e,EAAa7e,MAC9E+d,EAAQ1Z,EAAOya,GAAQI,EAAoB,GAAKJ,EAAOvb,QAAUub,GAAQI,EAAoBJ,EAAOvb,OAAS,GAAKub,EAAOvb,QAO3H,OAHA,EAAKuB,SAAS,CACb+Z,aAAcd,IAERA,GAnCP,IAAMf,EAAUzb,EAAM3B,MAAMub,OAAO6B,QAHjB,OAIlBzb,EAAMygB,cAAchF,GACpBzb,EAAM0gB,WAAWjF,GACjBzb,EAAMoN,aANY,EANpB,qDA+CW,IAAD,SAeJrM,KAAKf,MAbRka,EAFO,EAEPA,MACAuB,EAHO,EAGPA,QACAkF,EAJO,EAIPA,aACAC,EALO,EAKPA,WACArD,EANO,EAMPA,OACAgD,EAPO,EAOPA,cACAC,EARO,EAQPA,YACA3gB,EATO,EASPA,OACAwO,EAVO,EAUPA,cACAC,EAXO,EAWPA,YAECsL,EAbM,EAYPvb,MACCub,OAbM,EAoBJ7Y,KAAKpB,MAFRgX,EAlBO,EAkBPA,WACA2G,EAnBO,EAmBPA,aAGD,GAAIqD,GAAgBlF,IAAY7B,EAAO6B,SAAW8E,GAAiBlS,EAClE,OAAO,kBAAC,EAAD,MAER,IAAK6L,GAAS0G,IAAerD,GAAUiD,IAAgB3gB,GAAUyO,EAChE,OAAO,kBAAC,IAAD,CAAUvM,GAAG,iBA1Bb,IA6BPD,EACGoY,EADHpY,MAGD,OACC,yBAAK7B,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,uDAAyBL,KAE1B,kBAACJ,EAAD,CACCC,YAAa,CACZ,CAAEG,MAAO,OAAQC,GAAI,KACrB,CAAED,MAAO,cAAeC,GAAI,gBAC5B,CAAED,YAEJ,yBAAK7B,UAAU,gBACd,6BACC,4BAAK6B,GACL,kBAAC,GAAD,CACCwb,aAAcA,EACdzd,OAAQA,EACR6f,kBAAmB,kBAAM,EAAKnc,SAAS,CAAE+Z,aAAc,QACvD+B,iBAAkB,kBAAM,EAAKiB,UAAS,IACtClB,aAAc,kBAAM,EAAKkB,UAAS,IAClCX,WAA8B,IAAlBpC,EAAOvb,UAGrB,kBAAC,GAAD,CACCub,OAAQA,EACR1d,OAAQA,EACR4b,QAASA,EACT9E,WAAYA,EACZ6G,YAAa,SAAA7G,GAAU,OAAI,EAAKpT,SAAS,CAAEoT,gBAC3C2G,aAAcA,UA5GpB,GAAqChc,aAuJ/BC,GAAc,CACnBkf,cRnI4B,SAAAhF,GAAO,OAAI,SAAC1c,EAAUwH,GAGlD,OAFAxH,EAASsG,GA/BiB,SA+BYf,EAAkBC,EAAQE,SAAUgX,IAEnEjU,IAAMvE,IAAN,UACHmB,EADG,YAjCmB,SAiCnB,YACuBqX,EADvB,KAENnV,GAAeC,IAEdmB,MAAK,SAAAC,GACL5I,EAASsG,GAtCe,SAsCcf,EAAkBC,EAAQE,SAAUkD,EAAIC,UAE9EC,OAAM,SAAAhB,GACND,GAAwBC,EAAK9H,EAAU,0BACvCA,EAASsG,GA1Ce,SA0Ccf,EAAkBC,EAAQE,SAAUoC,SQwH5E6Z,WN/EyB,SAAAjF,GAAO,OAAI,SAAC1c,EAAUwH,GAG5C,OAFAxH,EAASsG,GApFc,SAoFef,EAAkBC,EAAQK,OAEzD4C,IAAMvE,IAAN,UACAmB,EADA,mBACkBqX,EADlB,YAtFgB,SAsFhB,KAEHnV,GAAeC,IAEdmB,MAAK,SAAAC,GACF5I,EAASsG,GA3FM,SA2FuBf,EAAkBC,EAAQK,KAAM+C,EAAIC,UAE7EC,OAAM,SAAAhB,GACHD,GAAwBC,EAAK9H,EAAU,2BACvCA,EAASsG,GA/FM,SA+FuBf,EAAkBC,EAAQK,KAAMiC,SMoEjFuG,eCxJc4M,GAbO,CACrB,CACCvO,KAAM,eACNC,OAAO,EACPC,UCDa,WACd,OACC,yBAAK1L,UAAU,aACd,kBAACkC,EAAA,EAAD,KACC,+CAED,kBAACT,EAAD,CACCC,YAAa,CACZ,CAAEG,MAAO,OAAQC,GAAI,KACrB,CAAED,MAAO,kBAEX,2CACA,kBAAC,GAAD,SDTF,CACC2J,KAAM,wBACNC,OAAO,EACPC,UD+JanK,aArBS,SAAA7B,GAAK,MAAK,CACjCua,MAAOS,GAAYhb,GACnB8b,QAASb,GAAcjb,GACvBghB,aAAclG,GAAmB9a,GACjCihB,WAAYlG,GAAiB/a,GAE7B4d,OAAQ1B,GAAalc,GACrB4gB,cAAe5E,GAAoBhc,GACnC6gB,YAAa5E,GAAkBjc,GAE/BE,OAAQ2N,GAAa7N,GACrB0O,cAAehB,GAAoB1N,GACnC2O,YAAaf,GAAkB5N,MASQ4B,GAAzBC,CAAsC6e,MG1JxCQ,GAAb,kLACsB,IAAD,EAIf9f,KAAKf,MAFRiH,EAFkB,EAElBA,aACA6Z,EAHkB,EAGlBA,kBAGG7Z,GACH6Z,MARH,+BAWW,IAAD,EAMJ/f,KAAKf,MAJRmH,EAFO,EAEPA,aACAC,EAHO,EAGPA,WACAH,EAJO,EAIPA,aACAN,EALO,EAKPA,YAGD,GAAKM,IAAiBN,GAAgBQ,EACrC,OAAO,kBAAC,EAAD,MAER,IAAKR,GAAeS,EACnB,OACC,kBAAC,IAAD,KACC,kBAAC,EAAD,MACA,kBAAC,IAAD,KAEEoE,GAAkBvK,KAAI,SAAC8f,EAAOlf,GAAR,OAAc,kBAAC,IAAD,eAAOV,IAAKU,GAAOkf,OAExD,kBAAC,IAAD,CACCC,KAAK,SACLtV,OAAK,EACL3J,GAAG,sBAEJ,kBAAC,IAAD,CACCif,KAAK,IACLtV,OAAK,EACL3J,GAAG,aAOP,IAAIkf,EAAS,sBACTnV,IADS,YAEToV,IAFS,YAGTC,KAGJ,OACC,kBAAC,IAAD,KACC,kBAAC,EAAD,MACA,kBAAC,IAAD,KACC,kBAAC,IAAD,CACC1V,KAAK,IACLC,OAAK,EACLC,UAAWzJ,IAGX+e,EAAUhgB,KAAI,SAAC8f,EAAOlf,GAAR,OAAc,kBAAC,IAAD,eAAOV,IAAKU,GAAOkf,OAEhD,kBAAC,IAAD,CACCtV,KAAK,SACLC,OAAK,EACLC,UAAW9I,IAGX2I,GAAkBvK,KAAI,SAAC8f,EAAOlf,GAAR,OACrB,kBAAC,IAAD,CACCV,IAAG,eAAUU,GACbmf,KAAMD,EAAMtV,KACZC,OAAK,EACL3J,GAAG,SAIN,kBAAC,IAAD,CACC0J,KAAK,aACLC,OAAK,EACLC,UAAWnJ,IAEZ,kBAAC,IAAD,CACCwe,KAAK,IACLjf,GAAG,qBArFV,GAA+BT,aA8GzBC,GAAc,CACnBuf,kB/ChBgC,kBAAM,SAAC/hB,EAAUwH,GACjDxH,EAASqG,GAAa2B,GAAc9B,UACpC,IAAMgC,EAAeV,IAAWG,YAAYO,aAE5C,OAAOO,IAAMC,KAAN,UACHtD,EADG,iBAEN,CACCid,QAASna,IAGTS,MAAK,SAAAC,GACL5I,EAASqG,GAAa2B,GAAc7B,QAAf,YAAC,eAClByC,EAAIC,MADa,IAEpBwZ,QAASna,SAGVY,OAAM,SAAAhB,GACNhI,EAAa,oBAAbA,CAAkCE,GAClCA,EAASqG,GAAa2B,GAAc5B,QAAS0B,U+CCjCrF,gBAXS,SAAA7B,GAAK,MAAK,CACjCwH,aAAca,GAAmBrI,GACjCyH,WAAYa,GAAiBtI,GAC7BsH,aAAca,GAAmBnI,GACjCgH,YAAaoB,GAAkBpI,MAOQ4B,GAAzBC,CAAsCqf,I,kBCpHtCQ,gBAAgB,CAE9BzhB,c3DPc,WAAwC,IAA/BD,EAA8B,uDAAtBrB,EAAcwH,EAAQ,uCAClD,OAAQA,EAAOpH,MACX,IAXc,gBAYV,OAAO,2BACAiB,GADP,IAEIpB,OAAO,GAAD,mBAAMoB,EAAMpB,QAAZ,CAAoBuH,EAAOnH,YAGzC,IAhBY,cAiBR,OAAO,2BACAgB,GADP,IAEIpB,OAAQoB,EAAMpB,OAAO0C,KAAI,SAAAC,GAAK,OAAIA,EAAMzC,KAAOqH,EAAOnH,QAApB,2BAAmCuC,GAAnC,IAA0C1B,WAAW,IAAU0B,OAGzG,IArBa,eAsBT,OAAO,2BACAvB,GADP,IAEIpB,OAAQoB,EAAMpB,OAAO8H,QAAO,SAAAnF,GAAK,OAAIA,EAAMzC,KAAOqH,EAAOnH,aAGjE,QACI,OAAOgB,I2DblB+G,YhDIc,WAAoD,IAA/B/G,EAA8B,uDAAtBrB,GAAcwH,EAAQ,uCACjE,OAAQA,EAAOpH,MACd,KAAKqI,GAAc9B,QAClB,OAAO,2BACHtF,GADJ,IAECwH,cAAc,EACdC,WAAY,OAGd,KAAKL,GAAc7B,QAAnB,MAIKY,EAAOnH,QAFFgI,EAFV,EAEE2a,OACSra,EAHX,EAGEma,QAKD,OAFAla,IAAQqa,IAAI,eAAgBta,GAErB,2BACHtH,GADJ,IAECgH,YAAaA,EACbM,aAAcA,EACdE,cAAc,IAGhB,KAAKJ,GAAc5B,QAGlB,OAFA+B,IAAQsa,OAAO,gBAER,2BACH7hB,GADJ,IAECgH,YAAa,KACbM,aAAc,KACdE,cAAc,EACdC,WAAYtB,EAAOnH,UAGrB,KAAKqI,GAAe/B,QACnB,OAAO,2BACHtF,GADJ,IAEC0H,eAAe,EACfC,YAAa,OAGf,KAAKN,GAAe9B,QACnB,OAAO,2BACHvF,GADJ,IAEC0H,eAAe,IAGjB,KAAKL,GAAe7B,QACnB,OAAO,2BACHxF,GADJ,IAEC0H,eAAe,EACfC,YAAaxB,EAAOnH,UAGtB,IAnE2B,SAsE1B,OAFAuI,IAAQsa,OAAO,gBAER,2BACH7hB,GADJ,IAECgH,YAAa,KACbM,aAAc,OAGhB,QACC,OAAOtH,IgDpET2N,cnCJc,WAAsD,IAA/B3N,EAA8B,uDAAtBrB,GAAcwH,EAAQ,uCACnE,OAAQA,EAAOpH,MACd,KAAKyO,GAAelI,QACnB,OAAO,2BACHtF,GADJ,IAEC+F,SAAS,EACTxE,MAAO,OAGT,KAAKiM,GAAejI,QACnB,OAAO,2BACHvF,GADJ,IAECgG,MAAOG,EAAOnH,QACd+G,SAAS,IAGX,KAAKyH,GAAehI,QACnB,OAAO,2BACHxF,GADJ,IAEC+F,SAAS,EACTxE,MAAO4E,EAAOnH,UAGhB,QACC,OAAOgB,ImCnBTgK,iB1CLc,WAAyD,IAA/BhK,EAA8B,uDAAtBrB,GAAcwH,EAAQ,uCACtE,OAAQA,EAAOpH,MACd,KAAK+K,GAAkBxE,QACtB,OAAO,2BACHtF,GADJ,IAEC+F,SAAS,EACTxE,MAAO,OAGT,KAAKuI,GAAkBvE,QACtB,OAAO,2BACHvF,GADJ,IAECgG,MAAOG,EAAOnH,QACd+G,SAAS,IAGX,KAAK+D,GAAkBtE,QACtB,OAAO,2BACHxF,GADJ,IAEC+F,SAAS,EACTxE,MAAO4E,EAAOnH,UAGhB,QACC,OAAOgB,I0ClBT6K,kBAGAwH,qBACAQ,yBACA6E,0BpBVc,WAAkE,IAA/B1X,EAA8B,uDAAtBrB,GAAcwH,EAAQ,uCAC/E,OAAQA,EAAOpH,MACd,KAAKwY,GAAsBjS,QAC1B,OAAO,2BACHtF,GADJ,IAEC+F,SAAS,EACTxE,MAAO,OAGT,KAAKgW,GAAsBhS,QAC1B,OAAO,2BACHvF,GADJ,IAECiG,KAAME,EAAOnH,QACb+G,SAAS,IAGX,KAAKwR,GAAsB/R,QAC1B,OAAO,2BACHxF,GADJ,IAEC+F,SAAS,EACTxE,MAAO4E,EAAOnH,UAGhB,QACC,OAAOgB,IoBXT0a,iBACAqB,mBCxBK+F,GAAa,CAACC,MAWLC,GATDC,aACbC,GAJoB,GAMpBC,aACCC,KAAe,WAAf,EAAmBN,MCENO,OARf,WACI,OACI,kBAAC,IAAD,CAAUL,MAAOA,IACb,kBAAC,GAAD,Q,OCFZ1U,IAASgV,OACR,kBAAC,GAAD,MACAhW,SAASC,eAAe,a/D0HnB,kBAAmBgW,WACrBA,UAAUC,cAAcC,MACrB1a,MAAK,SAAA2a,GACJA,EAAaC,gBAEdza,OAAM,SAAA3G,GACLqhB,QAAQrhB,MAAMA,EAAM3B,a,mBgEzI5BijB,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,kC","file":"static/js/main.bb945805.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// ACTION TYPES\nconst ERROR_DISPLAY = 'ERROR_DISPLAY';\nconst ERROR_CLOSE = 'ERROR_CLOSE';\nconst ERROR_REMOVE = 'ERROR_REMOVE';\n\n// REDUCER\nconst initialState = {\n    errors: [],\n};\n\nexport default function(state = initialState, action) {\n    switch (action.type) {\n        case ERROR_DISPLAY:\n            return {\n                ...state,\n                errors: [...state.errors, action.payload],\n            }\n\n        case ERROR_CLOSE:\n            return {\n                ...state,\n                errors: state.errors.map(error => error.id === action.payload ? { ...error, isVisible: false } : error),\n            }\n        \n        case ERROR_REMOVE:\n            return {\n                ...state,\n                errors: state.errors.filter(error => error.id !== action.payload),\n            }\n\n        default:\n            return state;\n    }\n};\n\n// ACTION CREATORS\nfunction displayErrorAction(error) {\n    return {\n        type: ERROR_DISPLAY,\n        payload: error,\n    }\n}\n\nfunction closeErrorAction(id) {\n    return {\n        type: ERROR_CLOSE,\n        payload: id,\n    }\n}\n\nfunction removeErrorAction(id) {\n    return {\n        type: ERROR_REMOVE,\n        payload: id,\n    }\n}\n\n// OPERATIONS\nexport const displayError = errorMessage => dispatch => {\n    // Generate unique ID\n    const uid = Date.now().toString(36) + Math.random().toString(36).substr(2);\n\n    dispatch(displayErrorAction({\n        id: uid,\n        message: errorMessage,\n        isVisible: true,\n    }));\n\n    // Dismiss error after 3 seconds\n    setTimeout(() => dispatch(closeErrorAction(uid)), 3000);\n\n    // Delete error after 5 seconds\n    setTimeout(() => dispatch(removeErrorAction(uid)), 5000);\n};\n\nexport const closeError = id => dispatch => {\n    dispatch(closeErrorAction(id));\n\n    // Delete error after 2 seconds\n    setTimeout(() => dispatch(removeErrorAction(id)), 2000);\n};\n\n// SELECTORS\nexport const selectErrors = state => state.errorsReducer.errors;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport './index.scss';\n\nconst colors = [\n\t'dark-grey',\n\t'medium-grey',\n\t'faded-grey',\n\t'white',\n\t'blue',\n\t'red',\n\t'green',\n\t'purple',\n];\n\nconst sizes = [\n\t'sm',\n\t'md',\n]\n\nexport default function Button(props) {\n\tconst {\n\t\tclassName,\n\t\tisLink,\n\t\tisRounded,\n\t\tsize,\n\t\tcolor,\n\t\ticon,\n\t\tchildren,\n\t\t...rest\n\t} = props;\n\n\tvar classList = ['btn'];\n\n\tif (className)\n\t\tclassList.push(className);\n\t\n\t// Shape\n\tif (isRounded)\n\t\tclassList.push('btn-rounded');\n\t\n\t// Size\n\tif (sizes.includes(size) && color !== 'md')\n\t\tclassList.push(`btn-${size}`);\n\n\t// Color\n\tif (colors.includes(color) && color !== 'dark-grey')\n\t\tclassList.push(`btn-${color}`);\n\n\tconst contents = (\n\t\t<>\n\t\t\t{icon && <FontAwesomeIcon className={children ? \"mr-10\" : \"\"} icon={icon} />}\n\t\t\t{children}\n\t\t</>\n\t)\n\t\n\tif (isLink) {\n\t\treturn (\n\t\t\t<Link className={classList.join(\" \")} {...rest}>\n\t\t\t\t{contents}\n\t\t\t</Link>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<button className={classList.join(\" \")} {...rest}>\n\t\t\t\t{contents}\n\t\t\t</button>\n\t\t)\n\t}\n}\n\nButton.propTypes = {\n\tclassName: PropTypes.string,\n\tisLink: PropTypes.bool,\n\tisRounded: PropTypes.bool,\n\ticon: PropTypes.object,\n\tsize: PropTypes.oneOf(sizes),\n\tcolor: PropTypes.oneOf(colors),\n\tchildren: PropTypes.any,\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport { closeError, selectErrors } from '../../redux/ducks/errors';\nimport './index.scss';\nimport Button from '../../components/Button';\n\nexport class Errors extends Component {\n\trender() {\n\t\tconst {\n\t\t\terrors,\n\t\t\tcloseError,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"error-wrapper\">\n\t\t\t\t{\n\t\t\t\t\terrors.map(error => {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tisVisible,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t} = error;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className={`box error${isVisible ? \"\" : \" error-hide\"}`} key={id}>\n\t\t\t\t\t\t\t\t<div className=\"error-header\">\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">Error</p>\n\t\t\t\t\t\t\t\t\t<Button className=\"error-close-button\" color=\"white\" icon={faTimes} onClick={() => closeError(id)} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"m-0\">{message}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nErrors.propTypes = {\n\terrors: PropTypes.arrayOf(PropTypes.shape({\n\t\tid: PropTypes.string.isRequired,\n\t\tisVisible: PropTypes.bool.isRequired,\n\t\tmessage: PropTypes.string.isRequired,\n\t}).isRequired).isRequired,\n\tcloseError: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\terrors: selectErrors(state),\n});\n\nconst dispatchers = {\n\tcloseError,\n};\n\nexport default connect(mapStateToProps, dispatchers)(Errors);\n","import React from 'react';\nimport './index.scss';\n\nexport default function Loader() {\n    return (\n        <div className=\"loader\"></div>\n    )\n}\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nexport default function Breadcrumbs(props) {\n\tconst {\n\t\tbreadcrumbs,\n\t\t...rest\n\t} = props;\n\n\treturn (\n\t\t<p {...rest}>\n\t\t\t{\n\t\t\t\tbreadcrumbs.map((breadcrumb, i) => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\tto,\n\t\t\t\t\t\t...rest\n\t\t\t\t\t} = breadcrumb;\n\n\n\t\t\t\t\tif (i < breadcrumbs.length - 1) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Fragment key={i}>\n\t\t\t\t\t\t\t\t<Link to={to} {...rest}>{title}</Link>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faChevronRight} className=\"mx-5\" />\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn <span key={i} {...rest}>{title}</span>;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t</p>\n\t)\n}\n\nBreadcrumbs.propTypes = {\n\tbreadcrumbs: PropTypes.arrayOf(PropTypes.shape({\n\t\ttitle: PropTypes.string.isRequired,\n\t\tclassName: PropTypes.string,\n\t\tto: PropTypes.string,\n\t}).isRequired).isRequired\n}\n","import React from 'react';\nimport { faClock, faUser, faSignOutAlt, faCalendar } from '@fortawesome/free-solid-svg-icons';\nimport { Helmet } from \"react-helmet\";\n\nimport Button from '../../components/Button';\nimport Breadcrumbs from '../../components/Breadcrumbs';\n\nexport default function HomePage() {\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Productivity Tools</title>\n\t\t\t</Helmet>\n\t\t\t<Breadcrumbs\n\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t{ title: \"Home\" },\n\t\t\t\t]} />\n\t\t\t<h1>Welcome to Productivity Tools!</h1>\n\t\t\t<div className=\"mb-30 btn-group\">\n\t\t\t\t<Button isLink={true} to=\"/profile\" icon={faUser}>Profile</Button>\n\t\t\t\t<Button isLink={true} to=\"/logout\" color=\"faded-grey\" icon={faSignOutAlt}>Log Out</Button>\n\t\t\t</div>\n\t\t\t<div className=\"btn-group btn-group-vertical\">\n\t\t\t\t<Button isLink={true} to=\"/days-since\" color=\"blue\" icon={faCalendar}>Days Since</Button>\n\t\t\t\t<Button isLink={true} to=\"/time-cycles\" color=\"purple\" icon={faClock}>Time Cycles</Button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React from 'react';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { Helmet } from \"react-helmet\";\n\nimport notFound from './not-found.svg';\nimport Button from '../../components/Button';\n\nexport default function NotFoundPage() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Not Found</title>\n\t\t\t</Helmet>\n\t\t\t<div className=\"center mt-40\">\n\t\t\t\t<img src={notFound} alt=\"Creatures hiding behind trees\" />\n\t\t\t\t<div className=\"mb-20\">\n\t\t\t\t\t<h1>404 Not Found</h1>\n\t\t\t\t\t<p>Sorry, we can't seem to find the page that you're looking for.</p>\n\t\t\t\t</div>\n\t\t\t\t<Button isLink={true} to=\"/\" icon={faChevronLeft}>Return to Home</Button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\n\nexport default function RedirectToNext(props) {\n\tconst next = new URLSearchParams(props.location.search).get(\"next\");\n\treturn <Redirect to={`/${next ? next : \"\"}`} />;\n};\n\nRedirectToNext.propTypes = {\n\tlocation: PropTypes.shape({\n\t\tsearch: PropTypes.string.isRequired,\n\t}).isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\n\nexport default class LoginForm extends Component {\n\tstate = {\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\tusername,\n\t\t\tpassword,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"username\">Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nLoginForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};\n","export const ROOT_URL = 'https://rtkleong10-productivity-tools.herokuapp.com';\n// export const ROOT_URL = 'http://127.0.0.1:8000';\n\nexport const AUTH_URL = `${ROOT_URL}/auth`;\nexport const API_URL = `${ROOT_URL}/api`;\n\nexport const MODAL_TYPES = {\n\tCREATE: 'createModalVisible',\n\tEDIT: 'editModalVisible',\n\tDELETE: 'deleteModalVisible',\n}","import { displayError } from \"./errors\"\n\n// ACTIONS\nexport const STATUSES = {\n    REQUEST: 'REQUEST',\n    SUCCESS: 'SUCCESS',\n    FAILURE: 'FAILURE',\n}\n\nexport const METHODS = {\n    CREATE: 'CREATE',\n    RETRIEVE: 'RETRIEVE',\n    UPDATE: 'UPDATE',\n    DELETE: 'DELETE',\n    LIST: 'LIST',\n}\n\nexport function getActionTypes(actionName) {\n    const actionNameUpper = actionName.toUpperCase()\n\t\n    return {\n        REQUEST: `${actionNameUpper}_${STATUSES.REQUEST}`,\n\t\tSUCCESS: `${actionNameUpper}_${STATUSES.SUCCESS}`,\n\t\tFAILURE: `${actionNameUpper}_${STATUSES.FAILURE}`,\n    }\n};\n\nexport function createAction(type, payload = null) {\n\treturn {\n\t\ttype,\n\t\tpayload,\n\t}\n};\n\nexport function createApiAction(entityName, status, method, payload) {\n    return {\n        type: `${entityName.toUpperCase()}_${status}_${method}`,\n        payload: payload\n    }\n}\n\n// REDUCER\nexport function createApiReducer(entityName, id=\"id\") {\n    const initialState = {\n        loading: {\n            [METHODS.CREATE]: false,\n            [METHODS.RETRIEVE]: true,\n            [METHODS.UPDATE]: false,\n            [METHODS.DELETE]: false,\n            [METHODS.LIST]: true,\n        },\n\t\terror: {\n\t\t\t[METHODS.CREATE]: null,\n            [METHODS.RETRIEVE]: null,\n            [METHODS.UPDATE]: null,\n            [METHODS.DELETE]: null,\n            [METHODS.LIST]: null,\n\t\t},\n        items: [],\n        item: null,\n        itemId: null,\n    };\n\n    return function reducer(state = initialState, action) {\n        const actionTypePattern = /^(.+)_(.+)_(.+)$/;\n        const match = action.type.match(actionTypePattern);\n\n        if (!match)\n            return state;\n\n        const actionEntityName = match[1];\n        const actionStatus = match[2];\n        const actionMethod = match[3];\n\n        if (actionEntityName !== entityName.toUpperCase() || !Object.values(METHODS).includes(actionMethod))\n            return state;\n\n        switch (actionStatus) {\n            case STATUSES.REQUEST:\n                return {\n                    ...state,\n                    loading: {\n                        ...state.loading,\n                        [actionMethod]: true\n                    },\n                    error: {\n                        ...state.error,\n                        [actionMethod]: null\n                    },\n                    itemId: (action.payload) ? action.payload : state.itemId,\n                };\n\n            case STATUSES.SUCCESS:\n                switch (actionMethod) {\n                    case METHODS.CREATE:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false\n                            },\n                            items: [...state.items, action.payload],\n                        }\n\n                    case METHODS.RETRIEVE:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false\n                            },\n                            item: action.payload,\n                        }\n                        \n                    case METHODS.UPDATE:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false\n                            },\n                            items: state.items.map(item => (item[id] === action.payload[id]) ? { ...item, ...action.payload } : item),\n                            item: action.payload,\n                        }\n\n                    case METHODS.DELETE:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false,\n                            },\n                            error: {\n                                ...state.error,\n                                [METHODS.RETRIEVE]: state.item && state.item[id] === action.payload ? \"Deleted\" : state.error[METHODS.RETRIEVE],\n                            },\n                            items: state.items.filter(item => item[id] !== action.payload),\n                        }\n\n                    case METHODS.LIST:\n                        return {\n                            ...state,\n                            loading: {\n                                ...state.loading,\n                                [actionMethod]: false\n                            },\n                            items: action.payload,\n                        }\n\n                    default:\n                        return state;\n                }\n            \n            case STATUSES.FAILURE:\n                return {\n                    ...state,\n                    loading: {\n                        ...state.loading,\n                        [actionMethod]: false\n                    },\n                    error: {\n                        ...state.error,\n                        [actionMethod]: action.payload\n                    },\n                };\n\n            default:\n                return state;\n        }\n    }\n}\n\nexport const getTokenConfig = getState => {\n    const token = getState().authReducer.accessToken\n\n    const config = {\n        headers: {\n            Authorization: 'Bearer ' + token,\n        }\n    };\n\n    return config;\n}\n\nexport const displayErrorMsgOrUnauth = (err, dispatch, message) => {\n    if (err && err.response && err.response.status === 401)\n        displayError(\"Your session has expired. Please refresh the page.\")(dispatch);\n    else\n        displayError(message)(dispatch);\n}\n","import axios from 'axios';\nimport Cookies from 'js-cookie';\n\nimport { AUTH_URL } from '../../utils/constants';\nimport { getActionTypes, createAction } from './helpers';\nimport { displayError } from './errors';\n\n// ACTION TYPES\nexport const LOGIN_ACTIONS = getActionTypes('LOGIN');\nexport const SIGNUP_ACTIONS = getActionTypes('SIGNUP');\nexport const LOGOUT_ACTION = 'LOGOUT';\n\n// REDUCER\nconst initialState = {\n\taccessToken: null,\n\trefreshToken: Cookies.get(\"refreshToken\"),\n\tloginLoading: false,\n\tloginError: null,\n\tsignupLoading: false,\n\tsignupError: null,\n};\n\nexport default function authReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase LOGIN_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloginLoading: true,\n\t\t\t\tloginError: null,\n\t\t\t}\n\n\t\tcase LOGIN_ACTIONS.SUCCESS:\n\t\t\tconst {\n\t\t\t\taccess: accessToken,\n\t\t\t\trefresh: refreshToken,\n\t\t\t} = action.payload;\n\n\t\t\tCookies.set(\"refreshToken\", refreshToken);\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToken: accessToken,\n\t\t\t\trefreshToken: refreshToken,\n\t\t\t\tloginLoading: false,\n\t\t\t}\n\n\t\tcase LOGIN_ACTIONS.FAILURE:\n\t\t\tCookies.remove(\"refreshToken\");\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToken: null,\n\t\t\t\trefreshToken: null,\n\t\t\t\tloginLoading: false,\n\t\t\t\tloginError: action.payload,\n\t\t\t}\n\n\t\tcase SIGNUP_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsignupLoading: true,\n\t\t\t\tsignupError: null,\n\t\t\t}\n\n\t\tcase SIGNUP_ACTIONS.SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsignupLoading: false,\n\t\t\t}\n\n\t\tcase SIGNUP_ACTIONS.FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsignupLoading: false,\n\t\t\t\tsignupError: action.payload,\n\t\t\t}\n\n\t\tcase LOGOUT_ACTION:\n\t\t\tCookies.remove(\"refreshToken\");\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccessToken: null,\n\t\t\t\trefreshToken: null,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n}\n\n// OPERATIONS\nexport const authLogin = ({ username, password }) => dispatch => {\n\tdispatch(createAction(LOGIN_ACTIONS.REQUEST));\n\n\treturn axios.post(\n\t\t`${AUTH_URL}/jwt/create/`,\n\t\t{\n\t\t\tusername,\n\t\t\tpassword,\n\t\t}\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(LOGIN_ACTIONS.SUCCESS, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayError(\"Unable to log in.\")(dispatch);\n\t\t\tdispatch(createAction(LOGIN_ACTIONS.FAILURE, err));\n\t\t});\n};\n\nexport const refreshTokenLogin = () => (dispatch, getState) => {\n\tdispatch(createAction(LOGIN_ACTIONS.REQUEST));\n\tconst refreshToken = getState().authReducer.refreshToken;\n\n\treturn axios.post(\n\t\t`${AUTH_URL}/jwt/refresh/`,\n\t\t{\n\t\t\trefresh: refreshToken,\n\t\t}\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(LOGIN_ACTIONS.SUCCESS, {\n\t\t\t\t...res.data,\n\t\t\t\trefresh: refreshToken,\n\t\t\t}));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayError(\"Unable to log in.\")(dispatch);\n\t\t\tdispatch(createAction(LOGIN_ACTIONS.FAILURE, err));\n\t\t});\n};\n\nexport const signup = ({ email, username, password }) => dispatch => {\n\tdispatch(createAction(SIGNUP_ACTIONS.REQUEST));\n\n\treturn axios.post(\n\t\t`${AUTH_URL}/users/`,\n\t\t{\n\t\t\temail,\n\t\t\tusername,\n\t\t\tpassword,\n\t\t}\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(SIGNUP_ACTIONS.SUCCESS, res.data));\n\t\t\tauthLogin({ username, password })(dispatch);\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayError(\"Unable to sign up.\")(dispatch);\n\t\t\tdispatch(createAction(SIGNUP_ACTIONS.FAILURE, err));\n\t\t});\n};\n\nexport const logout = () => dispatch => {\n\tdispatch(createAction(LOGOUT_ACTION));\n};\n\n// SELECTORS\nexport const selectRefreshToken = state => state.authReducer.refreshToken;\nexport const selectAccessToken = state => state.authReducer.accessToken;\n\nexport const selectLoginLoading = state => state.authReducer.loginLoading;\nexport const selectLoginError = state => state.authReducer.loginError;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from \"react-helmet\";\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport LoginForm from '../LoginForm';\nimport { authLogin } from '../../redux/ducks/auth';\n\nexport function LoginPage(props) {\n\tconst {\n\t\tauthLogin\n\t} = props;\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Log In</title>\n\t\t\t</Helmet>\n\t\t\t<h1>Log In</h1>\n\t\t\t<div className=\"box my-20\">\n\t\t\t\t<LoginForm onSubmit={authLogin} />\n\t\t\t</div>\n\t\t\t<p>Don't have an account? <Link to=\"/signup\">Sign up here</Link></p>\n\t\t</div>\n\t);\n}\n\nLoginPage.propTypes = {\n    authLogin: PropTypes.func.isRequired,\n};\n\nconst dispatchers = {\n    authLogin,\n};\n\nexport default connect(() => ({}), dispatchers)(LoginPage);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { Helmet } from \"react-helmet\";\n\nimport Button from '../../components/Button';\nimport { logout } from '../../redux/ducks/auth';\n\nexport class LogoutPage extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.logout();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>Logged Out</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<h1>You have logged out.</h1>\n\t\t\t\t<p>We hope you come back soon!</p>\n\t\t\t\t<Button isLink={true} to=\"/\" icon={faChevronLeft}>Return to Home</Button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nLogoutPage.propTypes = {\n    logout: PropTypes.func.isRequired,\n};\n\nconst dispatchers = {\n    logout,\n};\n\nexport default connect(() => ({}), dispatchers)(LogoutPage);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\n\nexport default class SignupForm extends Component {\n\tstate = {\n\t\temail: \"\",\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\tpassword2: \"\",\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\temail,\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tpassword2,\n\t\t} = this.state;\n\n\t\tif (password === password2) {\n\t\t\tthis.props.onSubmit({\n\t\t\t\temail,\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t});\n\n\t\t} else {\n\n\t\t\talert(\"Passwords don't match\");\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\temail,\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tpassword2,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tautoComplete=\"new-password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Confirm Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"password2\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={password2}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nSignupForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from \"react-helmet\";\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport SignupForm from '../SignupForm';\nimport { signup } from '../../redux/ducks/auth';\n\nexport function SignupPage(props) {\n\tconst {\n\t\tsignup,\n\t} = props;\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Sign Up</title>\n\t\t\t</Helmet>\n\t\t\t<h1>Sign Up</h1>\n\t\t\t<div className=\"box my-20\">\n\t\t\t\t<SignupForm onSubmit={signup} />\n\t\t\t</div>\n\t\t\t<p>Already have an account? <Link to=\"/login\">Log in here</Link></p>\n\t\t</div>\n\t);\n}\n\nSignupPage.propTypes = {\n\tsignup: PropTypes.func.isRequired,\n}\n\nconst dispatchers = {\n\tsignup,\n};\n\nexport default connect(() => ({}), dispatchers)(SignupPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactSelect from 'react-select';\n\nimport './index.scss';\n\nexport default function Select(props) {\n\tconst {\n\t\toptions,\n\t\tvalue,\n\t\tonChange,\n\t\tdisabled,\n\t\trequired,\n\t\t...rest\n\t} = props;\n\n\treturn (\n\t\t<>\n\t\t\t<ReactSelect\n\t\t\t\tclassName=\"select-container\"\n\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\tplaceholder=\"Select an option\"\n\t\t\t\tcomponents={{ IndicatorSeparator: () => null }}\n\t\t\t\toptions={options}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tvalue={value ? options.find(option => option.value === value) : null}\n\t\t\t\tonChange={option => onChange(option.value)}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t\t{\n\t\t\t\t(!disabled && required) &&\n\t\t\t\t(\n\t\t\t\t\t<input\n\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tstyle={{ opacity: 0, height: 0, padding: 0, margin: 0 }}\n\t\t\t\t\t\tvalue={value ? value : \"\"}\n\t\t\t\t\t\tonChange={() => { }}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t</>\n\t);\n}\n\nSelect.propTypes = {\n\toptions: PropTypes.array.isRequired,\n\tvalue: PropTypes.any,\n\tonChange: PropTypes.func.isRequired,\n\tdisabled: PropTypes.bool,\n\trequired: PropTypes.bool,\n}\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { getActionTypes, createAction, displayErrorMsgOrUnauth } from './helpers';\n\n// ACTION TYPES\nexport const TIMEZONES_ACTIONS = getActionTypes('TIMEZONES');\n\n// REDUCER\nconst initialState = {\n\titems: [],\n\tloading: true,\n\terror: null,\n};\n\nexport default function timezonesReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase TIMEZONES_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t\terror: null,\n\t\t\t}\n\n\t\tcase TIMEZONES_ACTIONS.SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems: action.payload,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase TIMEZONES_ACTIONS.FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n}\n\n// OPERATIONS\nexport const listTimezones = () => dispatch => {\n\tdispatch(createAction(TIMEZONES_ACTIONS.REQUEST));\n\n\treturn axios.get(\n\t\t`${API_URL}/timezones/`,\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(TIMEZONES_ACTIONS.SUCCESS, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch timezones.\");\n\t\t\tdispatch(createAction(TIMEZONES_ACTIONS.FAILURE, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectTimezonesLoading = state => state.timezonesReducer.loading === true;\nexport const selectTimezonesError = state => state.timezonesReducer.error;\nexport const selectTimezones = state => state.timezonesReducer.items;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Select from '../Select';\nimport { connect } from 'react-redux';\n\nimport { listTimezones, selectTimezones, selectTimezonesLoading, selectTimezonesError } from '../../redux/ducks/timezones'; \n\nexport function TimezoneSelect(props) {\n\tconst {\n\t\ttimezones,\n\t\ttimezonesLoading,\n\t\tlistTimezones,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tlistTimezones()\n\t}, [listTimezones]);\n\t\n\tlet timezoneOptions = [];\n\t\n\tif (timezones) {\n\t\ttimezoneOptions = timezones.map(timezone => {\t\n\t\t\treturn {\n\t\t\t\tvalue: timezone,\n\t\t\t\tlabel: timezone.replace(\"_\", \" \"),\n\t\t\t};\n\t\t})\n\t}\n\n\treturn (\n\t\t<Select\n\t\t\tplaceholder=\"Select a timezone\"\n\t\t\tisLoading={timezonesLoading}\n\t\t\toptions={timezoneOptions}\n\t\t\t{...props}\n\t\t\t/>\n\t);\n}\n\nTimezoneSelect.propTypes = {\n\ttimezones: PropTypes.arrayOf(PropTypes.string).isRequired,\n\ttimezonesLoading: PropTypes.bool.isRequired,\n\ttimezonesError: PropTypes.object,\n\n\tlistTimezones: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\ttimezones: selectTimezones(state),\n\ttimezonesLoading: selectTimezonesLoading(state),\n\ttimezonesError: selectTimezonesError(state),\n});\n\nconst dispatchers = {\n\tlistTimezones,\n};\n\nexport default connect(mapStateToProps, dispatchers)(TimezoneSelect);\n","import axios from 'axios';\n\nimport { AUTH_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'profile';\n\n// REDUCER\nconst profileReducer = createApiReducer(ENTITY_NAME);\nexport default profileReducer;\n\n// OPERATIONS\nexport const retrieveProfile = () => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE));\n\n\treturn axios.get(\n\t\t`${AUTH_URL}/${ENTITY_NAME}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch profile.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n\t\t});\n\t;\n};\n\nexport const updateProfile = ({ timezone }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE));\n\n\treturn axios.patch(\n\t\t`${AUTH_URL}/${ENTITY_NAME}/`,\n\t\t{\n\t\t\ttimezone,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to update profile.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectProfileLoading = state => state.profileReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectProfileError = state => state.profileReducer.error[METHODS.RETRIEVE];\nexport const selectProfile = state => state.profileReducer.item;\n\nexport const selectProfileUpdateLoading = state => state.profileReducer.loading[METHODS.UPDATE] === true;\nexport const selectProfileUpdateError = state => state.profileReducer.error[METHODS.UPDATE];\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { faSave, faSpinner } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport TimezoneSelect from '../../components/TimezoneSelect';\nimport { selectProfileUpdateLoading } from '../../redux/ducks/profile';\n\nexport class ProfileForm extends Component {\n\tstate = {\n\t\ttimezone: null,\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tprofile: {\n\t\t\t\ttimezone,\n\t\t\t}\n\t\t} = this.props;\n\t\t\n\t\tthis.setState({\n\t\t\ttimezone,\n\t\t})\n\t}\n\n\thandleTimezoneChange = timezone => {\n\t\tthis.setState({\n\t\t\ttimezone,\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\ttimezone,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\ttimezone,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tprofileUpdateLoading,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\ttimezone,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"timezone\">Timezone</label>\n\t\t\t\t\t<TimezoneSelect\n\t\t\t\t\t\tid=\"timezone\"\n\t\t\t\t\t\tonChange={this.handleTimezoneChange}\n\t\t\t\t\t\tvalue={timezone}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tprofileUpdateLoading\n\t\t\t\t\t\t? <Button icon={faSpinner} color=\"faded-grey\" disabled={true}>Saving</Button>\n\t\t\t\t\t\t: <Button icon={faSave}>Save</Button>\n\t\t\t\t}\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nProfileForm.propTypes = {\n\tprofile: PropTypes.shape({\n\t\ttimezone: PropTypes.string.isRequired,\n\t}),\n\tonSubmit: PropTypes.func.isRequired,\n\n\tprofileUpdateLoading: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = state => ({\n\tprofileUpdateLoading: selectProfileUpdateLoading(state),\n});\n\nexport default connect(mapStateToProps, {})(ProfileForm);\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Helmet } from \"react-helmet\";\n\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Loader from '../../components/Loader';\nimport ProfileForm from '../ProfileForm';\nimport { retrieveProfile, updateProfile, selectProfile, selectProfileLoading, selectProfileError } from '../../redux/ducks/profile';\n\nexport function ProfilePage(props) {\n\tconst {\n\t\tretrieveProfile,\n\t\tupdateProfile,\n\t\tprofile,\n\t\tprofileLoading,\n\t\tprofileError,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tretrieveProfile();\n\t}, [retrieveProfile]);\n\n\tif (profileLoading)\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>Profile</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<Breadcrumbs\n\t\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t\t{ title: \"Profile\" },\n\t\t\t\t\t]} />\n\t\t\t\t<h1>Profile</h1>\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t);\n\n\tif (!profile || profileError)\n\t\treturn <Redirect to=\"/\" />;\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Profile</title>\n\t\t\t</Helmet>\n\t\t\t<Breadcrumbs\n\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t{ title: \"Profile\" },\n\t\t\t\t]} />\n\t\t\t<h1>Profile</h1>\n\t\t\t<ProfileForm\n\t\t\t\tprofile={profile}\n\t\t\t\tonSubmit={updateProfile}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nProfilePage.propTypes = {\n\tprofile: PropTypes.object,\n\tprofileLoading: PropTypes.bool.isRequired,\n\tprofileError: PropTypes.object,\n\n\tretrieveProfile: PropTypes.func.isRequired,\n\tupdateProfile: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tprofile: selectProfile(state),\n\tprofileLoading: selectProfileLoading(state),\n\tprofileError: selectProfileError(state),\n});\n\nconst dispatchers = {\n\tretrieveProfile,\n\tupdateProfile,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ProfilePage);\n","import LoginPage from './LoginPage';\nimport LogoutPage from './LogoutPage';\nimport SignupPage from './SignupPage';\nimport ProfilePage from './ProfilePage';\n\nexport const GUEST_AUTH_ROUTES = [\n\t{\n\t\tpath: \"/login\",\n\t\texact: true,\n\t\tcomponent: LoginPage,\n\t},\n\t{\n\t\tpath: \"/signup\",\n\t\texact: true,\n\t\tcomponent: SignupPage,\n\t},\n\t{\n\t\tpath: \"/logout\",\n\t\texact: true,\n\t\tcomponent: LogoutPage,\n\t},\n];\n\nexport const USER_AUTH_ROUTES = [\n\t{\n\t\tpath: \"/logout\",\n\t\texact: true,\n\t\tcomponent: LogoutPage,\n\t},\n\t{\n\t\tpath: \"/profile\",\n\t\texact: true,\n\t\tcomponent: ProfilePage,\n\t},\n];\n","import ReactDOM from 'react-dom';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport './index.scss';\nimport Button from '../Button';\n\nconst ESCAPE_KEY = 27;\nconst modalRoot = document.getElementById('modal-root');\n\nexport class Modal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdraftIsVisible: false,\n\t\t};\n\n\t\tthis.el = document.createElement('div');\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener(\"keydown\", this.handleKeyDown);\n\t\tmodalRoot.appendChild(this.el);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener(\"keydown\", this.handleKeyDown);\n\t\tmodalRoot.removeChild(this.el);\n\t}\n\n\thandleKeyDown = e => {\n\t\tswitch (e.keyCode) {\n\t\t\tcase ESCAPE_KEY:\n\t\t\t\tthis.handleClose();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\thandleClose = () => {\n\t\tconst {\n\t\t\tonVisibilityChange,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\tdraftIsVisible: false\n\t\t});\n\n\t\tif (onVisibilityChange)\n\t\t\tonVisibilityChange(false);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tchildren,\n\t\t\tisVisible,\n\t\t\tonVisibilityChange,\n\t\t\t...rest\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tdraftIsVisible,\n\t\t} = this.state;\n\n\t\tvar finalIsVisible = isVisible !== null && isVisible !== undefined ? isVisible : draftIsVisible;\n\n\t\treturn ReactDOM.createPortal(\n\t\t\t(\n\t\t\t\t<div className={`modal${finalIsVisible ? '' : ' modal-hide'}`} {...rest}>\n\t\t\t\t\t<div className=\"modal-bg\" onClick={this.handleClose}></div>\n\t\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle && (\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t\t\t<p className=\"modal-title\">{title}</p>\n\t\t\t\t\t\t\t\t\t<Button className=\"modal-close-button\" color=\"white\" icon={faTimes} onClick={this.handleClose} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t),\n\t\t\tthis.el\n\t\t);\n\t}\n}\n\nModal.propTypes = {\n\ttitle: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n\tisVisible: PropTypes.bool,\n\tonVisibilityChange: PropTypes.func,\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { getActionTypes, createAction, displayErrorMsgOrUnauth } from './helpers';\n\n// ACTION TYPES\nexport const COLORS_ACTIONS = getActionTypes('COLORS');\n\n// REDUCER\nconst initialState = {\n\titems: [],\n\tloading: true,\n\terror: null,\n};\n\nexport default function colorsReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase COLORS_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t\terror: null,\n\t\t\t}\n\n\t\tcase COLORS_ACTIONS.SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titems: action.payload,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase COLORS_ACTIONS.FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n}\n\n// OPERATIONS\nexport const listColors = () => dispatch => {\n\tdispatch(createAction(COLORS_ACTIONS.REQUEST));\n\n\treturn axios.get(\n\t\t`${API_URL}/colors/`,\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(COLORS_ACTIONS.SUCCESS, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch colours.\");\n\t\t\tdispatch(createAction(COLORS_ACTIONS.FAILURE, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectColorsLoading = state => state.colorsReducer.loading === true;\nexport const selectColorsError = state => state.colorsReducer.error;\nexport const selectColors = state => state.colorsReducer.items;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport Select from '../Select';\nimport { listColors, selectColors, selectColorsLoading, selectColorsError } from '../../redux/ducks/colors'; \n\nconst dot = color => ({\n\talignItems: 'center',\n\tdisplay: 'flex',\n\n\t':before': {\n\t\tbackgroundColor: color,\n\t\tborderRadius: 15,\n\t\tcontent: '\"\"',\n\t\tdisplay: 'block',\n\t\tmarginRight: 10,\n\t\theight: 15,\n\t\twidth: 15,\n\t},\n});\n\nconst colorStyles = {\n\toption: (styles, { data }) => ({ ...styles, ...dot(data.hex_code) }),\n\tsingleValue: (styles, { data }) => ({ ...styles, ...dot(data.hex_code) }),\n};\n\nexport function ColorSelect(props) {\n\tconst {\n\t\tcolors,\n\t\tcolorsLoading,\n\t\tcolorsError,\n\t\tlistColors,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tif (!colors || colors.length === 0)\n\t\t\tlistColors();\n\t}, [colors, colorsLoading, colorsError, listColors]);\n\t\n\tlet colorOptions = [];\n\t\n\tif (colors) {\n\t\tcolorOptions = colors.map(color => {\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\thex_code,\n\t\t\t} = color;\n\t\n\t\t\treturn {\n\t\t\t\tvalue: id,\n\t\t\t\tlabel: title,\n\t\t\t\thex_code,\n\t\t\t};\n\t\t})\n\t}\n\n\treturn (\n\t\t<Select\n\t\t\tplaceholder=\"Select a color\"\n\t\t\tisLoading={colorsLoading}\n\t\t\toptions={colorOptions}\n\t\t\tstyles={colorStyles}\n\t\t\tisSearchable={false}\n\t\t\t{...props}\n\t\t\t/>\n\t);\n}\n\nColorSelect.propTypes = {\n\tcolors: PropTypes.array.isRequired,\n\tcolorsLoading: PropTypes.bool.isRequired,\n\tcolorsError: PropTypes.object,\n\n\tlistColors: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tcolors: selectColors(state),\n\tcolorsLoading: selectColorsLoading(state),\n\tcolorsError: selectColorsError(state),\n});\n\nconst dispatchers = {\n\tlistColors,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ColorSelect);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '../../components/Button';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\nimport ColorSelect from '../../components/ColorSelect';\n\nexport default class ActivityForm extends Component {\n\tstate = {\n\t\ttitle: \"\",\n\t\tdescription: \"\",\n\t\tfrequency: \"\",\n\t\tcolor: undefined,\n\t}\n\n\treset = activity => {\n\t\tif (activity) {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tfrequency,\n\t\t\t\tcolor,\n\t\t\t} = activity;\n\n\t\t\tthis.setState({\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tfrequency: frequency === null ? \"\" : frequency,\n\t\t\t\tcolor,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttitle: \"\",\n\t\t\t\tdescription: \"\",\n\t\t\t\tfrequency: \"\",\n\t\t\t\tcolor: undefined,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleColorChange = color => {\n\t\tthis.setState({\n\t\t\tcolor: color,\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t\tcolor,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency: parseInt(frequency),\n\t\t\tcolor,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t\tcolor,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"title\">Title</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"description\">Description</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"frequency\">Frequency</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"frequency\"\n\t\t\t\t\t\tname=\"frequency\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={frequency}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"color\">Color</label>\n\t\t\t\t\t<ColorSelect\n\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\tonChange={this.handleColorChange}\n\t\t\t\t\t\tvalue={color}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nActivityForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};\n","import React, { Fragment } from 'react';\n\nexport const getTextWithBrs = text => {\n\tif (text) {\n\t\tlet lines = text.split(\"\\n\");\n\t\treturn lines.map((item, i) => (<Fragment key={i}>{item}{i + 1 < lines.length ? < br /> : \"\"}</Fragment>))\n\t\t\n\t} else {\n\t\treturn text;\n\t}\n}","import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getTextWithBrs } from '../../utils/text';\nimport './index.scss';\n\nfunction getClockDisplay(daysLeft) {\n\tif (daysLeft >= 0) {\n\t\tif (daysLeft === 1)\n\t\t\treturn \"1 day\\nleft\";\n\t\telse if (daysLeft > 99)\n\t\t\treturn \">99 days\\nleft\";\n\t\telse\n\t\t\treturn `${daysLeft} days\\nleft`;\n\n\t} else {\n\t\tif (daysLeft === -1)\n\t\t\treturn \"1 day\\nlate\";\n\t\telse if (daysLeft < -99)\n\t\t\treturn \">99 days\\nlate\";\n\t\telse\n\t\t\treturn `${Math.abs(daysLeft)} days\\nlate`;\n\t}\n}\n\nexport default function DaysSinceDisplay(props) {\n\tconst animationTime = 800;\n\n\tlet canvasRef = useRef();\n\n\tconst {\n\t\tdays_since,\n\t\tfrequency,\n\t\tcolor,\n\t} = props;\n\n\tconst daysLeft = frequency - days_since;\n\tconst clockDisplay = getClockDisplay(daysLeft);\n\tconst percentage = Math.max(days_since / frequency, 0);\n\n\tuseEffect(() => {\n\t\tconst startTime = new Date();\n\t\tlet canvas = canvasRef.current;\n\n\t\tif (canvas) {\n\t\t\tlet ctx = canvas.getContext('2d');\n\n\t\t\tconst draw = () => {\n\t\t\t\tlet width = canvas.width;\n\t\t\t\tlet height = canvas.height;\n\n\t\t\t\tvar cx = width / 2;\n\t\t\t\tvar cy = height / 2;\n\n\t\t\t\tconst timeElapsed = new Date() - startTime;\n\t\t\t\tconst multiplier = (timeElapsed < animationTime) ? (Math.pow(Math.sin(Math.PI * (timeElapsed / animationTime) / 2), 2)) : 1;\n\n\t\t\t\tctx.globalCompositeOperation = 'destination-over';\n\t\t\t\tctx.clearRect(0, 0, width, height);\n\n\t\t\t\tctx.save();\n\n\t\t\t\tctx.fillStyle = color;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(cx, cy);\n\t\t\t\tctx.arc(cx, cy, width / 2, -Math.PI / 2, -Math.PI / 2 + percentage * 2 * Math.PI * multiplier);\n\t\t\t\tctx.lineTo(cx, cy);\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.fill();\n\n\t\t\t\tctx.restore();\n\n\t\t\t\tif (timeElapsed < animationTime)\n\t\t\t\t\trequestAnimationFrame(draw);\n\t\t\t}\n\n\t\t\tdraw();\n\t\t}\n\t}, [color, percentage]);\n\n\tconst innerCircle = (\n\t\t<div className=\"inner-circle\">\n\t\t\t<p>{getTextWithBrs(clockDisplay)}</p>\n\t\t\t<p className=\"mobile-text\">{Math.abs(daysLeft) <= 99 ? `${Math.abs(daysLeft)}d` : \">99d\"}<br />{`${daysLeft >= 0 ? 'left' : 'late'}`}</p>\n\t\t</div>\n\t)\n\n\t// Not overdue\n\tif (daysLeft >= 0) {\n\t\treturn (\n\t\t\t<div className=\"days-since-display progress-circle\">\n\t\t\t\t<canvas className=\"outer-circle\" ref={canvasRef} height=\"200px\" width=\"200px\"></canvas>\n\t\t\t\t{innerCircle}\n\t\t\t</div >\n\t\t)\n\n\t// Overdue\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"days-since-display progress-circle\" style={{ backgroundColor: color }}>\n\t\t\t\t<div className=\"outer-circle outer-circle-overdue\"></div>\n\t\t\t\t{innerCircle}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nDaysSinceDisplay.propTypes = {\n\tdays_since: PropTypes.number.isRequired,\n\tfrequency: PropTypes.number.isRequired,\n\tcolor: PropTypes.string.isRequired,\n}\n","export const EVENT_TYPES = {\n\tCOMPLETED: 1,\n\tSKIPPED: 2,\n}\n\nexport const EVENT_TYPE_OPTIONS = [\n\t{\n\t\tvalue: EVENT_TYPES.COMPLETED,\n\t\tlabel: \"Completed\",\n\t},\n\t{\n\t\tvalue: EVENT_TYPES.SKIPPED,\n\t\tlabel: \"Skipped\",\n\t},\n]\n\nexport function getFrequencyDisplay(frequency) {\n\tif (frequency === 1)\n\t\treturn \"Everyday\";\n\telse if (frequency === 2)\n\t\treturn \"Every other day\";\n\telse if (frequency === 7)\n\t\treturn \"Every week\";\n\telse if (frequency === 14)\n\t\treturn \"Every other week\";\n\telse if (frequency % 7 === 0)\n\t\treturn `Every ${Math.round(frequency / 7)} weeks`;\n\telse\n\t\treturn `Every ${frequency} days`;\n}\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'activities';\n\n// REDUCER\nconst activitiesReducer = createApiReducer(ENTITY_NAME);\nexport default activitiesReducer;\n\n// OPERATIONS\nexport const createActivity = ({ title, description, frequency, color }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n\treturn axios.post(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\t{\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t\tcolor,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, {\n\t\t\t\t...res.data,\n\t\t\t\tdays_since: 0,\n\t\t\t}));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to create activity.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n\t\t});\n\t;\n};\n\nexport const retrieveActivity = activityId => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE, activityId));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/${activityId}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch activity.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n\t\t});\n\t;\n};\n\nexport const updateActivity = ({ id, title, description, frequency, color }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE, id));\n\n\treturn axios.patch(\n\t\t`${API_URL}/${ENTITY_NAME}/${id}/`,\n\t\t{\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t\tcolor,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to update activity.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n\t\t});\n};\n\nexport const deleteActivity = activityId => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.DELETE));\n\n\treturn axios.delete(\n\t\t`${API_URL}/${ENTITY_NAME}/${activityId}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(() => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.DELETE, activityId));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to delete activity.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.DELETE, err));\n\t\t});\n};\n\nexport const listActivities = () => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.LIST));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\tgetTokenConfig(getState),\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch activities.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectActivitiesLoading = state => state.activitiesReducer.loading[METHODS.LIST] === true;\nexport const selectActivitiesError = state => state.activitiesReducer.error[METHODS.LIST];\nexport const selectActivities = state => state.activitiesReducer.items;\n\nexport const selectActivityLoading = state => state.activitiesReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectActivityError = state => state.activitiesReducer.error[METHODS.RETRIEVE];\nexport const selectActivity = state => state.activitiesReducer.item;\nexport const selectActivityId = state => state.activitiesReducer.itemId;\n","import axios from 'axios';\n\nimport { ENTITY_NAME as ACTIVITIES_ENTITY_NAME } from './activities';\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'activityevents';\n\n// REDUCER\nconst activityEventsReducer = createApiReducer(ENTITY_NAME);\nexport default activityEventsReducer;\n\n// OPERATIONS\nexport const performEvent = (activityId, event_type) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n    return axios.post(\n        `${API_URL}/activities/${activityId}/events/`,\n        {\n            event_type,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, res.data));\n            dispatch(createApiAction(ACTIVITIES_ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, {\n                id: activityId,\n                days_since: 0,\n                last_event_type: event_type,\n                todays_event: event_type,\n            }));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to perform event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n        });\n    ;\n};\n\nexport const createActivityEvent = (activityId, { event_type, date, description }) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n    return axios.post(\n        `${API_URL}/activities/${activityId}/events/`,\n        {\n            event_type,\n            date,\n            description,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to create event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n        });\n    ;\n};\n\nexport const retrieveActivityEvent = (activityId, activityEventId) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE, activityEventId));\n\n    return axios.get(\n        `${API_URL}/activities/${activityId}/events/${activityEventId}/`,\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n        });\n    ;\n};\n\nexport const updateActivityEvent = (activityId, { id, event_type, date, description }) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE, id));\n\n    return axios.patch(\n        `${API_URL}/activities/${activityId}/events/${id}/`,\n        {\n            event_type,\n            date,\n            description,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to update event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n        });\n};\n\nexport const deleteActivityEvent = (activityId, activityEventId) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.DELETE));\n\n    return axios.delete(\n        `${API_URL}/activities/${activityId}/events/${activityEventId}/`,\n        getTokenConfig(getState)\n    )\n        .then(() => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.DELETE, activityEventId));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to delete event.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.DELETE, err));\n        });\n};\n\nexport const listActivityEvents = activityId => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.LIST));\n\n    return axios.get(\n        `${API_URL}/activities/${activityId}/events/`,\n        getTokenConfig(getState),\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch events.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n        });\n};\n\n// SELECTORS\nexport const selectActivityEventsLoading = state => state.activityEventsReducer.loading[METHODS.LIST] === true;\nexport const selectActivityEventsError = state => state.activityEventsReducer.error[METHODS.LIST];\nexport const selectActivityEvents = state => state.activityEventsReducer.items;\n\nexport const selectActivityEventLoading = state => state.activityEventsReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectActivityEventError = state => state.activityEventsReducer.error[METHODS.RETRIEVE];\nexport const selectActivityEvent = state => state.activityEventsReducer.item;\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faForward } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport DaysSinceDisplay from '../DaysSinceDisplay';\nimport { EVENT_TYPES, getFrequencyDisplay } from '../utils';\nimport { performEvent } from '../../redux/ducks/activityEvents';\nimport './index.scss';\n\nfunction getLastEventTypeDisplay(last_event_type) {\n\tswitch (last_event_type) {\n\t\tcase EVENT_TYPES.COMPLETED:\n\t\t\treturn \"Last completed\";\n\t\t\n\t\tcase EVENT_TYPES.SKIPPED:\n\t\t\treturn \"Last skipped\";\n\t\t\n\t\tdefault:\n\t\t\treturn \"Created\"\n\t}\n}\n\nfunction getDaysSinceDisplay(days_since) {\n\tif (days_since < 0)\n\t\treturn `${Math.abs(days_since)} days in the future`;\n\telse if (days_since === 0)\n\t\treturn \"today\";\n\telse if (days_since === 1)\n\t\treturn \"yesterday\";\n\telse if (days_since < 7)\n\t\treturn `${days_since} days ago`;\n\telse if (days_since >= 7 && days_since < 14)\n\t\treturn \"last week\";\n\telse if (Math.floor(days_since / 7) > 99)\n\t\treturn \">99 weeks ago\";\n\telse\n\t\treturn `${Math.floor(days_since / 7)} weeks ago`;\n}\n\nexport const ActivityItem = forwardRef((props, ref) => {\n\tconst {\n\t\tid,\n\t\ttitle,\n\t\tdays_since,\n\t\tfrequency,\n\t\tcolor,\n\t\tlast_event_type,\n\t\ttodays_event,\n\t\tperformEvent,\n\t} = props;\n\t\n\tvar eventDisplay = (\n\t\t<div>\n\t\t\t<Button icon={faCheck} className=\"mr-10\" onClick={() => performEvent(id, EVENT_TYPES.COMPLETED)} aria-label=\"Complete\" />\n\t\t\t<Button color=\"white\" icon={faForward} onClick={() => performEvent(id, EVENT_TYPES.SKIPPED)} aria-label=\"Skip\" />\n\t\t</div>\n\t);\n\n\tif (todays_event) {\n\t\tswitch (todays_event) {\n\t\t\tcase EVENT_TYPES.COMPLETED:\n\t\t\t\teventDisplay = <p className=\"todays-event\"><FontAwesomeIcon className=\"mr-10\" icon={faCheck} />Completed</p>\n\t\t\t\tbreak;\n\n\t\t\tcase EVENT_TYPES.SKIPPED:\n\t\t\t\teventDisplay = <p className=\"todays-event\"><FontAwesomeIcon className=\"mr-10\" icon={faForward} />Skipped</p>;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (frequency) {\n\t\treturn (\n\t\t\t<div className=\"item activity-item\" ref={ref}>\n\t\t\t\t<DaysSinceDisplay days_since={days_since} frequency={frequency} color={color} />\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mb-10\">\n\t\t\t\t\t\t<h4 className=\"mb-0\">\n\t\t\t\t\t\t\t<Link to={`/days-since/${id}`}>{title}</Link>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p>{getFrequencyDisplay(frequency)}  {getLastEventTypeDisplay(last_event_type)} {getDaysSinceDisplay(days_since)}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{eventDisplay}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"item activity-item\" ref={ref}>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"mb-10\">\n\t\t\t\t\t\t<h4 className=\"mb-0\">\n\t\t\t\t\t\t\t<Link to={`/days-since/${id}`}>{title}</Link>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p>{getLastEventTypeDisplay(last_event_type)} {getDaysSinceDisplay(days_since)}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{eventDisplay}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nActivityItem.propTypes = {\n\tid: PropTypes.string.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\tdays_since: PropTypes.number.isRequired,\n\tfrequency: PropTypes.number,\n\tcolor: PropTypes.string.isRequired,\n\tlast_event_type: PropTypes.number,\n\ttodays_event: PropTypes.number,\n\n\tperformEvent: PropTypes.func.isRequired,\t\t\n}\n\nconst dispatchers = {\n\tperformEvent,\n};\n\nexport default connect(() => ({}), dispatchers, null, { forwardRef: true })(ActivityItem);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FlipMove from 'react-flip-move';\n\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport Loader from '../../components/Loader';\nimport ActivityForm from '../ActivityForm';\nimport ActivityItem from '../ActivityItem';\nimport { listActivities, createActivity, selectActivities, selectActivitiesLoading, selectActivitiesError } from '../../redux/ducks/activities';\nimport { listColors, selectColors, selectColorsLoading, selectColorsError } from '../../redux/ducks/colors';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport empty from './empty.svg';\n\nexport class ActivityList extends Component {\n\tstate = {\n\t\t[MODAL_TYPES.CREATE]: false,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tprops.listActivities();\n\t\tprops.listColors();\n\t}\n\n\thandleVisibilityChange = isVisible => {\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: isVisible,\n\t\t});\n\t}\n\n\topenCreateModal = () => {\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: true,\n\t\t});\n\n\t\tthis.activityFormRef.reset();\n\t}\n\n\thandleCreateActivity = activity => {\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: false,\n\t\t});\n\n\t\tthis.props.createActivity(activity);\n\t}\n\n\tmapActivitiesToActivityItems = activities => {\n\t\treturn activities.map(activity => {\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\tfrequency,\n\t\t\t\tdays_since,\n\t\t\t\tcolor: colorId,\n\t\t\t\tlast_event_type,\n\t\t\t\ttodays_event,\n\t\t\t} = activity;\n\n\t\t\treturn (\n\t\t\t\t<ActivityItem\n\t\t\t\t\tactivity={activity}\n\t\t\t\t\tkey={id}\n\t\t\t\t\tid={id}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tfrequency={frequency}\n\t\t\t\t\tdays_since={days_since}\n\t\t\t\t\tcolor={this.props.colors.find(color => color.id === colorId).hex_code}\n\t\t\t\t\tlast_event_type={last_event_type}\n\t\t\t\t\ttodays_event={todays_event}\n\t\t\t\t/>\n\t\t\t)\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactivities,\n\t\t\tactivitiesLoading,\n\t\t\tactivitiesError,\n\t\t\tcolors,\n\t\t\tcolorsLoading,\n\t\t\tcolorsError,\n\t\t} = this.props;\n\n\t\tif (activitiesLoading || colorsLoading)\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Activities</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tif (!activities || activitiesError || !colors || colorsError)\n\t\t\treturn <Redirect to=\"/\" />;\n\n\t\tvar activitiesSplitByFrequency = activities.reduce(\n\t\t\t(acc, activity) => {\n\t\t\t\tacc[activity.frequency !== null && activity.frequency !== undefined].push(activity);\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{\n\t\t\t\ttrue: [],\n\t\t\t\tfalse: []\n\t\t\t}\n\t\t)\n\n\t\tactivitiesSplitByFrequency.true.sort((a, b) => (a.frequency - a.days_since) - (b.frequency - b.days_since));\n\t\tactivitiesSplitByFrequency.false.sort((a, b) => a.days_since - b.days_since);\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Activities</h2>\n\t\t\t\t<div className=\"mb-20\">\n\t\t\t\t\t<Button icon={faPlus} color=\"blue\" onClick={this.openCreateModal}>Create Activity</Button>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tactivitiesSplitByFrequency.true.length !== 0 &&\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>With Frequency</h3>\n\t\t\t\t\t\t<FlipMove className=\"item-list\">\n\t\t\t\t\t\t\t{this.mapActivitiesToActivityItems(activitiesSplitByFrequency.true)}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tactivitiesSplitByFrequency.false.length !== 0 &&\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>Without Frequency</h3>\n\t\t\t\t\t\t<FlipMove className=\"item-list\">\n\t\t\t\t\t\t\t{this.mapActivitiesToActivityItems(activitiesSplitByFrequency.false)}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tactivities.length === 0 &&\n\t\t\t\t\t<div className=\"grid mt-40\">\n\t\t\t\t\t\t<div className=\"center-wide\">\n\t\t\t\t\t\t\t<img className=\"mb-20\" src={empty} alt=\"Empty street\" />\n\t\t\t\t\t\t\t<h3>No Activities</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Modal title=\"Create Activity\" isVisible={this.state[MODAL_TYPES.CREATE]} onVisibilityChange={this.handleVisibilityChange}>\n\t\t\t\t\t<ActivityForm onSubmit={this.handleCreateActivity} ref={activityForm => this.activityFormRef = activityForm} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nActivityList.propTypes = {\n\tactivities: PropTypes.array.isRequired,\n\tactivitiesLoading: PropTypes.bool.isRequired,\n\tactivitiesError: PropTypes.object,\n\n\tcolors: PropTypes.array.isRequired,\n\tcolorsLoading: PropTypes.bool.isRequired,\n\tcolorsError: PropTypes.object,\n\n\tcreateActivity: PropTypes.func.isRequired,\n\tlistActivities: PropTypes.func.isRequired,\n\tlistColors: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tactivities: selectActivities(state),\n\tactivitiesLoading: selectActivitiesLoading(state),\n\tactivitiesError: selectActivitiesError(state),\n\n\tcolors: selectColors(state),\n\tcolorsLoading: selectColorsLoading(state),\n\tcolorsError: selectColorsError(state),\n});\n\nconst dispatchers = {\n\tcreateActivity,\n\tlistActivities,\n\tlistColors,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ActivityList);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport moment from 'moment';\nimport 'react-day-picker/lib/style.css';\n\nimport './index.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCalendar } from '@fortawesome/free-solid-svg-icons';\n\nexport default function DatePicker(props) {\n\tconst format = \"D MMMM YYYY\"\n\n\tfunction parseDate(str, format) {\n\t\treturn moment(str, format).toDate();\n\t}\n\n\tfunction formatDate(date, format) {\n\t\treturn moment(date).format(format);\n\t}\n\n\tconst {\n\t\tonChange,\n\t\tplaceholder,\n\t\trequired,\n\t\t...rest\n\t} = props;\n\n\treturn (\n\t\t<div className=\"date-picker\">\n\t\t\t<DayPickerInput\n\t\t\t\tformatDate={formatDate}\n\t\t\t\tparseDate={parseDate}\n\t\t\t\tformat={format}\n\t\t\t\tplaceholder={placeholder ? placeholder : \"\"}\n\t\t\t\tonDayChange={onChange}\n\t\t\t\tinputProps={{\n\t\t\t\t\trequired,\n\t\t\t\t\tonKeyDown: e => { e.preventDefault() },\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t\t<FontAwesomeIcon icon={faCalendar} className=\"calendar-icon\" />\n\t\t</div>\n\t)\n}\n\nDatePicker.propTypes = {\n\tonChange: PropTypes.func.isRequired,\n\tplaceholder: PropTypes.string,\n\trequired: PropTypes.bool,\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport Button from '../../components/Button';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\nimport Select from '../../components/Select';\nimport { EVENT_TYPE_OPTIONS, EVENT_TYPES } from '../utils';\nimport DatePicker from '../../components/DatePicker';\n\nexport default class EventForm extends Component {\n\tstate = {\n\t\tevent_type: \"\",\n\t\tdate: \"\",\n\t\tdescription: \"\",\n\t}\n\n\treset = event => {\n\t\tif (event) {\n\t\t\tconst {\n\t\t\t\tevent_type,\n\t\t\t\tdate,\n\t\t\t\tdescription,\n\t\t\t} = event;\n\n\t\t\tthis.setState({\n\t\t\t\tevent_type,\n\t\t\t\tdate: moment(date, \"YYYY-MM-DD\").toDate(),\n\t\t\t\tdescription,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tevent_type: EVENT_TYPES.COMPLETED,\n\t\t\t\tdate: null,\n\t\t\t\tdescription: \"\",\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleEventTypeChange = event_type => {\n\t\tthis.setState({\n\t\t\tevent_type,\n\t\t});\n\t}\n\n\thandleDateChange = date => {\n\t\tthis.setState({\n\t\t\tdate,\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\tevent_type,\n\t\t\tdate,\n\t\t\tdescription,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\tevent_type,\n\t\t\tdate: moment(date).format(\"YYYY-MM-DD\"),\n\t\t\tdescription,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tdisabledDates,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tevent_type,\n\t\t\tdate,\n\t\t\tdescription,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"event_type\">Event Type</label>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tid=\"event_type\"\n\t\t\t\t\t\tonChange={this.handleEventTypeChange}\n\t\t\t\t\t\tvalue={event_type}\n\t\t\t\t\t\toptions={EVENT_TYPE_OPTIONS}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"date\">Date</label>\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tvalue={date}\n\t\t\t\t\t\tonChange={this.handleDateChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tdayPickerProps={{\n\t\t\t\t\t\t\tdisabledDays: disabledDates,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"description\">Description</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nEventForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n\tdisabledDates: PropTypes.array.isRequired,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../Button';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\nexport default function DeleteForm(props) {\n    const {\n        onSubmit\n    } = props;\n\n    return (\n\t\t<div className=\"btn-group btn-group\">\n\t\t\t<Button icon={faTrash} color=\"red\" onClick={() => onSubmit(true)}>Confirm</Button>\n\t\t\t<Button color=\"faded-grey\" onClick={() => onSubmit(false)}>Cancel</Button>\n        </div>\n    )\n}\n\nDeleteForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './index.scss';\n\nexport default function FadeTransition(props) {\n\treturn (\n\t\t<CSSTransition\n\t\t\tclassNames=\"fade-transition\"\n\t\t\ttimeout={300}\n\t\t\tunmountOnExit\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faCheck, faForward, faQuestion, faEdit } from '@fortawesome/free-solid-svg-icons';\nimport moment from 'moment';\n\nimport Button from '../../components/Button';\nimport { EVENT_TYPES } from '../utils';\nimport { getTextWithBrs } from '../../utils/text';\nimport './index.scss';\nimport FadeTransition from '../../components/FadeTransition';\n\nexport const EventItem = forwardRef((props, ref) => {\n\tconst {\n\t\tevent: {\n\t\t\tevent_type,\n\t\t\tdate,\n\t\t\tdescription,\n\t\t},\n\t\tevent,\n\t\tisEditable,\n\t\topenEditModal,\n\t\topenDeleteModal,\n\t} = props;\n\n\tconst dateStr = moment(date).format('D MMMM YYYY');;\n\n\tvar eventDisplay = \"\";\n\n\tswitch (event_type) {\n\t\tcase EVENT_TYPES.COMPLETED:\n\t\t\teventDisplay = <><FontAwesomeIcon className=\"mr-10\" icon={faCheck} />Completed</>\n\t\t\tbreak;\n\n\t\tcase EVENT_TYPES.SKIPPED:\n\t\t\teventDisplay = <><FontAwesomeIcon className=\"mr-10\" icon={faForward} />Skipped</>;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\teventDisplay = <><FontAwesomeIcon className=\"mr-10\" icon={faQuestion} />Unknown event</>;\n\t\t\tbreak;\n\t}\n\n\treturn (\n\t\t<div className=\"event-item\" ref={ref}>\n\t\t\t<div className=\"mb-n10\">\n\t\t\t\t<p>{eventDisplay} on {dateStr}</p>\n\t\t\t\t<p className=\"small\">{getTextWithBrs(description)}</p>\n\t\t\t</div>\n\t\t\t<FadeTransition in={isEditable}>\n\t\t\t\t<div className=\"btn-group mt-20\">\n\t\t\t\t\t<Button icon={faEdit} color=\"green\" size=\"sm\" onClick={() => openEditModal(event)} aria-label=\"Edit\" />\n\t\t\t\t\t<Button icon={faTrash} color=\"red\" size=\"sm\" onClick={() => openDeleteModal(event)} aria-label=\"Delete\" />\n\t\t\t\t</div>\n\t\t\t</FadeTransition>\n\t\t</div>\n\t)\n})\n\nEventItem.propTypes = {\n\tevent: PropTypes.shape({\n\t\tevent_type: PropTypes.oneOf(Object.values(EVENT_TYPES)),\n\t\tdate: PropTypes.string.isRequired,\n\t\tdescription: PropTypes.string.isRequired,\n\t}).isRequired,\n\tisEditable: PropTypes.bool.isRequired,\n\topenEditModal: PropTypes.func.isRequired,\n\topenDeleteModal: PropTypes.func.isRequired,\n}\n\nexport default EventItem;\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { getActionTypes, createAction, displayErrorMsgOrUnauth, getTokenConfig } from './helpers';\n\n// ACTION TYPES\nexport const ACTIVITYSTATS_ACTIONS = getActionTypes('ACTIVITYSTATS');\n\n// REDUCER\nconst initialState = {\n\titem: null,\n\tloading: true,\n\terror: null,\n};\n\n// OPERATIONS\nexport default function activityStatisticsReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase ACTIVITYSTATS_ACTIONS.REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t\terror: null,\n\t\t\t}\n\n\t\tcase ACTIVITYSTATS_ACTIONS.SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titem: action.payload,\n\t\t\t\tloading: false,\n\t\t\t}\n\n\t\tcase ACTIVITYSTATS_ACTIONS.FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n}\n\nexport const retrieveActivityStatistics = activityId => (dispatch, getState) => {\n\tdispatch(createAction(ACTIVITYSTATS_ACTIONS.REQUEST));\n\n\treturn axios.get(\n\t\t`${API_URL}/activities/${activityId}/statistics/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createAction(ACTIVITYSTATS_ACTIONS.SUCCESS, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch activity statistics.\");\n\t\t\tdispatch(createAction(ACTIVITYSTATS_ACTIONS.FAILURE, err));\n\t\t});\n\t;\n};\n\n// SELECTORS\nexport const selectActivityStatisticsLoading = state => state.activityStatisticsReducer.loading === true;\nexport const selectActivityStatisticsError = state => state.activityStatisticsReducer.error;\nexport const selectActivityStatistics = state => state.activityStatisticsReducer.item;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport moment from 'moment';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FlipMove from 'react-flip-move';\n\nimport Button from '../../components/Button';\nimport Loader from '../../components/Loader';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport { createActivityEvent, updateActivityEvent, deleteActivityEvent, listActivityEvents, selectActivityEvents, selectActivityEventsLoading, selectActivityEventsError } from '../../redux/ducks/activityEvents';\nimport EventForm from '../EventForm';\nimport DeleteForm from '../../components/DeleteForm';\nimport Modal from '../../components/Modal';\nimport empty from './empty.svg';\nimport EventItem from '../EventItem';\nimport { retrieveActivityStatistics } from '../../redux/ducks/activityStatistics';\n\nexport class EventList extends Component {\n\tstate = {\n\t\tmodalEvent: null,\n\t\t[MODAL_TYPES.CREATE]: false,\n\t\t[MODAL_TYPES.EDIT]: false,\n\t\t[MODAL_TYPES.DELETE]: false,\n\t\tisEditable: false,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst activityId = props.activityId;\n\t\tprops.listActivityEvents(activityId);\n\t}\n\n\thandleVisibilityChange = (modal, isVisible) => {\n\t\tthis.setState({\n\t\t\t[modal]: isVisible,\n\t\t});\n\t}\n\n\topenModal = (modal, modalEvent) => {\n\t\tthis.setState({\n\t\t\t[modal]: true,\n\t\t\tmodalEvent,\n\t\t});\n\n\t\tif (modal === MODAL_TYPES.CREATE)\n\t\t\tthis.createFormRef.reset();\n\t\telse if (modal === MODAL_TYPES.EDIT)\n\t\t\tthis.editFormRef.reset(modalEvent);\n\t}\n\n\thandleCreateEvent = event => {\n\t\tconst {\n\t\t\tactivityId,\n\t\t\tcreateActivityEvent,\n\t\t\tretrieveActivityStatistics,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: false,\n\t\t});\n\n\t\tcreateActivityEvent(activityId, event)\n\t\t\t.then(() => retrieveActivityStatistics(activityId));\n\t}\n\n\thandleEditEvent = event => {\n\t\tconst {\n\t\t\tactivityId,\n\t\t\tupdateActivityEvent,\n\t\t\tretrieveActivityStatistics,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.EDIT]: false,\n\t\t});\n\n\t\tupdateActivityEvent(activityId, { ...this.state.modalEvent, ...event })\n\t\t\t.then(() => retrieveActivityStatistics(activityId));\n\t}\n\n\thandleDeleteEvent = isConfirm => {\n\t\tconst {\n\t\t\tactivityId,\n\t\t\tdeleteActivityEvent,\n\t\t\tretrieveActivityStatistics,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.DELETE]: false,\n\t\t});\n\n\t\tif (isConfirm) {\n\t\t\tdeleteActivityEvent(activityId, this.state.modalEvent.id)\n\t\t\t\t.then(() => retrieveActivityStatistics(activityId));\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactivityEvents,\n\t\t\tactivityEventsLoading,\n\t\t\tactivityEventsError,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tmodalEvent\n\t\t} = this.state;\n\n\t\tconst {\n\t\t\tisEditable\n\t\t} = this.state;\n\n\t\tif (activityEventsLoading)\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Events</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tif (!activityEvents || activityEventsError)\n\t\t\treturn <Redirect to=\"/days-since\" />;\n\n\t\tactivityEvents.sort((a, b) => moment(a.date, \"YYYY-MM-DD\").toDate() - moment(b.date, \"YYYY-MM-DD\").toDate()).reverse();\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Events</h2>\n\t\t\t\t<div className=\"btn-group mb-20\">\n\t\t\t\t\t<Button icon={faPlus} color=\"blue\" onClick={() => this.openModal(MODAL_TYPES.CREATE)}>Create Event</Button>\n\t\t\t\t\t{\n\t\t\t\t\t\tisEditable\n\t\t\t\t\t\t\t? <Button className=\"ml-auto mr-0\" color=\"faded-grey\" onClick={() => this.setState({ isEditable: false })}>Done</Button>\n\t\t\t\t\t\t\t: <Button className=\"ml-auto mr-0\" color=\"green\" onClick={() => this.setState({ isEditable: true })}>Edit</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tactivityEvents.length !== 0\n\t\t\t\t\t\t? <FlipMove className=\"box\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tactivityEvents.map(event => (\n\t\t\t\t\t\t\t\t\t<EventItem\n\t\t\t\t\t\t\t\t\t\tkey={event.id}\n\t\t\t\t\t\t\t\t\t\tevent={event}\n\t\t\t\t\t\t\t\t\t\tisEditable={isEditable}\n\t\t\t\t\t\t\t\t\t\topenEditModal={event => this.openModal(MODAL_TYPES.EDIT, event)}\n\t\t\t\t\t\t\t\t\t\topenDeleteModal={event => this.openModal(MODAL_TYPES.DELETE, event)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t\t: <div className=\"center mt-40\">\n\t\t\t\t\t\t\t<img className=\"mb-20\" src={empty} alt=\"Trees under the sun\" />\n\t\t\t\t\t\t\t<h3>No Events</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Create Event\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.CREATE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.CREATE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<EventForm onSubmit={this.handleCreateEvent} ref={createForm => this.createFormRef = createForm} disabledDates={activityEvents.map(event => moment(event.date, \"YYYY-MM-DD\").toDate())} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Edit Event\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.EDIT]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.EDIT, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<EventForm onSubmit={this.handleEditEvent} ref={editForm => this.editFormRef = editForm} disabledDates={activityEvents.filter(event => !modalEvent || event.id !== modalEvent.id).map(event => moment(event.date, \"YYYY-MM-DD\").toDate())} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Delete Event\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.DELETE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.DELETE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteForm onSubmit={this.handleDeleteEvent} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nEventList.propTypes = {\n\tactivityId: PropTypes.string.isRequired,\n\n\tactivityEvents: PropTypes.array.isRequired,\n\tactivityEventsLoading: PropTypes.bool.isRequired,\n\tactivityEventsError: PropTypes.object,\n\n\tcreateActivityEvent: PropTypes.func.isRequired,\n\tupdateActivityEvent: PropTypes.func.isRequired,\n\tdeleteActivityEvent: PropTypes.func.isRequired,\n\tlistActivityEvents: PropTypes.func.isRequired,\n\tretrieveActivityStatistics: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tactivityEvents: selectActivityEvents(state),\n\tactivityEventsLoading: selectActivityEventsLoading(state),\n\tactivityEventsError: selectActivityEventsError(state),\n});\n\nconst dispatchers = {\n\tcreateActivityEvent,\n\tupdateActivityEvent,\n\tdeleteActivityEvent,\n\tlistActivityEvents,\n\tretrieveActivityStatistics,\n};\n\nexport default connect(mapStateToProps, dispatchers)(EventList);\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport Loader from \"../../components/Loader\";\nimport { retrieveActivityStatistics, selectActivityStatistics, selectActivityStatisticsError, selectActivityStatisticsLoading } from '../../redux/ducks/activityStatistics';\n\nexport function ActivityStatistics(props) {\n\tconst {\n\t\tclassName,\n\t\tactivityId,\n\t\tactivityStatistics,\n\t\tactivityStatisticsLoading,\n\t\tactivityStatisticsError,\n\t\tretrieveActivityStatistics,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tretrieveActivityStatistics(activityId)\n\t}, [retrieveActivityStatistics, activityId]);\n\n\tif (activityStatisticsLoading || !activityStatistics || activityStatisticsError)\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Statistics</h2>\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t);\n\n\tconst {\n\t\taverage_frequency,\n\t\ttotal_count,\n\t\tcompleted_count,\n\t\tskipped_count,\n\t} = activityStatistics;\n\n\treturn (\n\t\t<div className={className}>\n\t\t\t<h2>Statistics</h2>\n\t\t\t{\n\t\t\t\taverage_frequency &&\n\t\t\t\t<p>Average frequency (over last 10 events): Every {average_frequency.toFixed(1)} days</p>\n\t\t\t}\n\t\t\t<p>\n\t\t\t\tTotal: {total_count} times<br />\n\t\t\t\tCompleted: {completed_count} times<br />\n\t\t\t\tSkipped: {skipped_count} times\n\t\t\t</p>\n\t\t</div>\n\t)\n};\n\nActivityStatistics.propTypes = {\n\tclassName: PropTypes.string,\n\tactivityId: PropTypes.string.isRequired,\n\n\tactivityStatistics: PropTypes.shape({\n\t\taverage_frequency: PropTypes.number,\n\t\ttotal_count: PropTypes.number.isRequired,\n\t\tcompleted_count: PropTypes.number.isRequired,\n\t\tskipped_count: PropTypes.number.isRequired,\n\t}),\n\tactivityStatisticsLoading: PropTypes.bool.isRequired,\n\tactivityStatisticsError: PropTypes.object,\n\n\tretrieveActivityStatistics: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tactivityStatistics: selectActivityStatistics(state),\n\tactivityStatisticsLoading: selectActivityStatisticsLoading(state),\n\tactivityStatisticsError: selectActivityStatisticsError(state),\n});\n\nconst dispatchers = {\n\tretrieveActivityStatistics,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ActivityStatistics);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { Helmet } from \"react-helmet\";\n\nimport Button from '../../components/Button';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Loader from '../../components/Loader';\nimport Modal from '../../components/Modal';\nimport ActivityForm from '../ActivityForm';\nimport { getFrequencyDisplay } from '../utils';\nimport { retrieveActivity, updateActivity, deleteActivity, selectActivity, selectActivityLoading, selectActivityError, selectActivityId } from '../../redux/ducks/activities';\nimport EventList from '../EventList';\nimport DeleteForm from '../../components/DeleteForm';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport { getTextWithBrs } from '../../utils/text';\nimport ActivityStatistics from '../ActivityStatistics';\n\nexport class ActivityDetailPage extends Component {\n\tstate = {\n\t\t[MODAL_TYPES.EDIT]: false,\n\t\t[MODAL_TYPES.DELETE]: false,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst activityId = props.match.params.activityId;\n\t\tprops.retrieveActivity(activityId);\n\t}\n\n\thandleVisibilityChange = (modal, isVisible) => {\n\t\tthis.setState({\n\t\t\t[modal]: isVisible,\n\t\t});\n\t}\n\n\topenModal = modal => {\n\t\tthis.setState({\n\t\t\t[modal]: true,\n\t\t});\n\n\t\tif (modal === MODAL_TYPES.EDIT)\n\t\t\tthis.activityFormRef.reset(this.props.activity);\n\t}\n\n\thandleEditActivity = activity => {\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.EDIT]: false,\n\t\t});\n\n\t\tthis.props.updateActivity({ ...this.props.activity, ...activity });\n\t}\n\n\thandleDeleteActivity = isConfirm => {\n\t\tconst {\n\t\t\tactivity,\n\t\t\tdeleteActivity,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.DELETE]: false,\n\t\t});\n\n\t\tif (isConfirm)\n\t\t\tdeleteActivity(activity.id);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactivity,\n\t\t\tactivityId,\n\t\t\tactivityLoading,\n\t\t\tactivityError,\n\t\t\tmatch: {\n\t\t\t\tparams\n\t\t\t}\n\t\t} = this.props;\n\n\t\tif (activityLoading || activityId !== params.activityId)\n\t\t\treturn <Loader />;\n\n\t\tif (!activity || activityError)\n\t\t\treturn <Redirect to=\"/days-since\" />;\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tfrequency,\n\t\t} = activity;\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>{`Days Since | ${title}`}</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<Breadcrumbs\n\t\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t\t{ title: \"Days Since\", to: \"/days-since\" },\n\t\t\t\t\t\t{ title },\n\t\t\t\t\t]} />\n\t\t\t\t<div className=\"side-by-side\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"mb-30\">\n\t\t\t\t\t\t\t<div className=\"mb-20\">\n\t\t\t\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t\t\t\t\t{description && <p>{getTextWithBrs(description)}</p>}\n\t\t\t\t\t\t\t\t{frequency && <p>Frequency: {getFrequencyDisplay(frequency)}</p>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t\t<Button icon={faEdit} color=\"green\" onClick={() => this.openModal(MODAL_TYPES.EDIT)}>Edit</Button>\n\t\t\t\t\t\t\t\t<Button icon={faTrash} color=\"red\" onClick={() => this.openModal(MODAL_TYPES.DELETE)}>Delete</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ActivityStatistics activityId={activityId} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<EventList\n\t\t\t\t\t\tactivityId={activityId}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Edit Activity\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.EDIT]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.EDIT, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<ActivityForm onSubmit={this.handleEditActivity} ref={activityForm => this.activityFormRef = activityForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Delete Activity\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.DELETE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.DELETE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteForm onSubmit={this.handleDeleteActivity} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nActivityDetailPage.propTypes = {\n\tmatch: PropTypes.shape({\n\t\tparams: PropTypes.shape({\n\t\t\tactivityId: PropTypes.string.isRequired,\n\t\t}).isRequired,\n\t}).isRequired,\n\t\n\tactivity: PropTypes.shape({\n\t\ttitle: PropTypes.string.isRequired,\n\t\tdescription: PropTypes.string.isRequired,\n\t\tfrequency: PropTypes.number,\n\t}),\n\tactivityId: PropTypes.string,\n\tactivityLoading: PropTypes.bool.isRequired,\n\tactivityError: PropTypes.object,\n\t\n\tretrieveActivity: PropTypes.func.isRequired,\n\tupdateActivity: PropTypes.func.isRequired,\n\tdeleteActivity: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tactivity: selectActivity(state),\n\tactivityId: selectActivityId(state),\n\tactivityLoading: selectActivityLoading(state),\n\tactivityError: selectActivityError(state),\n});\n\nconst dispatchers = {\n\tretrieveActivity,\n\tupdateActivity,\n\tdeleteActivity,\n};\n\nexport default connect(mapStateToProps, dispatchers)(ActivityDetailPage);\n","import ActivityListPage from './ActivityListPage';\nimport ActivityDetailPage from './ActivityDetailPage';\n\nexport const ROUTES = [\n\t{\n\t\tpath: \"/days-since\",\n\t\texact: true,\n\t\tcomponent: ActivityListPage,\n\t},\n\t{\n\t\tpath: \"/days-since/:activityId\",\n\t\texact: true,\n\t\tcomponent: ActivityDetailPage,\n\t}\n]\n\nexport default ROUTES;\n","import React from 'react';\nimport { Helmet } from \"react-helmet\";\n\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport ActivityList from '../ActivityList';\n\nexport default function ActivityListPage() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Days Since</title>\n\t\t\t</Helmet>\n\t\t\t<Breadcrumbs\n\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t{ title: \"Days Since\" },\n\t\t\t\t]} />\n\t\t\t<h1>Days Since</h1>\n\t\t\t<ActivityList />\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '../../components/Button';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nexport default class CycleForm extends Component {\n\tstate = {\n\t\ttitle: \"\",\n\t}\n\n\treset = cycle => {\n\t\tif (cycle) {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t} = cycle;\n\n\t\t\tthis.setState({\n\t\t\t\ttitle,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttitle: \"\",\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\ttitle,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\ttitle,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"title\">Title</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nCycleForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { faEdit, faTrash } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\n\nexport const CycleItem = forwardRef((props, ref) => {\n\tconst {\n\t\tcycle: {\n\t\t\tid,\n\t\t\ttitle,\n\t\t\ttotal_duration,\n\t\t},\n\t\tcycle,\n\t\topenEditModal,\n\t\topenDeleteModal,\n\t} = props;\n\n\treturn (\n\t\t<div className=\"item\" ref={ref}>\n\t\t\t<div className=\"mb-10\">\n\t\t\t\t<h3 className=\"mb-0\">\n\t\t\t\t\t<Link to={`/time-cycles/${id}`}>{title}</Link>\n\t\t\t\t</h3>\n\t\t\t\t<p>{total_duration}</p>\n\t\t\t</div>\n\t\t\t<div className=\"btn-group\">\n\t\t\t\t<Button icon={faEdit} color=\"green\" size=\"sm\" onClick={() => openEditModal(cycle)} aria-label=\"Edit\" />\n\t\t\t\t<Button icon={faTrash} color=\"red\" size=\"sm\" onClick={() => openDeleteModal(cycle)} aria-label=\"Delete\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nCycleItem.propTypes = {\n\tcycle: PropTypes.shape({\n\t\tid: PropTypes.string.isRequired,\n\t\ttitle: PropTypes.string.isRequired,\n\t\ttotal_duration: PropTypes.string.isRequired,\n\t}).isRequired,\n\topenEditModal: PropTypes.func.isRequired,\n\topenDeleteModal: PropTypes.func.isRequired,\n}\n\nexport default CycleItem;\n","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'cycles';\n\n// REDUCER\nconst cyclesReducer = createApiReducer(ENTITY_NAME);\nexport default cyclesReducer;\n\n// OPERATIONS\nexport const createCycle = ({ title }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n\treturn axios.post(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\t{\n\t\t\ttitle,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, {\n\t\t\t\t...res.data,\n\t\t\t\ttotal_duration: \"00:00:00\",\n\t\t\t}));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to create cycle.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n\t\t});\n\t;\n};\n\nexport const retrieveCycle = cycleId => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE, cycleId));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/${cycleId}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch cycle.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n\t\t});\n\t;\n};\n\nexport const updateCycle = ({ id, title }) => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE, id));\n\n\treturn axios.patch(\n\t\t`${API_URL}/${ENTITY_NAME}/${id}/`,\n\t\t{\n\t\t\ttitle,\n\t\t},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to update cycle.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n\t\t});\n};\n\nexport const deleteCycle = cycleId => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.DELETE));\n\n\treturn axios.delete(\n\t\t`${API_URL}/${ENTITY_NAME}/${cycleId}/`,\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(() => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.DELETE, cycleId));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to delete cycle.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.DELETE, err));\n\t\t});\n};\n\nexport const listCycles = () => (dispatch, getState) => {\n\tdispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.LIST));\n\n\treturn axios.get(\n\t\t`${API_URL}/${ENTITY_NAME}/`,\n\t\tgetTokenConfig(getState),\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch cycles.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n\t\t});\n};\n\n// SELECTORS\nexport const selectCyclesLoading = state => state.cyclesReducer.loading[METHODS.LIST] === true;\nexport const selectCyclesError = state => state.cyclesReducer.error[METHODS.LIST];\nexport const selectCycles = state => state.cyclesReducer.items;\n\nexport const selectCycleLoading = state => state.cyclesReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectCycleError = state => state.cyclesReducer.error[METHODS.RETRIEVE];\nexport const selectCycle = state => state.cyclesReducer.item;\nexport const selectCycleId = state => state.cyclesReducer.itemId;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FlipMove from 'react-flip-move';\n\nimport CycleForm from '../CycleForm';\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport Loader from '../../components/Loader';\nimport CycleItem from '../CycleItem';\nimport { createCycle, updateCycle, deleteCycle, listCycles, selectCycles, selectCyclesLoading, selectCyclesError } from '../../redux/ducks/cycles';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport empty from './empty.svg';\nimport DeleteForm from '../../components/DeleteForm';\n\nexport class CycleList extends Component {\n\tstate = {\n\t\tmodalCycle: null,\n\t\t[MODAL_TYPES.CREATE]: false,\n\t\t[MODAL_TYPES.EDIT]: false,\n\t\t[MODAL_TYPES.DELETE]: false,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tprops.listCycles();\n\t}\n\n\thandleVisibilityChange = (modal, isVisible) => {\n\t\tthis.setState({\n\t\t\t[modal]: isVisible,\n\t\t});\n\t}\n\n\topenModal = (modal, modalCycle) => {\n\t\tthis.setState({\n\t\t\t[modal]: true,\n\t\t\tmodalCycle,\n\t\t});\n\n\t\tif (modal === MODAL_TYPES.CREATE)\n\t\t\tthis.createFormRef.reset();\n\t\telse if (modal === MODAL_TYPES.EDIT)\n\t\t\tthis.editFormRef.reset(modalCycle);\n\t}\n\n\thandleCreateCycle = cycle => {\n\t\tconst {\n\t\t\tcreateCycle,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: false,\n\t\t});\n\n\t\tcreateCycle(cycle);\n\t}\n\n\thandleEditCycle = cycle => {\n\t\tconst {\n\t\t\tupdateCycle,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.EDIT]: false,\n\t\t});\n\n\t\tupdateCycle({ ...this.state.modalCycle, ...cycle });\n\t}\n\n\thandleDeleteCycle = isConfirm => {\n\t\tconst {\n\t\t\tdeleteCycle,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.DELETE]: false,\n\t\t});\n\n\t\tif (isConfirm)\n\t\t\tdeleteCycle(this.state.modalCycle.id);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcycles,\n\t\t\tcyclesLoading,\n\t\t\tcyclesError,\n\t\t} = this.props;\n\n\t\tif (cyclesLoading)\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Cycles</h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\tif (!cycles || cyclesError)\n\t\t\treturn <Redirect to=\"/\" />;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Cycles</h2>\n\t\t\t\t<div className=\"mb-20\">\n\t\t\t\t\t<Button icon={faPlus} color=\"blue\" onClick={() => this.openModal(MODAL_TYPES.CREATE)}>Create Cycle</Button>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tcycles.length !== 0\n\t\t\t\t\t\t? <FlipMove className=\"item-list\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcycles.map(cycle => (\n\t\t\t\t\t\t\t\t\t<CycleItem\n\t\t\t\t\t\t\t\t\t\tkey={cycle.id}\n\t\t\t\t\t\t\t\t\t\tcycle={cycle}\n\t\t\t\t\t\t\t\t\t\topenEditModal={cycle => this.openModal(MODAL_TYPES.EDIT, cycle)}\n\t\t\t\t\t\t\t\t\t\topenDeleteModal={cycle => this.openModal(MODAL_TYPES.DELETE, cycle)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t\t: <div className=\"grid mt-40\">\n\t\t\t\t\t\t\t<div className=\"center-wide\">\n\t\t\t\t\t\t\t\t<img className=\"mb-20\" src={empty} alt=\"Empty street\" />\n\t\t\t\t\t\t\t\t<h3>No Cycles</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Create Cycle\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.CREATE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.CREATE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<CycleForm onSubmit={this.handleCreateCycle} ref={createForm => this.createFormRef = createForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Edit Cycle\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.EDIT]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.EDIT, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<CycleForm onSubmit={this.handleEditCycle} ref={editForm => this.editFormRef = editForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Delete Cycle\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.DELETE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.DELETE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteForm onSubmit={this.handleDeleteCycle} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nCycleList.propTypes = {\n\tcycles: PropTypes.array.isRequired,\n\tcyclesLoading: PropTypes.bool.isRequired,\n\tcyclesError: PropTypes.object,\n\n\tcreateCycle: PropTypes.func.isRequired,\n\tupdateCycle: PropTypes.func.isRequired,\n\tdeleteCycle: PropTypes.func.isRequired,\n\tlistCycles: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tcycles: selectCycles(state),\n\tcyclesLoading: selectCyclesLoading(state),\n\tcyclesError: selectCyclesError(state),\n});\n\nconst dispatchers = {\n\tcreateCycle,\n\tupdateCycle,\n\tdeleteCycle,\n\tlistCycles,\n};\n\nexport default connect(mapStateToProps, dispatchers)(CycleList);","import axios from 'axios';\n\nimport { API_URL } from '../../utils/constants';\nimport { STATUSES, METHODS, createApiAction, createApiReducer, getTokenConfig, displayErrorMsgOrUnauth } from './helpers';\n\nexport const ENTITY_NAME = 'timers';\n\n// REDUCER\nconst timersReducer = createApiReducer(ENTITY_NAME);\nexport default timersReducer;\n\n// OPERATIONS\nexport const createTimer = (cycleId, { title, duration, color }) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.CREATE));\n\n    return axios.post(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/`,\n        {\n            title,\n            duration,\n            color,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.CREATE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to create timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.CREATE, err));\n        });\n    ;\n};\n\nexport const retrieveTimer = (cycleId, timerId) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.RETRIEVE, timerId));\n\n    return axios.get(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/${timerId}/`,\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.RETRIEVE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.RETRIEVE, err));\n        });\n    ;\n};\n\nexport const updateTimer = (cycleId, { id, title, duration, color }) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.UPDATE, id));\n\n    return axios.patch(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/${id}/`,\n        {\n            title,\n            duration,\n            color,\n        },\n        getTokenConfig(getState)\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.UPDATE, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to update timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.UPDATE, err));\n        });\n};\n\nexport const deleteTimer = (cycleId, timerId) => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.DELETE));\n\n    return axios.delete(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/${timerId}/`,\n        getTokenConfig(getState)\n    )\n        .then(() => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.DELETE, timerId));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to delete timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.DELETE, err));\n        });\n};\n\nexport const listTimers = cycleId => (dispatch, getState) => {\n    dispatch(createApiAction(ENTITY_NAME, STATUSES.REQUEST, METHODS.LIST));\n\n    return axios.get(\n        `${API_URL}/cycles/${cycleId}/${ENTITY_NAME}/`,\n        getTokenConfig(getState),\n    )\n        .then(res => {\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n        })\n        .catch(err => {\n            displayErrorMsgOrUnauth(err, dispatch, \"Unable to fetch timers.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n        });\n};\n\nexport const moveUpTimer = (cycleId, timerId) => (dispatch, getState) => {\n\treturn axios.post(\n        `${API_URL}/cycles/${cycleId}/timers/${timerId}/move-up/`,\n        {},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to move up timer.\");\n            dispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n\t\t});\n\t;\n};\n\nexport const moveDownTimer = (cycleId, timerId) => (dispatch, getState) => {\n\treturn axios.post(\n        `${API_URL}/cycles/${cycleId}/timers/${timerId}/move-down/`,\n        {},\n\t\tgetTokenConfig(getState)\n\t)\n\t\t.then(res => {\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.SUCCESS, METHODS.LIST, res.data));\n\t\t})\n\t\t.catch(err => {\n\t\t\tdisplayErrorMsgOrUnauth(err, dispatch, \"Unable to move down timer.\");\n\t\t\tdispatch(createApiAction(ENTITY_NAME, STATUSES.FAILURE, METHODS.LIST, err));\n\t\t});\n\t;\n};\n\n// SELECTORS\nexport const selectTimersLoading = state => state.timersReducer.loading[METHODS.LIST] === true;\nexport const selectTimersError = state => state.timersReducer.error[METHODS.LIST];\nexport const selectTimers = state => state.timersReducer.items;\n\nexport const selectTimerLoading = state => state.timersReducer.loading[METHODS.RETRIEVE] === true;\nexport const selectTimerError = state => state.timersReducer.error[METHODS.RETRIEVE];\nexport const selectTimer = state => state.timersReducer.item;\n","import moment from 'moment';\n\nexport const durationStrToSec = durationStr => moment.duration(durationStr).asSeconds();\n\nexport const durationSecToMMss = durationSec => {\n\tconst minutes = Math.floor(durationSec / 60);\n\tconst seconds = Math.floor(durationSec % 60);\n\n\treturn [minutes, seconds]\n\t\t.map(v => v < 10 ? \"0\" + v : v)\n\t\t.join(\":\");\n};\n\nexport const durationStrToMMss = durationStr => durationSecToMMss(durationStrToSec(durationStr));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport ColorSelect from '../../components/ColorSelect';\nimport { durationStrToMMss } from '../../utils/time';\n\nexport default class CycleForm extends Component {\n\tstate = {\n\t\ttitle: \"\",\n\t\tduration: \"\",\n\t\tcolor: undefined,\n\t}\n\n\treset = cycle => {\n\t\tif (cycle) {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\tduration,\n\t\t\t\tcolor,\n\t\t\t} = cycle;\n\n\t\t\tthis.setState({\n\t\t\t\ttitle,\n\t\t\t\tduration: durationStrToMMss(duration),\n\t\t\t\tcolor,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttitle: \"\",\n\t\t\t\tduration: \"\",\n\t\t\t\tcolor: undefined,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\t\n\thandleColorChange = color => {\n\t\tthis.setState({\n\t\t\tcolor: color,\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tduration,\n\t\t\tcolor,\n\t\t} = this.state;\n\n\t\tthis.props.onSubmit({\n\t\t\ttitle,\n\t\t\tduration,\n\t\t\tcolor,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tduration,\n\t\t\tcolor,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"title\">Title</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"duration\">Duration</label>\n\t\t\t\t\t<p className=\"small\">Format: mm:ss, ss</p>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"duration\"\n\t\t\t\t\t\tname=\"duration\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={duration}\n\t\t\t\t\t\tpattern=\"^\\d+(:\\d+)?$\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"color\">Color</label>\n\t\t\t\t\t<ColorSelect\n\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\tonChange={this.handleColorChange}\n\t\t\t\t\t\tvalue={color}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button icon={faPaperPlane}>Submit</Button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nCycleForm.propTypes = {\n\tonSubmit: PropTypes.func.isRequired,\n};\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../../components/Button';\nimport { faEdit, faTrash, faChevronUp, faChevronDown } from '@fortawesome/free-solid-svg-icons';\n\nimport './index.scss';\nimport { durationStrToMMss } from '../../utils/time';\nimport FadeTransition from '../../components/FadeTransition';\n\nexport const TimerItem = forwardRef((props, ref) => {\n\tconst {\n\t\ttimer: {\n\t\t\ttitle,\n\t\t\tduration,\n\t\t\tcolor: colorId,\n\t\t},\n\t\tcolors,\n\t\tisEditable,\n\t\tisCurrentTimer,\n\t\topenEditModal,\n\t\topenDeleteModal,\n\t\tmoveUpTimer,\n\t\tmoveDownTimer,\n\t} = props;\n\n\treturn (\n\t\t<div className={`timer-item${isCurrentTimer ? \" current-timer-item\" : \"\"}`} ref={ref}>\n\t\t\t<div className=\"item\">\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"mb-0\">{title}</h3>\n\t\t\t\t\t\t<p className=\"mb-0\">{durationStrToMMss(duration)}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<FadeTransition in={isEditable}>\n\t\t\t\t\t\t<div className=\"btn-group mt-10\">\n\t\t\t\t\t\t\t<Button icon={faEdit} color=\"green\" size=\"sm\" onClick={openEditModal} aria-label=\"Edit\" />\n\t\t\t\t\t\t\t<Button icon={faTrash} color=\"red\" size=\"sm\" onClick={openDeleteModal} aria-label=\"Delete\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FadeTransition>\n\t\t\t\t</div>\n\t\t\t\t<FadeTransition in={isEditable}>\n\t\t\t\t\t<div className=\"btn-group btn-group-vertical\">\n\t\t\t\t\t\t{moveUpTimer && <Button icon={faChevronUp} color=\"white\" size=\"sm\" onClick={moveUpTimer} aria-label=\"Move up\" />}\n\t\t\t\t\t\t{moveDownTimer && <Button icon={faChevronDown} color=\"white\" size=\"sm\" onClick={moveDownTimer} aria-label=\"Move down\" />}\n\t\t\t\t\t</div>\n\t\t\t\t</FadeTransition>\n\t\t\t</div>\n\t\t\t<div className=\"timer-colour\" style={{ backgroundColor: colors.find(color => color.id === colorId).hex_code }}></div>\n\t\t</div>\n\t)\n});\n\nTimerItem.propTypes = {\n\ttimer: PropTypes.shape({\n\t\ttitle: PropTypes.string.isRequired,\n\t\tduration: PropTypes.string.isRequired,\n\t\tcolor: PropTypes.number.isRequired,\n\t}).isRequired,\n\tcolors: PropTypes.array.isRequired,\n\tisEditable: PropTypes.bool.isRequired,\n\tisCurrentTimer: PropTypes.bool.isRequired,\n\topenEditModal: PropTypes.func.isRequired,\n\topenDeleteModal: PropTypes.func.isRequired,\n\tmoveUpTimer: PropTypes.func,\n\tmoveDownTimer: PropTypes.func,\n}\n\nexport default TimerItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FlipMove from 'react-flip-move';\n\nimport TimerForm from '../TimerForm';\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport TimerItem from '../TimerItem';\nimport { createTimer, updateTimer, deleteTimer, moveUpTimer, moveDownTimer } from '../../redux/ducks/timers';\nimport { MODAL_TYPES } from '../../utils/constants';\nimport empty from './empty.svg';\nimport DeleteForm from '../../components/DeleteForm';\nimport FadeTransition from '../../components/FadeTransition';\n\nexport class TimerList extends Component {\n\tstate = {\n\t\tmodalTimer: null,\n\t\t[MODAL_TYPES.CREATE]: false,\n\t\t[MODAL_TYPES.EDIT]: false,\n\t\t[MODAL_TYPES.DELETE]: false,\n\t}\n\n\thandleVisibilityChange = (modal, isVisible) => {\n\t\tthis.setState({\n\t\t\t[modal]: isVisible,\n\t\t});\n\t}\n\n\topenModal = (modal, modalTimer) => {\n\t\tthis.setState({\n\t\t\t[modal]: true,\n\t\t\tmodalTimer,\n\t\t});\n\n\t\tif (modal === MODAL_TYPES.CREATE)\n\t\t\tthis.createFormRef.reset();\n\t\telse if (modal === MODAL_TYPES.EDIT)\n\t\t\tthis.editFormRef.reset(modalTimer);\n\t}\n\n\thandleCreateTimer = timer => {\n\t\tconst {\n\t\t\tcycleId,\n\t\t\tcreateTimer,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.CREATE]: false,\n\t\t});\n\n\t\tcreateTimer(cycleId, timer);\n\t}\n\n\thandleEditTimer = timer => {\n\t\tconst {\n\t\t\tcycleId,\n\t\t\tupdateTimer,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.EDIT]: false,\n\t\t});\n\n\t\tupdateTimer(cycleId, { ...this.state.modalTimer, ...timer });\n\t}\n\n\thandleDeleteTimer = isConfirm => {\n\t\tconst {\n\t\t\tcycleId,\n\t\t\tdeleteTimer,\n\t\t} = this.props;\n\n\t\tthis.setState({\n\t\t\t[MODAL_TYPES.DELETE]: false,\n\t\t});\n\n\t\tif (isConfirm)\n\t\t\tdeleteTimer(cycleId, this.state.modalTimer.id);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t\tcycleId,\n\t\t\ttimers,\n\t\t\tcolors,\n\t\t\tmoveUpTimer,\n\t\t\tmoveDownTimer,\n\t\t\tisEditable,\n\t\t\tsetEditable,\n\t\t} = this.props;\n\n\t\tconst currentTimerId = currentTimer ? currentTimer.id : null;\n\n\t\tlet timerElements = timers.map((timer, i) => (\n\t\t\t<TimerItem\n\t\t\t\tkey={timer.id}\n\t\t\t\ttimer={timer}\n\t\t\t\topenEditModal={() => this.openModal(MODAL_TYPES.EDIT, timer)}\n\t\t\t\topenDeleteModal={() => this.openModal(MODAL_TYPES.DELETE, timer)}\n\t\t\t\tisEditable={isEditable && timer.id !== currentTimerId}\n\t\t\t\tmoveUpTimer={i !== 0 ? () => moveUpTimer(cycleId, timer.id) : null}\n\t\t\t\tmoveDownTimer={i !== timers.length - 1 ? () => moveDownTimer(cycleId, timer.id) : null}\n\t\t\t\tcolors={colors}\n\t\t\t\tisCurrentTimer={timer.id === currentTimerId}\n\t\t\t/>\n\t\t));\n\n\t\ttimerElements.push(<hr key=\"divider\" className=\"my-30\" />);\n\t\tconst currentTimerIndex = timers.findIndex(timer => timer.id === currentTimerId);\n\n\t\tif (currentTimerIndex !== -1)\n\t\t\ttimerElements = timerElements.slice(currentTimerIndex).concat(timerElements.slice(0, currentTimerIndex));\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Timers</h2>\n\t\t\t\t<div className=\"btn-group mb-20\">\n\t\t\t\t\t<FadeTransition in={isEditable}>\n\t\t\t\t\t\t<Button icon={faPlus} color=\"blue\" onClick={() => this.openModal(MODAL_TYPES.CREATE)}>Create Timer</Button>\n\t\t\t\t\t</FadeTransition>\n\t\t\t\t\t{\n\t\t\t\t\t\tisEditable\n\t\t\t\t\t\t\t? <Button key=\"edit-btn\" className=\"ml-auto mr-0\" color=\"faded-grey\" onClick={() => setEditable(false)}>Done</Button>\n\t\t\t\t\t\t\t: <Button key=\"edit-btn\" className=\"ml-auto mr-0\" color=\"green\" onClick={() => setEditable(true)}>Edit</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\ttimers.length !== 0\n\t\t\t\t\t\t? <FlipMove duration={200} easing=\"ease-out\">\n\t\t\t\t\t\t\t{timerElements}\n\t\t\t\t\t\t</FlipMove>\n\t\t\t\t\t\t: <div className=\"grid mt-40\">\n\t\t\t\t\t\t\t<div className=\"center-wide\">\n\t\t\t\t\t\t\t\t<img className=\"mb-20\" src={empty} alt=\"Empty street\" />\n\t\t\t\t\t\t\t\t<h3>No Timers</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Create Timer\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.CREATE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.CREATE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<TimerForm onSubmit={this.handleCreateTimer} ref={createForm => this.createFormRef = createForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Edit Timer\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.EDIT]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.EDIT, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<TimerForm onSubmit={this.handleEditTimer} ref={editForm => this.editFormRef = editForm} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal\n\t\t\t\t\ttitle=\"Delete Timer\"\n\t\t\t\t\tisVisible={this.state[MODAL_TYPES.DELETE]}\n\t\t\t\t\tonVisibilityChange={visibility => this.handleVisibilityChange(MODAL_TYPES.DELETE, visibility)}\n\t\t\t\t>\n\t\t\t\t\t<DeleteForm onSubmit={this.handleDeleteTimer} />\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTimerList.propTypes = {\n\tcurrentTimer: PropTypes.object,\n\tcycleId: PropTypes.string.isRequired,\n\ttimers: PropTypes.array.isRequired,\n\tcolors: PropTypes.array.isRequired,\n\tisEditable: PropTypes.bool.isRequired,\n\tsetEditable: PropTypes.func.isRequired,\n\n\tcreateTimer: PropTypes.func.isRequired,\n\tupdateTimer: PropTypes.func.isRequired,\n\tdeleteTimer: PropTypes.func.isRequired,\n\tmoveUpTimer: PropTypes.func.isRequired,\n\tmoveDownTimer: PropTypes.func.isRequired,\n}\n\nconst dispatchers = {\n\tcreateTimer,\n\tupdateTimer,\n\tdeleteTimer,\n\tmoveUpTimer,\n\tmoveDownTimer,\n};\n\nexport default connect(() => ({}), dispatchers)(TimerList);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { faPause, faPlay, faStop, faLink, faUnlink, faVolumeUp, faVolumeMute, faStepBackward, faStepForward } from '@fortawesome/free-solid-svg-icons';\n\nimport Button from '../../components/Button';\nimport './index.scss';\nimport ding from './ding.mp3';\nimport { durationSecToMMss, durationStrToSec } from '../../utils/time';\n\nconst MIN_INTERVAL = 250;\n\nexport class TimerDisplay extends Component {\n\tstate = {\n\t\tnonce: 0,\n\t\ttimerEvents: [],\n\t\tautoPlay: true,\n\t\tsound: true,\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval);\n\t}\n\n\tgetSecondsLeft = () => {\n\t\tconst {\n\t\t\ttimerEvents,\n\t\t} = this.state;\n\n\t\tlet timeElapsed = 0;\n\n\t\tfor (let i = 0; i < timerEvents.length; i += 2) {\n\t\t\tlet startTime, endTime;\n\n\t\t\tif (i + 1 < timerEvents.length) {\n\t\t\t\tstartTime = timerEvents[i];\n\t\t\t\tendTime = timerEvents[i + 1];\n\n\t\t\t} else {\n\t\t\t\tstartTime = timerEvents[i];\n\t\t\t\tendTime = new Date();\n\t\t\t}\n\n\t\t\ttimeElapsed += endTime - startTime;\n\t\t}\n\n\t\treturn Math.max(this.getCurrentDuration() - (timeElapsed / 1000), 0);\n\t}\n\n\tgetTimeDisplay = () => {\n\t\tconst secondsLeft = Math.max(Math.round(this.getSecondsLeft()), 0);\n\t\treturn durationSecToMMss(secondsLeft);\n\t}\n\n\tisPaused = () => {\n\t\treturn this.state.timerEvents.length % 2 === 0;\n\t}\n\n\tgetCurrentDuration = () => {\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t} = this.props;\n\n\t\treturn currentTimer ? durationStrToSec(currentTimer.duration) : 0;\n\t}\n\n\ttick = () => {\n\t\tconst secondsLeft = this.getSecondsLeft();\n\n\t\tif (secondsLeft > 0) {\n\t\t\tthis.setState({\n\t\t\t\tnonce: this.state.nonce + 1,\n\t\t\t});\n\n\t\t} else {\n\t\t\tthis.pause();\n\n\t\t\tif (this.state.sound)\n\t\t\t\tnew Audio(ding).play();\n\n\t\t\tif (this.state.autoPlay) {\n\t\t\t\tthis.changeTimer();\n\t\t\t}\n\t\t}\n\n\t\tthis.updateCanvas();\n\t}\n\n\tchangeTimer = (next = true, play = true) => {\n\t\tconst newTimer = next ? this.props.getNextTimer() : this.props.getPreviousTimer();\n\n\t\tif (!newTimer)\n\t\t\treturn;\n\n\t\tconst duration = durationStrToSec(newTimer.duration);\n\n\t\tif (play) {\n\t\t\tclearInterval(this.interval);\n\t\t\tthis.interval = setInterval(this.tick, Math.min(duration, MIN_INTERVAL));\n\t\t\tthis.setState({\n\t\t\t\tnonce: 0,\n\t\t\t\ttimerEvents: [new Date()],\n\t\t\t});\n\n\t\t} else {\n\t\t\tclearInterval(this.interval);\n\t\t\tthis.setState({\n\t\t\t\tnonce: 0,\n\t\t\t\ttimerEvents: [],\n\t\t\t});\n\t\t\tthis.updateCanvas(newTimer);\n\t\t}\n\t}\n\n\tplay = () => {\n\t\tif (!this.isPaused())\n\t\t\treturn;\n\n\t\tif (this.getSecondsLeft() <= 0) {\n\t\t\tthis.changeTimer();\n\n\t\t} else {\n\t\t\tconst duration = this.getCurrentDuration();\n\t\t\tclearInterval(this.interval);\n\t\t\tthis.interval = setInterval(this.tick, Math.min(duration, MIN_INTERVAL));\n\t\t\tthis.setState({\n\t\t\t\ttimerEvents: [...this.state.timerEvents, new Date()],\n\t\t\t});\n\t\t}\n\t}\n\n\tpause = () => {\n\t\tif (this.isPaused())\n\t\t\treturn;\n\n\t\tclearInterval(this.interval);\n\t\tthis.setState({\n\t\t\ttimerEvents: [...this.state.timerEvents, new Date()],\n\t\t});\n\t}\n\n\tstop = () => {\n\t\tthis.setState({\n\t\t\tnonce: 0,\n\t\t\ttimerEvents: [],\n\t\t});\n\t\tclearInterval(this.interval);\n\t\tthis.props.clearCurrentTimer();\n\t}\n\n\tupdateCanvas = (newTimer = null) => {\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t\tcolors,\n\t\t} = this.props;\n\n\t\tconst timer = newTimer ? newTimer : currentTimer;\n\n\t\tif (!timer)\n\t\t\treturn;\n\n\t\tlet canvas = this.canvasRef;\n\n\t\tif (canvas) {\n\t\t\tlet ctx = canvas.getContext('2d');\n\n\t\t\tlet width = canvas.width;\n\t\t\tlet height = canvas.height;\n\n\t\t\tvar cx = width / 2;\n\t\t\tvar cy = height / 2;\n\n\t\t\tconst percentage = newTimer ? 1 : this.getSecondsLeft() / this.getCurrentDuration();\n\t\t\tconst color = colors.find(color => color.id === timer.color);\n\n\t\t\tctx.globalCompositeOperation = 'destination-over';\n\t\t\tctx.clearRect(0, 0, width, height);\n\n\t\t\tctx.save();\n\n\t\t\tctx.fillStyle = color ? color.hex_code : null;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(cx, cy);\n\t\t\tctx.arc(cx, cy, width / 2, -Math.PI / 2, -Math.PI / 2 + percentage * 2 * Math.PI);\n\t\t\tctx.lineTo(cx, cy);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t\tisDisabled,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tautoPlay,\n\t\t\tsound,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"timer-display\">\n\t\t\t\t<div className=\"progress-circle\">\n\t\t\t\t\t<canvas className=\"outer-circle\" ref={canvas => this.canvasRef = canvas} height=\"600px\" width=\"600px\" style={{ display: currentTimer ? \"block\" : \"none\" }}></canvas>\n\t\t\t\t\t<div className=\"inner-circle\">\n\t\t\t\t\t\t<p>{this.getTimeDisplay()}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\t!isDisabled &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcurrentTimer &&\n\t\t\t\t\t\t\t<h3>{currentTimer.title}</h3>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t<Button icon={faStepBackward} color=\"faded-grey\" onClick={() => this.changeTimer(false, false)} aria-label=\"Previous timer\" />\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.isPaused()\n\t\t\t\t\t\t\t\t\t? <Button icon={faPlay} color=\"faded-grey\" onClick={this.play} aria-label=\"Play\" />\n\t\t\t\t\t\t\t\t\t: <Button icon={faPause} color=\"faded-grey\" onClick={this.pause} aria-label=\"Pause\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Button icon={faStop} color=\"faded-grey\" onClick={this.stop} aria-label=\"Stop\" />\n\t\t\t\t\t\t\t<Button icon={faStepForward} color=\"faded-grey\" onClick={() => this.changeTimer(true, false)} aria-label=\"Next timer\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t\t\t<Button icon={autoPlay ? faLink : faUnlink} color={autoPlay ? \"dark-grey\" : \"faded-grey\"} onClick={() => this.setState({ autoPlay: !autoPlay })}>Auto-play: {autoPlay ? \"On\" : \"Off\"}</Button>\n\t\t\t\t\t\t\t<Button icon={sound ? faVolumeUp : faVolumeMute} color={sound ? \"dark-grey\" : \"faded-grey\"} onClick={() => this.setState({ sound: !sound })}>Sound: {sound ? \"On\" : \"Off\"}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nTimerDisplay.propTypes = {\n\tcurrentTimer: PropTypes.shape({\n\t\ttitle: PropTypes.string.isRequired,\n\t\tduration: PropTypes.string.isRequired,\n\t\tcolor: PropTypes.number.isRequired,\n\t}),\n\tcolors: PropTypes.array.isRequired,\n\tclearCurrentTimer: PropTypes.func.isRequired,\n\tgetPreviousTimer: PropTypes.func.isRequired,\n\tgetNextTimer: PropTypes.func.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n}\n\nexport default TimerDisplay;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { Helmet } from \"react-helmet\";\n\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport Loader from '../../components/Loader';\nimport { retrieveCycle, selectCycle, selectCycleId, selectCycleLoading, selectCycleError } from '../../redux/ducks/cycles';\nimport { listTimers, selectTimers, selectTimersLoading, selectTimersError } from '../../redux/ducks/timers';\nimport { listColors, selectColors, selectColorsLoading, selectColorsError } from '../../redux/ducks/colors';\nimport TimerList from '../TimerList';\nimport TimerDisplay from '../TimerDisplay';\n\nexport class CycleDetailPage extends Component {\n\tstate = {\n\t\tisEditable: false,\n\t\tcurrentTimer: null,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst cycleId = props.match.params.cycleId;\n\t\tprops.retrieveCycle(cycleId);\n\t\tprops.listTimers(cycleId);\n\t\tprops.listColors();\n\t}\n\n\tgetTimer = (next = true) => {\n\t\tconst {\n\t\t\ttimers,\n\t\t\ttimersLoading,\n\t\t\ttimersError,\n\t\t\tcolors,\n\t\t\tcolorsLoading,\n\t\t\tcolorsError,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tcurrentTimer,\n\t\t} = this.state;\n\n\t\tlet timer = null;\n\n\t\tif (timers && !timersLoading && !timersError && colors && !colorsLoading && !colorsError && timers.length !== 0) {\n\t\t\tif (currentTimer === null) {\n\t\t\t\ttimer = next ? timers[0] : timers[timers.length - 1];\n\n\t\t\t} else {\n\t\t\t\tconst currentTimerIndex = timers.findIndex(timer => timer.id === currentTimer.id);\n\t\t\t\ttimer = next ? timers[(currentTimerIndex + 1) % timers.length] : timers[(currentTimerIndex + timers.length - 1) % timers.length];\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({\n\t\t\tcurrentTimer: timer,\n\t\t});\n\t\treturn timer;\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcycle,\n\t\t\tcycleId,\n\t\t\tcycleLoading,\n\t\t\tcycleError,\n\t\t\ttimers,\n\t\t\ttimersLoading,\n\t\t\ttimersError,\n\t\t\tcolors,\n\t\t\tcolorsLoading,\n\t\t\tcolorsError,\n\t\t\tmatch: {\n\t\t\t\tparams\n\t\t\t}\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tisEditable,\n\t\t\tcurrentTimer,\n\t\t} = this.state;\n\n\t\tif (cycleLoading || cycleId !== params.cycleId || timersLoading || colorsLoading)\n\t\t\treturn <Loader />;\n\n\t\tif (!cycle || cycleError || !timers || timersError || !colors || colorsError)\n\t\t\treturn <Redirect to=\"/time-cycles\" />;\n\n\t\tconst {\n\t\t\ttitle,\n\t\t} = cycle;\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>{`Time Cycles | ${title}`}</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<Breadcrumbs\n\t\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t\t{ title: \"Time Cycles\", to: \"/time-cycles\" },\n\t\t\t\t\t\t{ title },\n\t\t\t\t\t]} />\n\t\t\t\t<div className=\"side-by-side\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1>{title}</h1>\n\t\t\t\t\t\t<TimerDisplay\n\t\t\t\t\t\t\tcurrentTimer={currentTimer}\n\t\t\t\t\t\t\tcolors={colors}\n\t\t\t\t\t\t\tclearCurrentTimer={() => this.setState({ currentTimer: null })}\n\t\t\t\t\t\t\tgetPreviousTimer={() => this.getTimer(false)}\n\t\t\t\t\t\t\tgetNextTimer={() => this.getTimer(true)}\n\t\t\t\t\t\t\tisDisabled={timers.length === 0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<TimerList\n\t\t\t\t\t\ttimers={timers}\n\t\t\t\t\t\tcolors={colors}\n\t\t\t\t\t\tcycleId={cycleId}\n\t\t\t\t\t\tisEditable={isEditable}\n\t\t\t\t\t\tsetEditable={isEditable => this.setState({ isEditable })}\n\t\t\t\t\t\tcurrentTimer={currentTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nCycleDetailPage.propTypes = {\n\tmatch: PropTypes.shape({\n\t\tparams: PropTypes.shape({\n\t\t\tcycleId: PropTypes.string.isRequired,\n\t\t}).isRequired,\n\t}).isRequired,\n\t\n\ttimers: PropTypes.array.isRequired,\n\ttimersLoading: PropTypes.bool.isRequired,\n\ttimersError: PropTypes.object,\n\n\tcolors: PropTypes.array.isRequired,\n\tcolorsLoading: PropTypes.bool.isRequired,\n\tcolorsError: PropTypes.object,\n\n\tretrieveCycle: PropTypes.func.isRequired,\n\tlistTimers: PropTypes.func.isRequired,\n\tlistColors: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tcycle: selectCycle(state),\n\tcycleId: selectCycleId(state),\n\tcycleLoading: selectCycleLoading(state),\n\tcycleError: selectCycleError(state),\n\n\ttimers: selectTimers(state),\n\ttimersLoading: selectTimersLoading(state),\n\ttimersError: selectTimersError(state),\n\n\tcolors: selectColors(state),\n\tcolorsLoading: selectColorsLoading(state),\n\tcolorsError: selectColorsError(state),\n});\n\nconst dispatchers = {\n\tretrieveCycle,\n\tlistTimers,\n\tlistColors,\n};\n\nexport default connect(mapStateToProps, dispatchers)(CycleDetailPage);\n","import CycleListPage from './CycleListPage';\nimport CycleDetailPage from './CycleDetailPage';\n\nexport const ROUTES = [\n\t{\n\t\tpath: \"/time-cycles\",\n\t\texact: true,\n\t\tcomponent: CycleListPage,\n\t},\n\t{\n\t\tpath: \"/time-cycles/:cycleId\",\n\t\texact: true,\n\t\tcomponent: CycleDetailPage,\n\t}\n]\n\nexport default ROUTES;\n","import React from 'react';\nimport { Helmet } from \"react-helmet\";\n\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport CycleList from '../CycleList';\n\nexport default function CycleListPage() {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Helmet>\n\t\t\t\t<title>Time Cycles</title>\n\t\t\t</Helmet>\n\t\t\t<Breadcrumbs\n\t\t\t\tbreadcrumbs={[\n\t\t\t\t\t{ title: \"Home\", to: \"/\" },\n\t\t\t\t\t{ title: \"Time Cycles\" },\n\t\t\t\t]} />\n\t\t\t<h1>Time Cycles</h1>\n\t\t\t<CycleList/>\n\t\t</div>\n\t);\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { HashRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport Errors from '../Errors';\nimport Loader from '../../components/Loader';\nimport HomePage from '../HomePage';\nimport NotFoundPage from '../NotFoundPage';\nimport RedirectToNext from '../RedirectToNext';\n\nimport { GUEST_AUTH_ROUTES, USER_AUTH_ROUTES } from '../../auth/routes';\nimport DAYS_SINCE_ROUTES from '../../days-since/routes';\nimport TIME_CYCLES_ROUTES from '../../time-cycles/routes';\n\nimport { refreshTokenLogin, selectRefreshToken, selectAccessToken, selectLoginLoading, selectLoginError } from '../../redux/ducks/auth';\n\nexport class AppRouter extends Component {\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\trefreshToken,\n\t\t\trefreshTokenLogin,\n\t\t} = this.props;\n\n\t\tif (refreshToken)\n\t\t\trefreshTokenLogin();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tloginLoading,\n\t\t\tloginError,\n\t\t\trefreshToken,\n\t\t\taccessToken,\n\t\t} = this.props;\n\n\t\tif ((refreshToken && !accessToken) || loginLoading)\n\t\t\treturn <Loader />;\n\n\t\tif (!accessToken || loginError) {\n\t\t\treturn (\n\t\t\t\t<Router>\n\t\t\t\t\t<Errors />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tGUEST_AUTH_ROUTES.map((route, i) => <Route key={i} {...route} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\tfrom=\"/:next\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tto=\"/login?next=:next\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\tfrom=\"/\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t);\n\n\t\t} else {\n\t\t\tlet allRoutes = [\n\t\t\t\t...USER_AUTH_ROUTES,\n\t\t\t\t...DAYS_SINCE_ROUTES,\n\t\t\t\t...TIME_CYCLES_ROUTES,\n\t\t\t];\n\n\t\t\treturn (\n\t\t\t\t<Router>\n\t\t\t\t\t<Errors />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={HomePage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallRoutes.map((route, i) => <Route key={i} {...route} />)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={RedirectToNext}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tGUEST_AUTH_ROUTES.map((route, i) => (\n\t\t\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\t\t\tkey={`auth-${i}`}\n\t\t\t\t\t\t\t\t\tfrom={route.path}\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/not-found\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={NotFoundPage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\tfrom=\"/\"\n\t\t\t\t\t\t\tto=\"/not-found\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t)\n\t\t}\n\t}\n}\n\nAppRouter.propTypes = {\n\tloginLoading: PropTypes.bool.isRequired,\n\tloginError: PropTypes.object,\n\trefreshToken: PropTypes.string,\n\taccessToken: PropTypes.string,\n\n\trefreshTokenLogin: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n\tloginLoading: selectLoginLoading(state),\n\tloginError: selectLoginError(state),\n\trefreshToken: selectRefreshToken(state),\n\taccessToken: selectAccessToken(state),\n});\n\nconst dispatchers = {\n\trefreshTokenLogin,\n};\n\nexport default connect(mapStateToProps, dispatchers)(AppRouter);\n","import { combineReducers } from 'redux';\n\nimport errorsReducer from './ducks/errors';\nimport authReducer from './ducks/auth';\nimport colorsReducer from './ducks/colors';\nimport timezonesReducer from './ducks/timezones';\nimport profileReducer from './ducks/profile';\n\nimport activitiesReducer from './ducks/activities';\nimport activityEventsReducer from './ducks/activityEvents';\nimport activityStatisticsReducer from './ducks/activityStatistics';\n\nimport cyclesReducer from './ducks/cycles';\nimport timersReducer from './ducks/timers';\n\nexport default combineReducers({\n\t// Common\n\terrorsReducer,\n\tauthReducer,\n\tcolorsReducer,\n\ttimezonesReducer,\n\tprofileReducer,\n\n\t// Days Since\n\tactivitiesReducer,\n\tactivityEventsReducer,\n\tactivityStatisticsReducer,\n\n\t// Time Cycles\n\tcyclesReducer,\n\ttimersReducer,\n});","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './rootReducer';\n\nconst initialState = {}\nconst middleware = [thunk];\n\nconst store = createStore(\n\trootReducer,\n\tinitialState,\n\tcompose(\n\t\tapplyMiddleware(...middleware),\n\t\t// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() // To use redux dev tools\n\t)\n);\n\nexport default store;","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport AppRouter from '../AppRouter';\nimport store from '../../redux/store';\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <AppRouter />\n        </Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './common/App';\nimport './styles/index.scss';\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('app-root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/not-found.b882863e.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.afc6d931.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.ca39146a.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.afc6d931.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.ca39146a.svg\";","module.exports = __webpack_public_path__ + \"static/media/ding.d82fffe4.mp3\";"],"sourceRoot":""}